(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function HT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var iy={exports:{}},Gd={},ay={exports:{}},tr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s1;function vZ(){if(s1)return tr;s1=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.iterator;function N(ge){return ge===null||typeof ge!="object"?null:(ge=T&&ge[T]||ge["@@iterator"],typeof ge=="function"?ge:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,z={};function H(ge,Le,ct){this.props=ge,this.context=Le,this.refs=z,this.updater=ct||O}H.prototype.isReactComponent={},H.prototype.setState=function(ge,Le){if(typeof ge!="object"&&typeof ge!="function"&&ge!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ge,Le,"setState")},H.prototype.forceUpdate=function(ge){this.updater.enqueueForceUpdate(this,ge,"forceUpdate")};function j(){}j.prototype=H.prototype;function ie(ge,Le,ct){this.props=ge,this.context=Le,this.refs=z,this.updater=ct||O}var le=ie.prototype=new j;le.constructor=ie,A(le,H.prototype),le.isPureReactComponent=!0;var ve=Array.isArray,be=Object.prototype.hasOwnProperty,me={current:null},Ee={key:!0,ref:!0,__self:!0,__source:!0};function Ce(ge,Le,ct){var pt,Ht={},xe=null,we=null;if(Le!=null)for(pt in Le.ref!==void 0&&(we=Le.ref),Le.key!==void 0&&(xe=""+Le.key),Le)be.call(Le,pt)&&!Ee.hasOwnProperty(pt)&&(Ht[pt]=Le[pt]);var oe=arguments.length-2;if(oe===1)Ht.children=ct;else if(1<oe){for(var he=Array(oe),se=0;se<oe;se++)he[se]=arguments[se+2];Ht.children=he}if(ge&&ge.defaultProps)for(pt in oe=ge.defaultProps,oe)Ht[pt]===void 0&&(Ht[pt]=oe[pt]);return{$$typeof:r,type:ge,key:xe,ref:we,props:Ht,_owner:me.current}}function _e(ge,Le){return{$$typeof:r,type:ge.type,key:Le,ref:ge.ref,props:ge.props,_owner:ge._owner}}function We(ge){return typeof ge=="object"&&ge!==null&&ge.$$typeof===r}function Mt(ge){var Le={"=":"=0",":":"=2"};return"$"+ge.replace(/[=:]/g,function(ct){return Le[ct]})}var tt=/\/+/g;function Rt(ge,Le){return typeof ge=="object"&&ge!==null&&ge.key!=null?Mt(""+ge.key):Le.toString(36)}function Dt(ge,Le,ct,pt,Ht){var xe=typeof ge;(xe==="undefined"||xe==="boolean")&&(ge=null);var we=!1;if(ge===null)we=!0;else switch(xe){case"string":case"number":we=!0;break;case"object":switch(ge.$$typeof){case r:case e:we=!0}}if(we)return we=ge,Ht=Ht(we),ge=pt===""?"."+Rt(we,0):pt,ve(Ht)?(ct="",ge!=null&&(ct=ge.replace(tt,"$&/")+"/"),Dt(Ht,Le,ct,"",function(se){return se})):Ht!=null&&(We(Ht)&&(Ht=_e(Ht,ct+(!Ht.key||we&&we.key===Ht.key?"":(""+Ht.key).replace(tt,"$&/")+"/")+ge)),Le.push(Ht)),1;if(we=0,pt=pt===""?".":pt+":",ve(ge))for(var oe=0;oe<ge.length;oe++){xe=ge[oe];var he=pt+Rt(xe,oe);we+=Dt(xe,Le,ct,he,Ht)}else if(he=N(ge),typeof he=="function")for(ge=he.call(ge),oe=0;!(xe=ge.next()).done;)xe=xe.value,he=pt+Rt(xe,oe++),we+=Dt(xe,Le,ct,he,Ht);else if(xe==="object")throw Le=String(ge),Error("Objects are not valid as a React child (found: "+(Le==="[object Object]"?"object with keys {"+Object.keys(ge).join(", ")+"}":Le)+"). If you meant to render a collection of children, use an array instead.");return we}function zt(ge,Le,ct){if(ge==null)return ge;var pt=[],Ht=0;return Dt(ge,pt,"","",function(xe){return Le.call(ct,xe,Ht++)}),pt}function St(ge){if(ge._status===-1){var Le=ge._result;Le=Le(),Le.then(function(ct){(ge._status===0||ge._status===-1)&&(ge._status=1,ge._result=ct)},function(ct){(ge._status===0||ge._status===-1)&&(ge._status=2,ge._result=ct)}),ge._status===-1&&(ge._status=0,ge._result=Le)}if(ge._status===1)return ge._result.default;throw ge._result}var Pt={current:null},Ye={transition:null},mt={ReactCurrentDispatcher:Pt,ReactCurrentBatchConfig:Ye,ReactCurrentOwner:me};function Ve(){throw Error("act(...) is not supported in production builds of React.")}return tr.Children={map:zt,forEach:function(ge,Le,ct){zt(ge,function(){Le.apply(this,arguments)},ct)},count:function(ge){var Le=0;return zt(ge,function(){Le++}),Le},toArray:function(ge){return zt(ge,function(Le){return Le})||[]},only:function(ge){if(!We(ge))throw Error("React.Children.only expected to receive a single React element child.");return ge}},tr.Component=H,tr.Fragment=t,tr.Profiler=i,tr.PureComponent=ie,tr.StrictMode=n,tr.Suspense=f,tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mt,tr.act=Ve,tr.cloneElement=function(ge,Le,ct){if(ge==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ge+".");var pt=A({},ge.props),Ht=ge.key,xe=ge.ref,we=ge._owner;if(Le!=null){if(Le.ref!==void 0&&(xe=Le.ref,we=me.current),Le.key!==void 0&&(Ht=""+Le.key),ge.type&&ge.type.defaultProps)var oe=ge.type.defaultProps;for(he in Le)be.call(Le,he)&&!Ee.hasOwnProperty(he)&&(pt[he]=Le[he]===void 0&&oe!==void 0?oe[he]:Le[he])}var he=arguments.length-2;if(he===1)pt.children=ct;else if(1<he){oe=Array(he);for(var se=0;se<he;se++)oe[se]=arguments[se+2];pt.children=oe}return{$$typeof:r,type:ge.type,key:Ht,ref:xe,props:pt,_owner:we}},tr.createContext=function(ge){return ge={$$typeof:s,_currentValue:ge,_currentValue2:ge,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ge.Provider={$$typeof:a,_context:ge},ge.Consumer=ge},tr.createElement=Ce,tr.createFactory=function(ge){var Le=Ce.bind(null,ge);return Le.type=ge,Le},tr.createRef=function(){return{current:null}},tr.forwardRef=function(ge){return{$$typeof:u,render:ge}},tr.isValidElement=We,tr.lazy=function(ge){return{$$typeof:y,_payload:{_status:-1,_result:ge},_init:St}},tr.memo=function(ge,Le){return{$$typeof:p,type:ge,compare:Le===void 0?null:Le}},tr.startTransition=function(ge){var Le=Ye.transition;Ye.transition={};try{ge()}finally{Ye.transition=Le}},tr.unstable_act=Ve,tr.useCallback=function(ge,Le){return Pt.current.useCallback(ge,Le)},tr.useContext=function(ge){return Pt.current.useContext(ge)},tr.useDebugValue=function(){},tr.useDeferredValue=function(ge){return Pt.current.useDeferredValue(ge)},tr.useEffect=function(ge,Le){return Pt.current.useEffect(ge,Le)},tr.useId=function(){return Pt.current.useId()},tr.useImperativeHandle=function(ge,Le,ct){return Pt.current.useImperativeHandle(ge,Le,ct)},tr.useInsertionEffect=function(ge,Le){return Pt.current.useInsertionEffect(ge,Le)},tr.useLayoutEffect=function(ge,Le){return Pt.current.useLayoutEffect(ge,Le)},tr.useMemo=function(ge,Le){return Pt.current.useMemo(ge,Le)},tr.useReducer=function(ge,Le,ct){return Pt.current.useReducer(ge,Le,ct)},tr.useRef=function(ge){return Pt.current.useRef(ge)},tr.useState=function(ge){return Pt.current.useState(ge)},tr.useSyncExternalStore=function(ge,Le,ct){return Pt.current.useSyncExternalStore(ge,Le,ct)},tr.useTransition=function(){return Pt.current.useTransition()},tr.version="18.3.1",tr}var l1;function H0(){return l1||(l1=1,ay.exports=vZ()),ay.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u1;function mZ(){if(u1)return Gd;u1=1;var r=H0(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(u,f,p){var y,T={},N=null,O=null;p!==void 0&&(N=""+p),f.key!==void 0&&(N=""+f.key),f.ref!==void 0&&(O=f.ref);for(y in f)n.call(f,y)&&!a.hasOwnProperty(y)&&(T[y]=f[y]);if(u&&u.defaultProps)for(y in f=u.defaultProps,f)T[y]===void 0&&(T[y]=f[y]);return{$$typeof:e,type:u,key:N,ref:O,props:T,_owner:i.current}}return Gd.Fragment=t,Gd.jsx=s,Gd.jsxs=s,Gd}var c1;function gZ(){return c1||(c1=1,iy.exports=mZ()),iy.exports}var hu=gZ(),V0=H0();const Yc=HT(V0);var kv={},oy={exports:{}},Wi={},sy={exports:{}},ly={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f1;function yZ(){return f1||(f1=1,(function(r){function e(Ye,mt){var Ve=Ye.length;Ye.push(mt);e:for(;0<Ve;){var ge=Ve-1>>>1,Le=Ye[ge];if(0<i(Le,mt))Ye[ge]=mt,Ye[Ve]=Le,Ve=ge;else break e}}function t(Ye){return Ye.length===0?null:Ye[0]}function n(Ye){if(Ye.length===0)return null;var mt=Ye[0],Ve=Ye.pop();if(Ve!==mt){Ye[0]=Ve;e:for(var ge=0,Le=Ye.length,ct=Le>>>1;ge<ct;){var pt=2*(ge+1)-1,Ht=Ye[pt],xe=pt+1,we=Ye[xe];if(0>i(Ht,Ve))xe<Le&&0>i(we,Ht)?(Ye[ge]=we,Ye[xe]=Ve,ge=xe):(Ye[ge]=Ht,Ye[pt]=Ve,ge=pt);else if(xe<Le&&0>i(we,Ve))Ye[ge]=we,Ye[xe]=Ve,ge=xe;else break e}}return mt}function i(Ye,mt){var Ve=Ye.sortIndex-mt.sortIndex;return Ve!==0?Ve:Ye.id-mt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();r.unstable_now=function(){return s.now()-u}}var f=[],p=[],y=1,T=null,N=3,O=!1,A=!1,z=!1,H=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function le(Ye){for(var mt=t(p);mt!==null;){if(mt.callback===null)n(p);else if(mt.startTime<=Ye)n(p),mt.sortIndex=mt.expirationTime,e(f,mt);else break;mt=t(p)}}function ve(Ye){if(z=!1,le(Ye),!A)if(t(f)!==null)A=!0,St(be);else{var mt=t(p);mt!==null&&Pt(ve,mt.startTime-Ye)}}function be(Ye,mt){A=!1,z&&(z=!1,j(Ce),Ce=-1),O=!0;var Ve=N;try{for(le(mt),T=t(f);T!==null&&(!(T.expirationTime>mt)||Ye&&!Mt());){var ge=T.callback;if(typeof ge=="function"){T.callback=null,N=T.priorityLevel;var Le=ge(T.expirationTime<=mt);mt=r.unstable_now(),typeof Le=="function"?T.callback=Le:T===t(f)&&n(f),le(mt)}else n(f);T=t(f)}if(T!==null)var ct=!0;else{var pt=t(p);pt!==null&&Pt(ve,pt.startTime-mt),ct=!1}return ct}finally{T=null,N=Ve,O=!1}}var me=!1,Ee=null,Ce=-1,_e=5,We=-1;function Mt(){return!(r.unstable_now()-We<_e)}function tt(){if(Ee!==null){var Ye=r.unstable_now();We=Ye;var mt=!0;try{mt=Ee(!0,Ye)}finally{mt?Rt():(me=!1,Ee=null)}}else me=!1}var Rt;if(typeof ie=="function")Rt=function(){ie(tt)};else if(typeof MessageChannel<"u"){var Dt=new MessageChannel,zt=Dt.port2;Dt.port1.onmessage=tt,Rt=function(){zt.postMessage(null)}}else Rt=function(){H(tt,0)};function St(Ye){Ee=Ye,me||(me=!0,Rt())}function Pt(Ye,mt){Ce=H(function(){Ye(r.unstable_now())},mt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Ye){Ye.callback=null},r.unstable_continueExecution=function(){A||O||(A=!0,St(be))},r.unstable_forceFrameRate=function(Ye){0>Ye||125<Ye?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_e=0<Ye?Math.floor(1e3/Ye):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_getFirstCallbackNode=function(){return t(f)},r.unstable_next=function(Ye){switch(N){case 1:case 2:case 3:var mt=3;break;default:mt=N}var Ve=N;N=mt;try{return Ye()}finally{N=Ve}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(Ye,mt){switch(Ye){case 1:case 2:case 3:case 4:case 5:break;default:Ye=3}var Ve=N;N=Ye;try{return mt()}finally{N=Ve}},r.unstable_scheduleCallback=function(Ye,mt,Ve){var ge=r.unstable_now();switch(typeof Ve=="object"&&Ve!==null?(Ve=Ve.delay,Ve=typeof Ve=="number"&&0<Ve?ge+Ve:ge):Ve=ge,Ye){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=Ve+Le,Ye={id:y++,callback:mt,priorityLevel:Ye,startTime:Ve,expirationTime:Le,sortIndex:-1},Ve>ge?(Ye.sortIndex=Ve,e(p,Ye),t(f)===null&&Ye===t(p)&&(z?(j(Ce),Ce=-1):z=!0,Pt(ve,Ve-ge))):(Ye.sortIndex=Le,e(f,Ye),A||O||(A=!0,St(be))),Ye},r.unstable_shouldYield=Mt,r.unstable_wrapCallback=function(Ye){var mt=N;return function(){var Ve=N;N=mt;try{return Ye.apply(this,arguments)}finally{N=Ve}}}})(ly)),ly}var d1;function kZ(){return d1||(d1=1,sy.exports=yZ()),sy.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h1;function wZ(){if(h1)return Wi;h1=1;var r=H0(),e=kZ();function t(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,c=1;c<arguments.length;c++)l+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(o,l){s(o,l),s(o+"Capture",l)}function s(o,l){for(i[o]=l,o=0;o<l.length;o++)n.add(l[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},T={};function N(o){return f.call(T,o)?!0:f.call(y,o)?!1:p.test(o)?T[o]=!0:(y[o]=!0,!1)}function O(o,l,c,g){if(c!==null&&c.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:c!==null?!c.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function A(o,l,c,g){if(l===null||typeof l>"u"||O(o,l,c,g))return!0;if(g)return!1;if(c!==null)switch(c.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function z(o,l,c,g,x,L,U){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=x,this.mustUseProperty=c,this.propertyName=o,this.type=l,this.sanitizeURL=L,this.removeEmptyString=U}var H={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){H[o]=new z(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];H[l]=new z(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){H[o]=new z(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){H[o]=new z(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){H[o]=new z(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){H[o]=new z(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){H[o]=new z(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){H[o]=new z(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){H[o]=new z(o,5,!1,o.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function ie(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(j,ie);H[l]=new z(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(j,ie);H[l]=new z(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(j,ie);H[l]=new z(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){H[o]=new z(o,1,!1,o.toLowerCase(),null,!1,!1)}),H.xlinkHref=new z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){H[o]=new z(o,1,!1,o.toLowerCase(),null,!0,!0)});function le(o,l,c,g){var x=H.hasOwnProperty(l)?H[l]:null;(x!==null?x.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(A(l,c,x,g)&&(c=null),g||x===null?N(l)&&(c===null?o.removeAttribute(l):o.setAttribute(l,""+c)):x.mustUseProperty?o[x.propertyName]=c===null?x.type===3?!1:"":c:(l=x.attributeName,g=x.attributeNamespace,c===null?o.removeAttribute(l):(x=x.type,c=x===3||x===4&&c===!0?"":""+c,g?o.setAttributeNS(g,l,c):o.setAttribute(l,c))))}var ve=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,be=Symbol.for("react.element"),me=Symbol.for("react.portal"),Ee=Symbol.for("react.fragment"),Ce=Symbol.for("react.strict_mode"),_e=Symbol.for("react.profiler"),We=Symbol.for("react.provider"),Mt=Symbol.for("react.context"),tt=Symbol.for("react.forward_ref"),Rt=Symbol.for("react.suspense"),Dt=Symbol.for("react.suspense_list"),zt=Symbol.for("react.memo"),St=Symbol.for("react.lazy"),Pt=Symbol.for("react.offscreen"),Ye=Symbol.iterator;function mt(o){return o===null||typeof o!="object"?null:(o=Ye&&o[Ye]||o["@@iterator"],typeof o=="function"?o:null)}var Ve=Object.assign,ge;function Le(o){if(ge===void 0)try{throw Error()}catch(c){var l=c.stack.trim().match(/\n( *(at )?)/);ge=l&&l[1]||""}return`
`+ge+o}var ct=!1;function pt(o,l){if(!o||ct)return"";ct=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Re){var g=Re}Reflect.construct(o,[],l)}else{try{l.call()}catch(Re){g=Re}o.call(l.prototype)}else{try{throw Error()}catch(Re){g=Re}o()}}catch(Re){if(Re&&g&&typeof Re.stack=="string"){for(var x=Re.stack.split(`
`),L=g.stack.split(`
`),U=x.length-1,ne=L.length-1;1<=U&&0<=ne&&x[U]!==L[ne];)ne--;for(;1<=U&&0<=ne;U--,ne--)if(x[U]!==L[ne]){if(U!==1||ne!==1)do if(U--,ne--,0>ne||x[U]!==L[ne]){var fe=`
`+x[U].replace(" at new "," at ");return o.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",o.displayName)),fe}while(1<=U&&0<=ne);break}}}finally{ct=!1,Error.prepareStackTrace=c}return(o=o?o.displayName||o.name:"")?Le(o):""}function Ht(o){switch(o.tag){case 5:return Le(o.type);case 16:return Le("Lazy");case 13:return Le("Suspense");case 19:return Le("SuspenseList");case 0:case 2:case 15:return o=pt(o.type,!1),o;case 11:return o=pt(o.type.render,!1),o;case 1:return o=pt(o.type,!0),o;default:return""}}function xe(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case Ee:return"Fragment";case me:return"Portal";case _e:return"Profiler";case Ce:return"StrictMode";case Rt:return"Suspense";case Dt:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case Mt:return(o.displayName||"Context")+".Consumer";case We:return(o._context.displayName||"Context")+".Provider";case tt:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case zt:return l=o.displayName||null,l!==null?l:xe(o.type)||"Memo";case St:l=o._payload,o=o._init;try{return xe(o(l))}catch{}}return null}function we(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(l);case 8:return l===Ce?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function oe(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function he(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function se(o){var l=he(o)?"checked":"value",c=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),g=""+o[l];if(!o.hasOwnProperty(l)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var x=c.get,L=c.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return x.call(this)},set:function(U){g=""+U,L.call(this,U)}}),Object.defineProperty(o,l,{enumerable:c.enumerable}),{getValue:function(){return g},setValue:function(U){g=""+U},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Pe(o){o._valueTracker||(o._valueTracker=se(o))}function He(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var c=l.getValue(),g="";return o&&(g=he(o)?o.checked?"true":"false":o.value),o=g,o!==c?(l.setValue(o),!0):!1}function nt(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function qt(o,l){var c=l.checked;return Ve({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??o._wrapperState.initialChecked})}function Wt(o,l){var c=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;c=oe(l.value!=null?l.value:c),o._wrapperState={initialChecked:g,initialValue:c,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Vt(o,l){l=l.checked,l!=null&&le(o,"checked",l,!1)}function br(o,l){Vt(o,l);var c=oe(l.value),g=l.type;if(c!=null)g==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+c):o.value!==""+c&&(o.value=""+c);else if(g==="submit"||g==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?Pr(o,l.type,c):l.hasOwnProperty("defaultValue")&&Pr(o,l.type,oe(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function Kt(o,l,c){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,c||l===o.value||(o.value=l),o.defaultValue=l}c=o.name,c!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,c!==""&&(o.name=c)}function Pr(o,l,c){(l!=="number"||nt(o.ownerDocument)!==o)&&(c==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+c&&(o.defaultValue=""+c))}var yr=Array.isArray;function Sr(o,l,c,g){if(o=o.options,l){l={};for(var x=0;x<c.length;x++)l["$"+c[x]]=!0;for(c=0;c<o.length;c++)x=l.hasOwnProperty("$"+o[c].value),o[c].selected!==x&&(o[c].selected=x),x&&g&&(o[c].defaultSelected=!0)}else{for(c=""+oe(c),l=null,x=0;x<o.length;x++){if(o[x].value===c){o[x].selected=!0,g&&(o[x].defaultSelected=!0);return}l!==null||o[x].disabled||(l=o[x])}l!==null&&(l.selected=!0)}}function nr(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return Ve({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Vr(o,l){var c=l.value;if(c==null){if(c=l.children,l=l.defaultValue,c!=null){if(l!=null)throw Error(t(92));if(yr(c)){if(1<c.length)throw Error(t(93));c=c[0]}l=c}l==null&&(l=""),c=l}o._wrapperState={initialValue:oe(c)}}function yi(o,l){var c=oe(l.value),g=oe(l.defaultValue);c!=null&&(c=""+c,c!==o.value&&(o.value=c),l.defaultValue==null&&o.defaultValue!==c&&(o.defaultValue=c)),g!=null&&(o.defaultValue=""+g)}function Fn(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function Br(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?Br(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var ut,Bt=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,c,g,x){MSApp.execUnsafeLocalFunction(function(){return o(l,c,g,x)})}:o})(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(ut=ut||document.createElement("div"),ut.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=ut.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function $t(o,l){if(l){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=l;return}}o.textContent=l}var Yt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yr=["Webkit","ms","Moz","O"];Object.keys(Yt).forEach(function(o){Yr.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),Yt[l]=Yt[o]})});function pr(o,l,c){return l==null||typeof l=="boolean"||l===""?"":c||typeof l!="number"||l===0||Yt.hasOwnProperty(o)&&Yt[o]?(""+l).trim():l+"px"}function Cr(o,l){o=o.style;for(var c in l)if(l.hasOwnProperty(c)){var g=c.indexOf("--")===0,x=pr(c,l[c],g);c==="float"&&(c="cssFloat"),g?o.setProperty(c,x):o[c]=x}}var Sn=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _n(o,l){if(l){if(Sn[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function Dr(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ln=null;function Zn(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var qn=null,Zr=null,Kr=null;function mn(o){if(o=$l(o)){if(typeof qn!="function")throw Error(t(280));var l=o.stateNode;l&&(l=Xu(l),qn(o.stateNode,o.type,l))}}function Fr(o){Zr?Kr?Kr.push(o):Kr=[o]:Zr=o}function zn(){if(Zr){var o=Zr,l=Kr;if(Kr=Zr=null,mn(o),l)for(o=0;o<l.length;o++)mn(l[o])}}function vr(o,l){return o(l)}function $r(){}var X=!1;function Y(o,l,c){if(X)return o(l,c);X=!0;try{return vr(o,l,c)}finally{X=!1,(Zr!==null||Kr!==null)&&($r(),zn())}}function q(o,l){var c=o.stateNode;if(c===null)return null;var g=Xu(c);if(g===null)return null;c=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(t(231,l,typeof c));return c}var F=!1;if(u)try{var $={};Object.defineProperty($,"passive",{get:function(){F=!0}}),window.addEventListener("test",$,$),window.removeEventListener("test",$,$)}catch{F=!1}function G(o,l,c,g,x,L,U,ne,fe){var Re=Array.prototype.slice.call(arguments,3);try{l.apply(c,Re)}catch(Je){this.onError(Je)}}var te=!1,Ne=null,qe=!1,de=null,re={onError:function(o){te=!0,Ne=o}};function Ae(o,l,c,g,x,L,U,ne,fe){te=!1,Ne=null,G.apply(re,arguments)}function Be(o,l,c,g,x,L,U,ne,fe){if(Ae.apply(this,arguments),te){if(te){var Re=Ne;te=!1,Ne=null}else throw Error(t(198));qe||(qe=!0,de=Re)}}function it(o){var l=o,c=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(c=l.return),o=l.return;while(o)}return l.tag===3?c:null}function Nt(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function V(o){if(it(o)!==o)throw Error(t(188))}function R(o){var l=o.alternate;if(!l){if(l=it(o),l===null)throw Error(t(188));return l!==o?null:o}for(var c=o,g=l;;){var x=c.return;if(x===null)break;var L=x.alternate;if(L===null){if(g=x.return,g!==null){c=g;continue}break}if(x.child===L.child){for(L=x.child;L;){if(L===c)return V(x),o;if(L===g)return V(x),l;L=L.sibling}throw Error(t(188))}if(c.return!==g.return)c=x,g=L;else{for(var U=!1,ne=x.child;ne;){if(ne===c){U=!0,c=x,g=L;break}if(ne===g){U=!0,g=x,c=L;break}ne=ne.sibling}if(!U){for(ne=L.child;ne;){if(ne===c){U=!0,c=L,g=x;break}if(ne===g){U=!0,g=L,c=x;break}ne=ne.sibling}if(!U)throw Error(t(189))}}if(c.alternate!==g)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?o:l}function b(o){return o=R(o),o!==null?E(o):null}function E(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=E(o);if(l!==null)return l;o=o.sibling}return null}var B=e.unstable_scheduleCallback,K=e.unstable_cancelCallback,Z=e.unstable_shouldYield,ae=e.unstable_requestPaint,ye=e.unstable_now,Oe=e.unstable_getCurrentPriorityLevel,Qe=e.unstable_ImmediatePriority,je=e.unstable_UserBlockingPriority,at=e.unstable_NormalPriority,Ot=e.unstable_LowPriority,Zt=e.unstable_IdlePriority,cr=null,Ar=null;function Yi(o){if(Ar&&typeof Ar.onCommitFiberRoot=="function")try{Ar.onCommitFiberRoot(cr,o,void 0,(o.current.flags&128)===128)}catch{}}var Jr=Math.clz32?Math.clz32:Na,Ps=Math.log,Ho=Math.LN2;function Na(o){return o>>>=0,o===0?32:31-(Ps(o)/Ho|0)|0}var Hn=64,Vn=4194304;function Zi(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function gn(o,l){var c=o.pendingLanes;if(c===0)return 0;var g=0,x=o.suspendedLanes,L=o.pingedLanes,U=c&268435455;if(U!==0){var ne=U&~x;ne!==0?g=Zi(ne):(L&=U,L!==0&&(g=Zi(L)))}else U=c&~x,U!==0?g=Zi(U):L!==0&&(g=Zi(L));if(g===0)return 0;if(l!==0&&l!==g&&(l&x)===0&&(x=g&-g,L=l&-l,x>=L||x===16&&(L&4194240)!==0))return l;if((g&4)!==0&&(g|=c&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=g;0<l;)c=31-Jr(l),x=1<<c,g|=o[c],l&=~x;return g}function Vo(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ro(o,l){for(var c=o.suspendedLanes,g=o.pingedLanes,x=o.expirationTimes,L=o.pendingLanes;0<L;){var U=31-Jr(L),ne=1<<U,fe=x[U];fe===-1?((ne&c)===0||(ne&g)!==0)&&(x[U]=Vo(ne,l)):fe<=l&&(o.expiredLanes|=ne),L&=~ne}}function pa(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Oa(){var o=Hn;return Hn<<=1,(Hn&4194240)===0&&(Hn=64),o}function Da(o){for(var l=[],c=0;31>c;c++)l.push(o);return l}function xn(o,l,c){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-Jr(l),o[l]=c}function Aa(o,l){var c=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var g=o.eventTimes;for(o=o.expirationTimes;0<c;){var x=31-Jr(c),L=1<<x;l[x]=0,g[x]=-1,o[x]=-1,c&=~L}}function va(o,l){var c=o.entangledLanes|=l;for(o=o.entanglements;c;){var g=31-Jr(c),x=1<<g;x&l|o[g]&l&&(o[g]|=l),c&=~x}}var Jt=0;function $o(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Uo,Ii,ki,wi,La,ea=!1,bi=[],Qr=null,ei=null,Pi=null,un=new Map,ma=new Map,Ci=[],no="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wo(o,l){switch(o){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":Pi=null;break;case"pointerover":case"pointerout":un.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":ma.delete(l.pointerId)}}function ti(o,l,c,g,x,L){return o===null||o.nativeEvent!==L?(o={blockedOn:l,domEventName:c,eventSystemFlags:g,nativeEvent:L,targetContainers:[x]},l!==null&&(l=$l(l),l!==null&&Ii(l)),o):(o.eventSystemFlags|=g,l=o.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),o)}function ri(o,l,c,g,x){switch(l){case"focusin":return Qr=ti(Qr,o,l,c,g,x),!0;case"dragenter":return ei=ti(ei,o,l,c,g,x),!0;case"mouseover":return Pi=ti(Pi,o,l,c,g,x),!0;case"pointerover":var L=x.pointerId;return un.set(L,ti(un.get(L)||null,o,l,c,g,x)),!0;case"gotpointercapture":return L=x.pointerId,ma.set(L,ti(ma.get(L)||null,o,l,c,g,x)),!0}return!1}function io(o){var l=is(o.target);if(l!==null){var c=it(l);if(c!==null){if(l=c.tag,l===13){if(l=Nt(c),l!==null){o.blockedOn=l,La(o.priority,function(){ki(c)});return}}else if(l===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Ra(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var c=En(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(c===null){c=o.nativeEvent;var g=new c.constructor(c.type,c);ln=g,c.target.dispatchEvent(g),ln=null}else return l=$l(c),l!==null&&Ii(l),o.blockedOn=c,!1;l.shift()}return!0}function jo(o,l,c){Ra(o)&&c.delete(l)}function xl(){ea=!1,Qr!==null&&Ra(Qr)&&(Qr=null),ei!==null&&Ra(ei)&&(ei=null),Pi!==null&&Ra(Pi)&&(Pi=null),un.forEach(jo),ma.forEach(jo)}function Ct(o,l){o.blockedOn===l&&(o.blockedOn=null,ea||(ea=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,xl)))}function Se(o){function l(x){return Ct(x,o)}if(0<bi.length){Ct(bi[0],o);for(var c=1;c<bi.length;c++){var g=bi[c];g.blockedOn===o&&(g.blockedOn=null)}}for(Qr!==null&&Ct(Qr,o),ei!==null&&Ct(ei,o),Pi!==null&&Ct(Pi,o),un.forEach(l),ma.forEach(l),c=0;c<Ci.length;c++)g=Ci[c],g.blockedOn===o&&(g.blockedOn=null);for(;0<Ci.length&&(c=Ci[0],c.blockedOn===null);)io(c),c.blockedOn===null&&Ci.shift()}var et=ve.ReactCurrentBatchConfig,kt=!0;function ar(o,l,c,g){var x=Jt,L=et.transition;et.transition=null;try{Jt=1,Lr(o,l,c,g)}finally{Jt=x,et.transition=L}}function Ur(o,l,c,g){var x=Jt,L=et.transition;et.transition=null;try{Jt=4,Lr(o,l,c,g)}finally{Jt=x,et.transition=L}}function Lr(o,l,c,g){if(kt){var x=En(o,l,c,g);if(x===null)$e(o,l,g,xr,c),Wo(o,g);else if(ri(x,o,l,c,g))g.stopPropagation();else if(Wo(o,g),l&4&&-1<no.indexOf(o)){for(;x!==null;){var L=$l(x);if(L!==null&&Uo(L),L=En(o,l,c,g),L===null&&$e(o,l,g,xr,c),L===x)break;x=L}x!==null&&g.stopPropagation()}else $e(o,l,g,null,c)}}var xr=null;function En(o,l,c,g){if(xr=null,o=Zn(g),o=is(o),o!==null)if(l=it(o),l===null)o=null;else if(c=l.tag,c===13){if(o=Nt(l),o!==null)return o;o=null}else if(c===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return xr=o,null}function ta(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Oe()){case Qe:return 1;case je:return 4;case at:case Ot:return 16;case Zt:return 536870912;default:return 16}default:return 16}}var ni=null,ao=null,Ia=null;function Iu(){if(Ia)return Ia;var o,l=ao,c=l.length,g,x="value"in ni?ni.value:ni.textContent,L=x.length;for(o=0;o<c&&l[o]===x[o];o++);var U=c-o;for(g=1;g<=U&&l[c-g]===x[L-g];g++);return Ia=x.slice(o,1<g?1-g:void 0)}function Bs(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Fs(){return!0}function Pu(){return!1}function mr(o){function l(c,g,x,L,U){this._reactName=c,this._targetInst=x,this.type=g,this.nativeEvent=L,this.target=U,this.currentTarget=null;for(var ne in o)o.hasOwnProperty(ne)&&(c=o[ne],this[ne]=c?c(L):L[ne]);return this.isDefaultPrevented=(L.defaultPrevented!=null?L.defaultPrevented:L.returnValue===!1)?Fs:Pu,this.isPropagationStopped=Pu,this}return Ve(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Fs)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Fs)},persist:function(){},isPersistent:Fs}),l}var _r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},El=mr(_r),Go=Ve({},_r,{view:0,detail:0}),wf=mr(Go),Bi,Ml,Pa,oo=Ve({},Go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qs,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Pa&&(Pa&&o.type==="mousemove"?(Bi=o.screenX-Pa.screenX,Ml=o.screenY-Pa.screenY):Ml=Bi=0,Pa=o),Bi)},movementY:function(o){return"movementY"in o?o.movementY:Ml}}),Bu=mr(oo),bf=Ve({},oo,{dataTransfer:0}),_s=mr(bf),Cf=Ve({},Go,{relatedTarget:0}),Ko=mr(Cf),so=Ve({},_r,{animationName:0,elapsedTime:0,pseudoElement:0}),Tf=mr(so),Sf=Ve({},_r,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),xf=mr(Sf),Ef=Ve({},_r,{data:0}),Fu=mr(Ef),Mf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nf(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=_u[o])?!!l[o]:!1}function qs(){return Nf}var Of=Ve({},Go,{key:function(o){if(o.key){var l=Mf[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Bs(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Nl[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qs,charCode:function(o){return o.type==="keypress"?Bs(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Bs(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),qu=mr(Of),zu=Ve({},oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hu=mr(zu),Df=Ve({},Go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qs}),Jo=mr(Df),Af=Ve({},_r,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qo=mr(Af),Lf=Ve({},oo,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Rf=mr(Lf),Xo=[9,13,27,32],zs=u&&"CompositionEvent"in window,lo=null;u&&"documentMode"in document&&(lo=document.documentMode);var If=u&&"TextEvent"in window&&!lo,Ol=u&&(!zs||lo&&8<lo&&11>=lo),Dl=" ",uo=!1;function Al(o,l){switch(o){case"keyup":return Xo.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function co(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var fo=!1;function Ba(o,l){switch(o){case"compositionend":return co(l);case"keypress":return l.which!==32?null:(uo=!0,Dl);case"textInput":return o=l.data,o===Dl&&uo?null:o;default:return null}}function ho(o,l){if(fo)return o==="compositionend"||!zs&&Al(o,l)?(o=Iu(),Ia=ao=ni=null,fo=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ol&&l.locale!=="ko"?null:l.data;default:return null}}var Fa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ii(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!Fa[o.type]:l==="textarea"}function en(o,l,c,g){Fr(g),l=ft(l,"onChange"),0<l.length&&(c=new El("onChange","change",null,c,g),o.push({event:c,listeners:l}))}var po=null,Yo=null;function Vu(o){W(o,0)}function Hs(o){var l=Us(o);if(He(l))return o}function $u(o,l){if(o==="change")return l}var Ll=!1;if(u){var vo;if(u){var ra="oninput"in document;if(!ra){var Vs=document.createElement("div");Vs.setAttribute("oninput","return;"),ra=typeof Vs.oninput=="function"}vo=ra}else vo=!1;Ll=vo&&(!document.documentMode||9<document.documentMode)}function Rl(){po&&(po.detachEvent("onpropertychange",$s),Yo=po=null)}function $s(o){if(o.propertyName==="value"&&Hs(Yo)){var l=[];en(l,Yo,o,Zn(o)),Y(Vu,l)}}function Pf(o,l,c){o==="focusin"?(Rl(),po=l,Yo=c,po.attachEvent("onpropertychange",$s)):o==="focusout"&&Rl()}function Bf(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Hs(Yo)}function Ff(o,l){if(o==="click")return Hs(l)}function _f(o,l){if(o==="input"||o==="change")return Hs(l)}function Uu(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var ai=typeof Object.is=="function"?Object.is:Uu;function Zo(o,l){if(ai(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var c=Object.keys(o),g=Object.keys(l);if(c.length!==g.length)return!1;for(g=0;g<c.length;g++){var x=c[g];if(!f.call(l,x)||!ai(o[x],l[x]))return!1}return!0}function Il(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Wu(o,l){var c=Il(o);o=0;for(var g;c;){if(c.nodeType===3){if(g=o+c.textContent.length,o<=l&&g>=l)return{node:c,offset:l-o};o=g}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Il(c)}}function ju(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?ju(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function Gu(){for(var o=window,l=nt();l instanceof o.HTMLIFrameElement;){try{var c=typeof l.contentWindow.location.href=="string"}catch{c=!1}if(c)o=l.contentWindow;else break;l=nt(o.document)}return l}function Pl(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function qf(o){var l=Gu(),c=o.focusedElem,g=o.selectionRange;if(l!==c&&c&&c.ownerDocument&&ju(c.ownerDocument.documentElement,c)){if(g!==null&&Pl(c)){if(l=g.start,o=g.end,o===void 0&&(o=l),"selectionStart"in c)c.selectionStart=l,c.selectionEnd=Math.min(o,c.value.length);else if(o=(l=c.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var x=c.textContent.length,L=Math.min(g.start,x);g=g.end===void 0?L:Math.min(g.end,x),!o.extend&&L>g&&(x=g,g=L,L=x),x=Wu(c,L);var U=Wu(c,g);x&&U&&(o.rangeCount!==1||o.anchorNode!==x.node||o.anchorOffset!==x.offset||o.focusNode!==U.node||o.focusOffset!==U.offset)&&(l=l.createRange(),l.setStart(x.node,x.offset),o.removeAllRanges(),L>g?(o.addRange(l),o.extend(U.node,U.offset)):(l.setEnd(U.node,U.offset),o.addRange(l)))}}for(l=[],o=c;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<l.length;c++)o=l[c],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var zf=u&&"documentMode"in document&&11>=document.documentMode,_a=null,Bl=null,es=null,ts=!1;function Ku(o,l,c){var g=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;ts||_a==null||_a!==nt(g)||(g=_a,"selectionStart"in g&&Pl(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),es&&Zo(es,g)||(es=g,g=ft(Bl,"onSelect"),0<g.length&&(l=new El("onSelect","select",null,l,c),o.push({event:l,listeners:g}),l.target=_a)))}function rs(o,l){var c={};return c[o.toLowerCase()]=l.toLowerCase(),c["Webkit"+o]="webkit"+l,c["Moz"+o]="moz"+l,c}var mo={animationend:rs("Animation","AnimationEnd"),animationiteration:rs("Animation","AnimationIteration"),animationstart:rs("Animation","AnimationStart"),transitionend:rs("Transition","TransitionEnd")},Fl={},_l={};u&&(_l=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function ns(o){if(Fl[o])return Fl[o];if(!mo[o])return o;var l=mo[o],c;for(c in l)if(l.hasOwnProperty(c)&&c in _l)return Fl[o]=l[c];return o}var ql=ns("animationend"),zl=ns("animationiteration"),Ju=ns("animationstart"),Hl=ns("transitionend"),Qu=new Map,Vl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function d(o,l){Qu.set(o,l),a(l,[o])}for(var w=0;w<Vl.length;w++){var h=Vl[w],k=h.toLowerCase(),S=h[0].toUpperCase()+h.slice(1);d(k,"on"+S)}d(ql,"onAnimationEnd"),d(zl,"onAnimationIteration"),d(Ju,"onAnimationStart"),d("dblclick","onDoubleClick"),d("focusin","onFocus"),d("focusout","onBlur"),d(Hl,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var M="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I=new Set("cancel close invalid load scroll toggle".split(" ").concat(M));function P(o,l,c){var g=o.type||"unknown-event";o.currentTarget=c,Be(g,l,void 0,o),o.currentTarget=null}function W(o,l){l=(l&4)!==0;for(var c=0;c<o.length;c++){var g=o[c],x=g.event;g=g.listeners;e:{var L=void 0;if(l)for(var U=g.length-1;0<=U;U--){var ne=g[U],fe=ne.instance,Re=ne.currentTarget;if(ne=ne.listener,fe!==L&&x.isPropagationStopped())break e;P(x,ne,Re),L=fe}else for(U=0;U<g.length;U++){if(ne=g[U],fe=ne.instance,Re=ne.currentTarget,ne=ne.listener,fe!==L&&x.isPropagationStopped())break e;P(x,ne,Re),L=fe}}}if(qe)throw o=de,qe=!1,de=null,o}function J(o,l){var c=l[Hf];c===void 0&&(c=l[Hf]=new Set);var g=o+"__bubble";c.has(g)||(Ie(l,o,2,!1),c.add(g))}function ue(o,l,c){var g=0;l&&(g|=4),Ie(c,o,g,l)}var Te="_reactListening"+Math.random().toString(36).slice(2);function pe(o){if(!o[Te]){o[Te]=!0,n.forEach(function(c){c!=="selectionchange"&&(I.has(c)||ue(c,!1,o),ue(c,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Te]||(l[Te]=!0,ue("selectionchange",!1,l))}}function Ie(o,l,c,g){switch(ta(l)){case 1:var x=ar;break;case 4:x=Ur;break;default:x=Lr}c=x.bind(null,l,c,o),x=void 0,!F||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),g?x!==void 0?o.addEventListener(l,c,{capture:!0,passive:x}):o.addEventListener(l,c,!0):x!==void 0?o.addEventListener(l,c,{passive:x}):o.addEventListener(l,c,!1)}function $e(o,l,c,g,x){var L=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var U=g.tag;if(U===3||U===4){var ne=g.stateNode.containerInfo;if(ne===x||ne.nodeType===8&&ne.parentNode===x)break;if(U===4)for(U=g.return;U!==null;){var fe=U.tag;if((fe===3||fe===4)&&(fe=U.stateNode.containerInfo,fe===x||fe.nodeType===8&&fe.parentNode===x))return;U=U.return}for(;ne!==null;){if(U=is(ne),U===null)return;if(fe=U.tag,fe===5||fe===6){g=L=U;continue e}ne=ne.parentNode}}g=g.return}Y(function(){var Re=L,Je=Zn(c),Ze=[];e:{var Ge=Qu.get(o);if(Ge!==void 0){var vt=El,bt=o;switch(o){case"keypress":if(Bs(c)===0)break e;case"keydown":case"keyup":vt=qu;break;case"focusin":bt="focus",vt=Ko;break;case"focusout":bt="blur",vt=Ko;break;case"beforeblur":case"afterblur":vt=Ko;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":vt=Bu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":vt=_s;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":vt=Jo;break;case ql:case zl:case Ju:vt=Tf;break;case Hl:vt=Qo;break;case"scroll":vt=wf;break;case"wheel":vt=Rf;break;case"copy":case"cut":case"paste":vt=xf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":vt=Hu}var Tt=(l&4)!==0,Wr=!Tt&&o==="scroll",Me=Tt?Ge!==null?Ge+"Capture":null:Ge;Tt=[];for(var ke=Re,De;ke!==null;){De=ke;var rt=De.stateNode;if(De.tag===5&&rt!==null&&(De=rt,Me!==null&&(rt=q(ke,Me),rt!=null&&Tt.push(ot(ke,rt,De)))),Wr)break;ke=ke.return}0<Tt.length&&(Ge=new vt(Ge,bt,null,c,Je),Ze.push({event:Ge,listeners:Tt}))}}if((l&7)===0){e:{if(Ge=o==="mouseover"||o==="pointerover",vt=o==="mouseout"||o==="pointerout",Ge&&c!==ln&&(bt=c.relatedTarget||c.fromElement)&&(is(bt)||bt[_i]))break e;if((vt||Ge)&&(Ge=Je.window===Je?Je:(Ge=Je.ownerDocument)?Ge.defaultView||Ge.parentWindow:window,vt?(bt=c.relatedTarget||c.toElement,vt=Re,bt=bt?is(bt):null,bt!==null&&(Wr=it(bt),bt!==Wr||bt.tag!==5&&bt.tag!==6)&&(bt=null)):(vt=null,bt=Re),vt!==bt)){if(Tt=Bu,rt="onMouseLeave",Me="onMouseEnter",ke="mouse",(o==="pointerout"||o==="pointerover")&&(Tt=Hu,rt="onPointerLeave",Me="onPointerEnter",ke="pointer"),Wr=vt==null?Ge:Us(vt),De=bt==null?Ge:Us(bt),Ge=new Tt(rt,ke+"leave",vt,c,Je),Ge.target=Wr,Ge.relatedTarget=De,rt=null,is(Je)===Re&&(Tt=new Tt(Me,ke+"enter",bt,c,Je),Tt.target=De,Tt.relatedTarget=Wr,rt=Tt),Wr=rt,vt&&bt)t:{for(Tt=vt,Me=bt,ke=0,De=Tt;De;De=Ke(De))ke++;for(De=0,rt=Me;rt;rt=Ke(rt))De++;for(;0<ke-De;)Tt=Ke(Tt),ke--;for(;0<De-ke;)Me=Ke(Me),De--;for(;ke--;){if(Tt===Me||Me!==null&&Tt===Me.alternate)break t;Tt=Ke(Tt),Me=Ke(Me)}Tt=null}else Tt=null;vt!==null&&er(Ze,Ge,vt,Tt,!1),bt!==null&&Wr!==null&&er(Ze,Wr,bt,Tt,!0)}}e:{if(Ge=Re?Us(Re):window,vt=Ge.nodeName&&Ge.nodeName.toLowerCase(),vt==="select"||vt==="input"&&Ge.type==="file")var xt=$u;else if(ii(Ge))if(Ll)xt=_f;else{xt=Bf;var Ft=Pf}else(vt=Ge.nodeName)&&vt.toLowerCase()==="input"&&(Ge.type==="checkbox"||Ge.type==="radio")&&(xt=Ff);if(xt&&(xt=xt(o,Re))){en(Ze,xt,c,Je);break e}Ft&&Ft(o,Ge,Re),o==="focusout"&&(Ft=Ge._wrapperState)&&Ft.controlled&&Ge.type==="number"&&Pr(Ge,"number",Ge.value)}switch(Ft=Re?Us(Re):window,o){case"focusin":(ii(Ft)||Ft.contentEditable==="true")&&(_a=Ft,Bl=Re,es=null);break;case"focusout":es=Bl=_a=null;break;case"mousedown":ts=!0;break;case"contextmenu":case"mouseup":case"dragend":ts=!1,Ku(Ze,c,Je);break;case"selectionchange":if(zf)break;case"keydown":case"keyup":Ku(Ze,c,Je)}var _t;if(zs)e:{switch(o){case"compositionstart":var Ut="onCompositionStart";break e;case"compositionend":Ut="onCompositionEnd";break e;case"compositionupdate":Ut="onCompositionUpdate";break e}Ut=void 0}else fo?Al(o,c)&&(Ut="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(Ut="onCompositionStart");Ut&&(Ol&&c.locale!=="ko"&&(fo||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&fo&&(_t=Iu()):(ni=Je,ao="value"in ni?ni.value:ni.textContent,fo=!0)),Ft=ft(Re,Ut),0<Ft.length&&(Ut=new Fu(Ut,o,null,c,Je),Ze.push({event:Ut,listeners:Ft}),_t?Ut.data=_t:(_t=co(c),_t!==null&&(Ut.data=_t)))),(_t=If?Ba(o,c):ho(o,c))&&(Re=ft(Re,"onBeforeInput"),0<Re.length&&(Je=new Fu("onBeforeInput","beforeinput",null,c,Je),Ze.push({event:Je,listeners:Re}),Je.data=_t))}W(Ze,l)})}function ot(o,l,c){return{instance:o,listener:l,currentTarget:c}}function ft(o,l){for(var c=l+"Capture",g=[];o!==null;){var x=o,L=x.stateNode;x.tag===5&&L!==null&&(x=L,L=q(o,c),L!=null&&g.unshift(ot(o,L,x)),L=q(o,l),L!=null&&g.push(ot(o,L,x))),o=o.return}return g}function Ke(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function er(o,l,c,g,x){for(var L=l._reactName,U=[];c!==null&&c!==g;){var ne=c,fe=ne.alternate,Re=ne.stateNode;if(fe!==null&&fe===g)break;ne.tag===5&&Re!==null&&(ne=Re,x?(fe=q(c,L),fe!=null&&U.unshift(ot(c,fe,ne))):x||(fe=q(c,L),fe!=null&&U.push(ot(c,fe,ne)))),c=c.return}U.length!==0&&o.push({event:l,listeners:U})}var jt=/\r\n?/g,At=/\u0000|\uFFFD/g;function Qt(o){return(typeof o=="string"?o:""+o).replace(jt,`
`).replace(At,"")}function or(o,l,c){if(l=Qt(l),Qt(o)!==l&&c)throw Error(t(425))}function gr(){}var $n=null,qr=null;function cn(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var oi=typeof setTimeout=="function"?setTimeout:void 0,go=typeof clearTimeout=="function"?clearTimeout:void 0,Fi=typeof Promise=="function"?Promise:void 0,yo=typeof queueMicrotask=="function"?queueMicrotask:typeof Fi<"u"?function(o){return Fi.resolve(null).then(o).catch(ga)}:oi;function ga(o){setTimeout(function(){throw o})}function qa(o,l){var c=l,g=0;do{var x=c.nextSibling;if(o.removeChild(c),x&&x.nodeType===8)if(c=x.data,c==="/$"){if(g===0){o.removeChild(x),Se(l);return}g--}else c!=="$"&&c!=="$?"&&c!=="$!"||g++;c=x}while(c);Se(l)}function Ti(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function Mr(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"){if(l===0)return o;l--}else c==="/$"&&l++}o=o.previousSibling}return null}var Si=Math.random().toString(36).slice(2),Nr="__reactFiber$"+Si,Mn="__reactProps$"+Si,_i="__reactContainer$"+Si,Hf="__reactEvents$"+Si,Um="__reactListeners$"+Si,Wm="__reactHandles$"+Si;function is(o){var l=o[Nr];if(l)return l;for(var c=o.parentNode;c;){if(l=c[_i]||c[Nr]){if(c=l.alternate,l.child!==null||c!==null&&c.child!==null)for(o=Mr(o);o!==null;){if(c=o[Nr])return c;o=Mr(o)}return l}o=c,c=o.parentNode}return null}function $l(o){return o=o[Nr]||o[_i],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Us(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function Xu(o){return o[Mn]||null}var Vf=[],Ws=-1;function ko(o){return{current:o}}function Er(o){0>Ws||(o.current=Vf[Ws],Vf[Ws]=null,Ws--)}function Tr(o,l){Ws++,Vf[Ws]=o.current,o.current=l}var wo={},Nn=ko(wo),si=ko(!1),as=wo;function js(o,l){var c=o.type.contextTypes;if(!c)return wo;var g=o.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var x={},L;for(L in c)x[L]=l[L];return g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=x),x}function li(o){return o=o.childContextTypes,o!=null}function Yu(){Er(si),Er(Nn)}function Nh(o,l,c){if(Nn.current!==wo)throw Error(t(168));Tr(Nn,l),Tr(si,c)}function Oh(o,l,c){var g=o.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return c;g=g.getChildContext();for(var x in g)if(!(x in l))throw Error(t(108,we(o)||"Unknown",x));return Ve({},c,g)}function Zu(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||wo,as=Nn.current,Tr(Nn,o),Tr(si,si.current),!0}function Dh(o,l,c){var g=o.stateNode;if(!g)throw Error(t(169));c?(o=Oh(o,l,as),g.__reactInternalMemoizedMergedChildContext=o,Er(si),Er(Nn),Tr(Nn,o)):Er(si),Tr(si,c)}var za=null,ec=!1,$f=!1;function Ah(o){za===null?za=[o]:za.push(o)}function jm(o){ec=!0,Ah(o)}function bo(){if(!$f&&za!==null){$f=!0;var o=0,l=Jt;try{var c=za;for(Jt=1;o<c.length;o++){var g=c[o];do g=g(!0);while(g!==null)}za=null,ec=!1}catch(x){throw za!==null&&(za=za.slice(o+1)),B(Qe,bo),x}finally{Jt=l,$f=!1}}return null}var Gs=[],Ks=0,tc=null,rc=0,qi=[],zi=0,ss=null,Ha=1,Va="";function ls(o,l){Gs[Ks++]=rc,Gs[Ks++]=tc,tc=o,rc=l}function Lh(o,l,c){qi[zi++]=Ha,qi[zi++]=Va,qi[zi++]=ss,ss=o;var g=Ha;o=Va;var x=32-Jr(g)-1;g&=~(1<<x),c+=1;var L=32-Jr(l)+x;if(30<L){var U=x-x%5;L=(g&(1<<U)-1).toString(32),g>>=U,x-=U,Ha=1<<32-Jr(l)+x|c<<x|g,Va=L+o}else Ha=1<<L|c<<x|g,Va=o}function Uf(o){o.return!==null&&(ls(o,1),Lh(o,1,0))}function Wf(o){for(;o===tc;)tc=Gs[--Ks],Gs[Ks]=null,rc=Gs[--Ks],Gs[Ks]=null;for(;o===ss;)ss=qi[--zi],qi[zi]=null,Va=qi[--zi],qi[zi]=null,Ha=qi[--zi],qi[zi]=null}var xi=null,Ei=null,Or=!1,na=null;function Rh(o,l){var c=Ui(5,null,null,0);c.elementType="DELETED",c.stateNode=l,c.return=o,l=o.deletions,l===null?(o.deletions=[c],o.flags|=16):l.push(c)}function Ih(o,l){switch(o.tag){case 5:var c=o.type;return l=l.nodeType!==1||c.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,xi=o,Ei=Ti(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,xi=o,Ei=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(c=ss!==null?{id:Ha,overflow:Va}:null,o.memoizedState={dehydrated:l,treeContext:c,retryLane:1073741824},c=Ui(18,null,null,0),c.stateNode=l,c.return=o,o.child=c,xi=o,Ei=null,!0):!1;default:return!1}}function jf(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Gf(o){if(Or){var l=Ei;if(l){var c=l;if(!Ih(o,l)){if(jf(o))throw Error(t(418));l=Ti(c.nextSibling);var g=xi;l&&Ih(o,l)?Rh(g,c):(o.flags=o.flags&-4097|2,Or=!1,xi=o)}}else{if(jf(o))throw Error(t(418));o.flags=o.flags&-4097|2,Or=!1,xi=o}}}function Ph(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;xi=o}function nc(o){if(o!==xi)return!1;if(!Or)return Ph(o),Or=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!cn(o.type,o.memoizedProps)),l&&(l=Ei)){if(jf(o))throw Bh(),Error(t(418));for(;l;)Rh(o,l),l=Ti(l.nextSibling)}if(Ph(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var c=o.data;if(c==="/$"){if(l===0){Ei=Ti(o.nextSibling);break e}l--}else c!=="$"&&c!=="$!"&&c!=="$?"||l++}o=o.nextSibling}Ei=null}}else Ei=xi?Ti(o.stateNode.nextSibling):null;return!0}function Bh(){for(var o=Ei;o;)o=Ti(o.nextSibling)}function Js(){Ei=xi=null,Or=!1}function Kf(o){na===null?na=[o]:na.push(o)}var Gm=ve.ReactCurrentBatchConfig;function Ul(o,l,c){if(o=c.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var g=c.stateNode}if(!g)throw Error(t(147,o));var x=g,L=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===L?l.ref:(l=function(U){var ne=x.refs;U===null?delete ne[L]:ne[L]=U},l._stringRef=L,l)}if(typeof o!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,o))}return o}function ic(o,l){throw o=Object.prototype.toString.call(l),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function Fh(o){var l=o._init;return l(o._payload)}function _h(o){function l(Me,ke){if(o){var De=Me.deletions;De===null?(Me.deletions=[ke],Me.flags|=16):De.push(ke)}}function c(Me,ke){if(!o)return null;for(;ke!==null;)l(Me,ke),ke=ke.sibling;return null}function g(Me,ke){for(Me=new Map;ke!==null;)ke.key!==null?Me.set(ke.key,ke):Me.set(ke.index,ke),ke=ke.sibling;return Me}function x(Me,ke){return Me=Oo(Me,ke),Me.index=0,Me.sibling=null,Me}function L(Me,ke,De){return Me.index=De,o?(De=Me.alternate,De!==null?(De=De.index,De<ke?(Me.flags|=2,ke):De):(Me.flags|=2,ke)):(Me.flags|=1048576,ke)}function U(Me){return o&&Me.alternate===null&&(Me.flags|=2),Me}function ne(Me,ke,De,rt){return ke===null||ke.tag!==6?(ke=qd(De,Me.mode,rt),ke.return=Me,ke):(ke=x(ke,De),ke.return=Me,ke)}function fe(Me,ke,De,rt){var xt=De.type;return xt===Ee?Je(Me,ke,De.props.children,rt,De.key):ke!==null&&(ke.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===St&&Fh(xt)===ke.type)?(rt=x(ke,De.props),rt.ref=Ul(Me,ke,De),rt.return=Me,rt):(rt=Nc(De.type,De.key,De.props,null,Me.mode,rt),rt.ref=Ul(Me,ke,De),rt.return=Me,rt)}function Re(Me,ke,De,rt){return ke===null||ke.tag!==4||ke.stateNode.containerInfo!==De.containerInfo||ke.stateNode.implementation!==De.implementation?(ke=zd(De,Me.mode,rt),ke.return=Me,ke):(ke=x(ke,De.children||[]),ke.return=Me,ke)}function Je(Me,ke,De,rt,xt){return ke===null||ke.tag!==7?(ke=ms(De,Me.mode,rt,xt),ke.return=Me,ke):(ke=x(ke,De),ke.return=Me,ke)}function Ze(Me,ke,De){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return ke=qd(""+ke,Me.mode,De),ke.return=Me,ke;if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case be:return De=Nc(ke.type,ke.key,ke.props,null,Me.mode,De),De.ref=Ul(Me,null,ke),De.return=Me,De;case me:return ke=zd(ke,Me.mode,De),ke.return=Me,ke;case St:var rt=ke._init;return Ze(Me,rt(ke._payload),De)}if(yr(ke)||mt(ke))return ke=ms(ke,Me.mode,De,null),ke.return=Me,ke;ic(Me,ke)}return null}function Ge(Me,ke,De,rt){var xt=ke!==null?ke.key:null;if(typeof De=="string"&&De!==""||typeof De=="number")return xt!==null?null:ne(Me,ke,""+De,rt);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case be:return De.key===xt?fe(Me,ke,De,rt):null;case me:return De.key===xt?Re(Me,ke,De,rt):null;case St:return xt=De._init,Ge(Me,ke,xt(De._payload),rt)}if(yr(De)||mt(De))return xt!==null?null:Je(Me,ke,De,rt,null);ic(Me,De)}return null}function vt(Me,ke,De,rt,xt){if(typeof rt=="string"&&rt!==""||typeof rt=="number")return Me=Me.get(De)||null,ne(ke,Me,""+rt,xt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case be:return Me=Me.get(rt.key===null?De:rt.key)||null,fe(ke,Me,rt,xt);case me:return Me=Me.get(rt.key===null?De:rt.key)||null,Re(ke,Me,rt,xt);case St:var Ft=rt._init;return vt(Me,ke,De,Ft(rt._payload),xt)}if(yr(rt)||mt(rt))return Me=Me.get(De)||null,Je(ke,Me,rt,xt,null);ic(ke,rt)}return null}function bt(Me,ke,De,rt){for(var xt=null,Ft=null,_t=ke,Ut=ke=0,hn=null;_t!==null&&Ut<De.length;Ut++){_t.index>Ut?(hn=_t,_t=null):hn=_t.sibling;var lr=Ge(Me,_t,De[Ut],rt);if(lr===null){_t===null&&(_t=hn);break}o&&_t&&lr.alternate===null&&l(Me,_t),ke=L(lr,ke,Ut),Ft===null?xt=lr:Ft.sibling=lr,Ft=lr,_t=hn}if(Ut===De.length)return c(Me,_t),Or&&ls(Me,Ut),xt;if(_t===null){for(;Ut<De.length;Ut++)_t=Ze(Me,De[Ut],rt),_t!==null&&(ke=L(_t,ke,Ut),Ft===null?xt=_t:Ft.sibling=_t,Ft=_t);return Or&&ls(Me,Ut),xt}for(_t=g(Me,_t);Ut<De.length;Ut++)hn=vt(_t,Me,Ut,De[Ut],rt),hn!==null&&(o&&hn.alternate!==null&&_t.delete(hn.key===null?Ut:hn.key),ke=L(hn,ke,Ut),Ft===null?xt=hn:Ft.sibling=hn,Ft=hn);return o&&_t.forEach(function(Do){return l(Me,Do)}),Or&&ls(Me,Ut),xt}function Tt(Me,ke,De,rt){var xt=mt(De);if(typeof xt!="function")throw Error(t(150));if(De=xt.call(De),De==null)throw Error(t(151));for(var Ft=xt=null,_t=ke,Ut=ke=0,hn=null,lr=De.next();_t!==null&&!lr.done;Ut++,lr=De.next()){_t.index>Ut?(hn=_t,_t=null):hn=_t.sibling;var Do=Ge(Me,_t,lr.value,rt);if(Do===null){_t===null&&(_t=hn);break}o&&_t&&Do.alternate===null&&l(Me,_t),ke=L(Do,ke,Ut),Ft===null?xt=Do:Ft.sibling=Do,Ft=Do,_t=hn}if(lr.done)return c(Me,_t),Or&&ls(Me,Ut),xt;if(_t===null){for(;!lr.done;Ut++,lr=De.next())lr=Ze(Me,lr.value,rt),lr!==null&&(ke=L(lr,ke,Ut),Ft===null?xt=lr:Ft.sibling=lr,Ft=lr);return Or&&ls(Me,Ut),xt}for(_t=g(Me,_t);!lr.done;Ut++,lr=De.next())lr=vt(_t,Me,Ut,lr.value,rt),lr!==null&&(o&&lr.alternate!==null&&_t.delete(lr.key===null?Ut:lr.key),ke=L(lr,ke,Ut),Ft===null?xt=lr:Ft.sibling=lr,Ft=lr);return o&&_t.forEach(function(Eg){return l(Me,Eg)}),Or&&ls(Me,Ut),xt}function Wr(Me,ke,De,rt){if(typeof De=="object"&&De!==null&&De.type===Ee&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case be:e:{for(var xt=De.key,Ft=ke;Ft!==null;){if(Ft.key===xt){if(xt=De.type,xt===Ee){if(Ft.tag===7){c(Me,Ft.sibling),ke=x(Ft,De.props.children),ke.return=Me,Me=ke;break e}}else if(Ft.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===St&&Fh(xt)===Ft.type){c(Me,Ft.sibling),ke=x(Ft,De.props),ke.ref=Ul(Me,Ft,De),ke.return=Me,Me=ke;break e}c(Me,Ft);break}else l(Me,Ft);Ft=Ft.sibling}De.type===Ee?(ke=ms(De.props.children,Me.mode,rt,De.key),ke.return=Me,Me=ke):(rt=Nc(De.type,De.key,De.props,null,Me.mode,rt),rt.ref=Ul(Me,ke,De),rt.return=Me,Me=rt)}return U(Me);case me:e:{for(Ft=De.key;ke!==null;){if(ke.key===Ft)if(ke.tag===4&&ke.stateNode.containerInfo===De.containerInfo&&ke.stateNode.implementation===De.implementation){c(Me,ke.sibling),ke=x(ke,De.children||[]),ke.return=Me,Me=ke;break e}else{c(Me,ke);break}else l(Me,ke);ke=ke.sibling}ke=zd(De,Me.mode,rt),ke.return=Me,Me=ke}return U(Me);case St:return Ft=De._init,Wr(Me,ke,Ft(De._payload),rt)}if(yr(De))return bt(Me,ke,De,rt);if(mt(De))return Tt(Me,ke,De,rt);ic(Me,De)}return typeof De=="string"&&De!==""||typeof De=="number"?(De=""+De,ke!==null&&ke.tag===6?(c(Me,ke.sibling),ke=x(ke,De),ke.return=Me,Me=ke):(c(Me,ke),ke=qd(De,Me.mode,rt),ke.return=Me,Me=ke),U(Me)):c(Me,ke)}return Wr}var Qs=_h(!0),qh=_h(!1),ac=ko(null),oc=null,Xs=null,Jf=null;function Qf(){Jf=Xs=oc=null}function Xf(o){var l=ac.current;Er(ac),o._currentValue=l}function Yf(o,l,c){for(;o!==null;){var g=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),o===c)break;o=o.return}}function Ys(o,l){oc=o,Jf=Xs=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(ui=!0),o.firstContext=null)}function Hi(o){var l=o._currentValue;if(Jf!==o)if(o={context:o,memoizedValue:l,next:null},Xs===null){if(oc===null)throw Error(t(308));Xs=o,oc.dependencies={lanes:0,firstContext:o}}else Xs=Xs.next=o;return l}var us=null;function Zf(o){us===null?us=[o]:us.push(o)}function zh(o,l,c,g){var x=l.interleaved;return x===null?(c.next=c,Zf(l)):(c.next=x.next,x.next=c),l.interleaved=c,$a(o,g)}function $a(o,l){o.lanes|=l;var c=o.alternate;for(c!==null&&(c.lanes|=l),c=o,o=o.return;o!==null;)o.childLanes|=l,c=o.alternate,c!==null&&(c.childLanes|=l),c=o,o=o.return;return c.tag===3?c.stateNode:null}var Co=!1;function ed(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hh(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Ua(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function To(o,l,c){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(sr&2)!==0){var x=g.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),g.pending=l,$a(o,c)}return x=g.interleaved,x===null?(l.next=l,Zf(g)):(l.next=x.next,x.next=l),g.interleaved=l,$a(o,c)}function sc(o,l,c){if(l=l.updateQueue,l!==null&&(l=l.shared,(c&4194240)!==0)){var g=l.lanes;g&=o.pendingLanes,c|=g,l.lanes=c,va(o,c)}}function Vh(o,l){var c=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,c===g)){var x=null,L=null;if(c=c.firstBaseUpdate,c!==null){do{var U={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};L===null?x=L=U:L=L.next=U,c=c.next}while(c!==null);L===null?x=L=l:L=L.next=l}else x=L=l;c={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:L,shared:g.shared,effects:g.effects},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=l:o.next=l,c.lastBaseUpdate=l}function lc(o,l,c,g){var x=o.updateQueue;Co=!1;var L=x.firstBaseUpdate,U=x.lastBaseUpdate,ne=x.shared.pending;if(ne!==null){x.shared.pending=null;var fe=ne,Re=fe.next;fe.next=null,U===null?L=Re:U.next=Re,U=fe;var Je=o.alternate;Je!==null&&(Je=Je.updateQueue,ne=Je.lastBaseUpdate,ne!==U&&(ne===null?Je.firstBaseUpdate=Re:ne.next=Re,Je.lastBaseUpdate=fe))}if(L!==null){var Ze=x.baseState;U=0,Je=Re=fe=null,ne=L;do{var Ge=ne.lane,vt=ne.eventTime;if((g&Ge)===Ge){Je!==null&&(Je=Je.next={eventTime:vt,lane:0,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null});e:{var bt=o,Tt=ne;switch(Ge=l,vt=c,Tt.tag){case 1:if(bt=Tt.payload,typeof bt=="function"){Ze=bt.call(vt,Ze,Ge);break e}Ze=bt;break e;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=Tt.payload,Ge=typeof bt=="function"?bt.call(vt,Ze,Ge):bt,Ge==null)break e;Ze=Ve({},Ze,Ge);break e;case 2:Co=!0}}ne.callback!==null&&ne.lane!==0&&(o.flags|=64,Ge=x.effects,Ge===null?x.effects=[ne]:Ge.push(ne))}else vt={eventTime:vt,lane:Ge,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null},Je===null?(Re=Je=vt,fe=Ze):Je=Je.next=vt,U|=Ge;if(ne=ne.next,ne===null){if(ne=x.shared.pending,ne===null)break;Ge=ne,ne=Ge.next,Ge.next=null,x.lastBaseUpdate=Ge,x.shared.pending=null}}while(!0);if(Je===null&&(fe=Ze),x.baseState=fe,x.firstBaseUpdate=Re,x.lastBaseUpdate=Je,l=x.shared.interleaved,l!==null){x=l;do U|=x.lane,x=x.next;while(x!==l)}else L===null&&(x.shared.lanes=0);ds|=U,o.lanes=U,o.memoizedState=Ze}}function $h(o,l,c){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var g=o[l],x=g.callback;if(x!==null){if(g.callback=null,g=c,typeof x!="function")throw Error(t(191,x));x.call(g)}}}var Wl={},ya=ko(Wl),jl=ko(Wl),Gl=ko(Wl);function cs(o){if(o===Wl)throw Error(t(174));return o}function td(o,l){switch(Tr(Gl,l),Tr(jl,o),Tr(ya,Wl),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:lt(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=lt(l,o)}Er(ya),Tr(ya,l)}function Zs(){Er(ya),Er(jl),Er(Gl)}function Uh(o){cs(Gl.current);var l=cs(ya.current),c=lt(l,o.type);l!==c&&(Tr(jl,o),Tr(ya,c))}function rd(o){jl.current===o&&(Er(ya),Er(jl))}var Rr=ko(0);function uc(o){for(var l=o;l!==null;){if(l.tag===13){var c=l.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var nd=[];function id(){for(var o=0;o<nd.length;o++)nd[o]._workInProgressVersionPrimary=null;nd.length=0}var cc=ve.ReactCurrentDispatcher,ad=ve.ReactCurrentBatchConfig,fs=0,Ir=null,tn=null,fn=null,fc=!1,Kl=!1,Jl=0,Km=0;function On(){throw Error(t(321))}function od(o,l){if(l===null)return!1;for(var c=0;c<l.length&&c<o.length;c++)if(!ai(o[c],l[c]))return!1;return!0}function sd(o,l,c,g,x,L){if(fs=L,Ir=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,cc.current=o===null||o.memoizedState===null?Ym:Zm,o=c(g,x),Kl){L=0;do{if(Kl=!1,Jl=0,25<=L)throw Error(t(301));L+=1,fn=tn=null,l.updateQueue=null,cc.current=eg,o=c(g,x)}while(Kl)}if(cc.current=pc,l=tn!==null&&tn.next!==null,fs=0,fn=tn=Ir=null,fc=!1,l)throw Error(t(300));return o}function ld(){var o=Jl!==0;return Jl=0,o}function ka(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Ir.memoizedState=fn=o:fn=fn.next=o,fn}function Vi(){if(tn===null){var o=Ir.alternate;o=o!==null?o.memoizedState:null}else o=tn.next;var l=fn===null?Ir.memoizedState:fn.next;if(l!==null)fn=l,tn=o;else{if(o===null)throw Error(t(310));tn=o,o={memoizedState:tn.memoizedState,baseState:tn.baseState,baseQueue:tn.baseQueue,queue:tn.queue,next:null},fn===null?Ir.memoizedState=fn=o:fn=fn.next=o}return fn}function Ql(o,l){return typeof l=="function"?l(o):l}function ud(o){var l=Vi(),c=l.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var g=tn,x=g.baseQueue,L=c.pending;if(L!==null){if(x!==null){var U=x.next;x.next=L.next,L.next=U}g.baseQueue=x=L,c.pending=null}if(x!==null){L=x.next,g=g.baseState;var ne=U=null,fe=null,Re=L;do{var Je=Re.lane;if((fs&Je)===Je)fe!==null&&(fe=fe.next={lane:0,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null}),g=Re.hasEagerState?Re.eagerState:o(g,Re.action);else{var Ze={lane:Je,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null};fe===null?(ne=fe=Ze,U=g):fe=fe.next=Ze,Ir.lanes|=Je,ds|=Je}Re=Re.next}while(Re!==null&&Re!==L);fe===null?U=g:fe.next=ne,ai(g,l.memoizedState)||(ui=!0),l.memoizedState=g,l.baseState=U,l.baseQueue=fe,c.lastRenderedState=g}if(o=c.interleaved,o!==null){x=o;do L=x.lane,Ir.lanes|=L,ds|=L,x=x.next;while(x!==o)}else x===null&&(c.lanes=0);return[l.memoizedState,c.dispatch]}function cd(o){var l=Vi(),c=l.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var g=c.dispatch,x=c.pending,L=l.memoizedState;if(x!==null){c.pending=null;var U=x=x.next;do L=o(L,U.action),U=U.next;while(U!==x);ai(L,l.memoizedState)||(ui=!0),l.memoizedState=L,l.baseQueue===null&&(l.baseState=L),c.lastRenderedState=L}return[L,g]}function Wh(){}function jh(o,l){var c=Ir,g=Vi(),x=l(),L=!ai(g.memoizedState,x);if(L&&(g.memoizedState=x,ui=!0),g=g.queue,fd(Jh.bind(null,c,g,o),[o]),g.getSnapshot!==l||L||fn!==null&&fn.memoizedState.tag&1){if(c.flags|=2048,Xl(9,Kh.bind(null,c,g,x,l),void 0,null),dn===null)throw Error(t(349));(fs&30)!==0||Gh(c,l,x)}return x}function Gh(o,l,c){o.flags|=16384,o={getSnapshot:l,value:c},l=Ir.updateQueue,l===null?(l={lastEffect:null,stores:null},Ir.updateQueue=l,l.stores=[o]):(c=l.stores,c===null?l.stores=[o]:c.push(o))}function Kh(o,l,c,g){l.value=c,l.getSnapshot=g,Qh(l)&&Xh(o)}function Jh(o,l,c){return c(function(){Qh(l)&&Xh(o)})}function Qh(o){var l=o.getSnapshot;o=o.value;try{var c=l();return!ai(o,c)}catch{return!0}}function Xh(o){var l=$a(o,1);l!==null&&sa(l,o,1,-1)}function Yh(o){var l=ka();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ql,lastRenderedState:o},l.queue=o,o=o.dispatch=Xm.bind(null,Ir,o),[l.memoizedState,o]}function Xl(o,l,c,g){return o={tag:o,create:l,destroy:c,deps:g,next:null},l=Ir.updateQueue,l===null?(l={lastEffect:null,stores:null},Ir.updateQueue=l,l.lastEffect=o.next=o):(c=l.lastEffect,c===null?l.lastEffect=o.next=o:(g=c.next,c.next=o,o.next=g,l.lastEffect=o)),o}function Zh(){return Vi().memoizedState}function dc(o,l,c,g){var x=ka();Ir.flags|=o,x.memoizedState=Xl(1|l,c,void 0,g===void 0?null:g)}function hc(o,l,c,g){var x=Vi();g=g===void 0?null:g;var L=void 0;if(tn!==null){var U=tn.memoizedState;if(L=U.destroy,g!==null&&od(g,U.deps)){x.memoizedState=Xl(l,c,L,g);return}}Ir.flags|=o,x.memoizedState=Xl(1|l,c,L,g)}function ep(o,l){return dc(8390656,8,o,l)}function fd(o,l){return hc(2048,8,o,l)}function tp(o,l){return hc(4,2,o,l)}function rp(o,l){return hc(4,4,o,l)}function np(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function ip(o,l,c){return c=c!=null?c.concat([o]):null,hc(4,4,np.bind(null,l,o),c)}function dd(){}function ap(o,l){var c=Vi();l=l===void 0?null:l;var g=c.memoizedState;return g!==null&&l!==null&&od(l,g[1])?g[0]:(c.memoizedState=[o,l],o)}function op(o,l){var c=Vi();l=l===void 0?null:l;var g=c.memoizedState;return g!==null&&l!==null&&od(l,g[1])?g[0]:(o=o(),c.memoizedState=[o,l],o)}function sp(o,l,c){return(fs&21)===0?(o.baseState&&(o.baseState=!1,ui=!0),o.memoizedState=c):(ai(c,l)||(c=Oa(),Ir.lanes|=c,ds|=c,o.baseState=!0),l)}function Jm(o,l){var c=Jt;Jt=c!==0&&4>c?c:4,o(!0);var g=ad.transition;ad.transition={};try{o(!1),l()}finally{Jt=c,ad.transition=g}}function lp(){return Vi().memoizedState}function Qm(o,l,c){var g=Mo(o);if(c={lane:g,action:c,hasEagerState:!1,eagerState:null,next:null},up(o))cp(l,c);else if(c=zh(o,l,c,g),c!==null){var x=Wn();sa(c,o,g,x),fp(c,l,g)}}function Xm(o,l,c){var g=Mo(o),x={lane:g,action:c,hasEagerState:!1,eagerState:null,next:null};if(up(o))cp(l,x);else{var L=o.alternate;if(o.lanes===0&&(L===null||L.lanes===0)&&(L=l.lastRenderedReducer,L!==null))try{var U=l.lastRenderedState,ne=L(U,c);if(x.hasEagerState=!0,x.eagerState=ne,ai(ne,U)){var fe=l.interleaved;fe===null?(x.next=x,Zf(l)):(x.next=fe.next,fe.next=x),l.interleaved=x;return}}catch{}finally{}c=zh(o,l,x,g),c!==null&&(x=Wn(),sa(c,o,g,x),fp(c,l,g))}}function up(o){var l=o.alternate;return o===Ir||l!==null&&l===Ir}function cp(o,l){Kl=fc=!0;var c=o.pending;c===null?l.next=l:(l.next=c.next,c.next=l),o.pending=l}function fp(o,l,c){if((c&4194240)!==0){var g=l.lanes;g&=o.pendingLanes,c|=g,l.lanes=c,va(o,c)}}var pc={readContext:Hi,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useInsertionEffect:On,useLayoutEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useMutableSource:On,useSyncExternalStore:On,useId:On,unstable_isNewReconciler:!1},Ym={readContext:Hi,useCallback:function(o,l){return ka().memoizedState=[o,l===void 0?null:l],o},useContext:Hi,useEffect:ep,useImperativeHandle:function(o,l,c){return c=c!=null?c.concat([o]):null,dc(4194308,4,np.bind(null,l,o),c)},useLayoutEffect:function(o,l){return dc(4194308,4,o,l)},useInsertionEffect:function(o,l){return dc(4,2,o,l)},useMemo:function(o,l){var c=ka();return l=l===void 0?null:l,o=o(),c.memoizedState=[o,l],o},useReducer:function(o,l,c){var g=ka();return l=c!==void 0?c(l):l,g.memoizedState=g.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},g.queue=o,o=o.dispatch=Qm.bind(null,Ir,o),[g.memoizedState,o]},useRef:function(o){var l=ka();return o={current:o},l.memoizedState=o},useState:Yh,useDebugValue:dd,useDeferredValue:function(o){return ka().memoizedState=o},useTransition:function(){var o=Yh(!1),l=o[0];return o=Jm.bind(null,o[1]),ka().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,c){var g=Ir,x=ka();if(Or){if(c===void 0)throw Error(t(407));c=c()}else{if(c=l(),dn===null)throw Error(t(349));(fs&30)!==0||Gh(g,l,c)}x.memoizedState=c;var L={value:c,getSnapshot:l};return x.queue=L,ep(Jh.bind(null,g,L,o),[o]),g.flags|=2048,Xl(9,Kh.bind(null,g,L,c,l),void 0,null),c},useId:function(){var o=ka(),l=dn.identifierPrefix;if(Or){var c=Va,g=Ha;c=(g&~(1<<32-Jr(g)-1)).toString(32)+c,l=":"+l+"R"+c,c=Jl++,0<c&&(l+="H"+c.toString(32)),l+=":"}else c=Km++,l=":"+l+"r"+c.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},Zm={readContext:Hi,useCallback:ap,useContext:Hi,useEffect:fd,useImperativeHandle:ip,useInsertionEffect:tp,useLayoutEffect:rp,useMemo:op,useReducer:ud,useRef:Zh,useState:function(){return ud(Ql)},useDebugValue:dd,useDeferredValue:function(o){var l=Vi();return sp(l,tn.memoizedState,o)},useTransition:function(){var o=ud(Ql)[0],l=Vi().memoizedState;return[o,l]},useMutableSource:Wh,useSyncExternalStore:jh,useId:lp,unstable_isNewReconciler:!1},eg={readContext:Hi,useCallback:ap,useContext:Hi,useEffect:fd,useImperativeHandle:ip,useInsertionEffect:tp,useLayoutEffect:rp,useMemo:op,useReducer:cd,useRef:Zh,useState:function(){return cd(Ql)},useDebugValue:dd,useDeferredValue:function(o){var l=Vi();return tn===null?l.memoizedState=o:sp(l,tn.memoizedState,o)},useTransition:function(){var o=cd(Ql)[0],l=Vi().memoizedState;return[o,l]},useMutableSource:Wh,useSyncExternalStore:jh,useId:lp,unstable_isNewReconciler:!1};function ia(o,l){if(o&&o.defaultProps){l=Ve({},l),o=o.defaultProps;for(var c in o)l[c]===void 0&&(l[c]=o[c]);return l}return l}function hd(o,l,c,g){l=o.memoizedState,c=c(g,l),c=c==null?l:Ve({},l,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var vc={isMounted:function(o){return(o=o._reactInternals)?it(o)===o:!1},enqueueSetState:function(o,l,c){o=o._reactInternals;var g=Wn(),x=Mo(o),L=Ua(g,x);L.payload=l,c!=null&&(L.callback=c),l=To(o,L,x),l!==null&&(sa(l,o,x,g),sc(l,o,x))},enqueueReplaceState:function(o,l,c){o=o._reactInternals;var g=Wn(),x=Mo(o),L=Ua(g,x);L.tag=1,L.payload=l,c!=null&&(L.callback=c),l=To(o,L,x),l!==null&&(sa(l,o,x,g),sc(l,o,x))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var c=Wn(),g=Mo(o),x=Ua(c,g);x.tag=2,l!=null&&(x.callback=l),l=To(o,x,g),l!==null&&(sa(l,o,g,c),sc(l,o,g))}};function dp(o,l,c,g,x,L,U){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,L,U):l.prototype&&l.prototype.isPureReactComponent?!Zo(c,g)||!Zo(x,L):!0}function hp(o,l,c){var g=!1,x=wo,L=l.contextType;return typeof L=="object"&&L!==null?L=Hi(L):(x=li(l)?as:Nn.current,g=l.contextTypes,L=(g=g!=null)?js(o,x):wo),l=new l(c,L),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=vc,o.stateNode=l,l._reactInternals=o,g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=x,o.__reactInternalMemoizedMaskedChildContext=L),l}function pp(o,l,c,g){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(c,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(c,g),l.state!==o&&vc.enqueueReplaceState(l,l.state,null)}function pd(o,l,c,g){var x=o.stateNode;x.props=c,x.state=o.memoizedState,x.refs={},ed(o);var L=l.contextType;typeof L=="object"&&L!==null?x.context=Hi(L):(L=li(l)?as:Nn.current,x.context=js(o,L)),x.state=o.memoizedState,L=l.getDerivedStateFromProps,typeof L=="function"&&(hd(o,l,L,c),x.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(l=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),l!==x.state&&vc.enqueueReplaceState(x,x.state,null),lc(o,c,x,g),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308)}function el(o,l){try{var c="",g=l;do c+=Ht(g),g=g.return;while(g);var x=c}catch(L){x=`
Error generating stack: `+L.message+`
`+L.stack}return{value:o,source:l,stack:x,digest:null}}function vd(o,l,c){return{value:o,source:null,stack:c??null,digest:l??null}}function md(o,l){try{console.error(l.value)}catch(c){setTimeout(function(){throw c})}}var tg=typeof WeakMap=="function"?WeakMap:Map;function vp(o,l,c){c=Ua(-1,c),c.tag=3,c.payload={element:null};var g=l.value;return c.callback=function(){Cc||(Cc=!0,Ad=g),md(o,l)},c}function mp(o,l,c){c=Ua(-1,c),c.tag=3;var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var x=l.value;c.payload=function(){return g(x)},c.callback=function(){md(o,l)}}var L=o.stateNode;return L!==null&&typeof L.componentDidCatch=="function"&&(c.callback=function(){md(o,l),typeof g!="function"&&(xo===null?xo=new Set([this]):xo.add(this));var U=l.stack;this.componentDidCatch(l.value,{componentStack:U!==null?U:""})}),c}function gp(o,l,c){var g=o.pingCache;if(g===null){g=o.pingCache=new tg;var x=new Set;g.set(l,x)}else x=g.get(l),x===void 0&&(x=new Set,g.set(l,x));x.has(c)||(x.add(c),o=vg.bind(null,o,l,c),l.then(o,o))}function yp(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function kp(o,l,c,g,x){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(l=Ua(-1,1),l.tag=2,To(c,l,1))),c.lanes|=1),o):(o.flags|=65536,o.lanes=x,o)}var rg=ve.ReactCurrentOwner,ui=!1;function Un(o,l,c,g){l.child=o===null?qh(l,null,c,g):Qs(l,o.child,c,g)}function wp(o,l,c,g,x){c=c.render;var L=l.ref;return Ys(l,x),g=sd(o,l,c,g,L,x),c=ld(),o!==null&&!ui?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~x,Wa(o,l,x)):(Or&&c&&Uf(l),l.flags|=1,Un(o,l,g,x),l.child)}function bp(o,l,c,g,x){if(o===null){var L=c.type;return typeof L=="function"&&!_d(L)&&L.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(l.tag=15,l.type=L,Cp(o,l,L,g,x)):(o=Nc(c.type,null,g,l,l.mode,x),o.ref=l.ref,o.return=l,l.child=o)}if(L=o.child,(o.lanes&x)===0){var U=L.memoizedProps;if(c=c.compare,c=c!==null?c:Zo,c(U,g)&&o.ref===l.ref)return Wa(o,l,x)}return l.flags|=1,o=Oo(L,g),o.ref=l.ref,o.return=l,l.child=o}function Cp(o,l,c,g,x){if(o!==null){var L=o.memoizedProps;if(Zo(L,g)&&o.ref===l.ref)if(ui=!1,l.pendingProps=g=L,(o.lanes&x)!==0)(o.flags&131072)!==0&&(ui=!0);else return l.lanes=o.lanes,Wa(o,l,x)}return gd(o,l,c,g,x)}function Tp(o,l,c){var g=l.pendingProps,x=g.children,L=o!==null?o.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tr(rl,Mi),Mi|=c;else{if((c&1073741824)===0)return o=L!==null?L.baseLanes|c:c,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,Tr(rl,Mi),Mi|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=L!==null?L.baseLanes:c,Tr(rl,Mi),Mi|=g}else L!==null?(g=L.baseLanes|c,l.memoizedState=null):g=c,Tr(rl,Mi),Mi|=g;return Un(o,l,x,c),l.child}function Sp(o,l){var c=l.ref;(o===null&&c!==null||o!==null&&o.ref!==c)&&(l.flags|=512,l.flags|=2097152)}function gd(o,l,c,g,x){var L=li(c)?as:Nn.current;return L=js(l,L),Ys(l,x),c=sd(o,l,c,g,L,x),g=ld(),o!==null&&!ui?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~x,Wa(o,l,x)):(Or&&g&&Uf(l),l.flags|=1,Un(o,l,c,x),l.child)}function xp(o,l,c,g,x){if(li(c)){var L=!0;Zu(l)}else L=!1;if(Ys(l,x),l.stateNode===null)gc(o,l),hp(l,c,g),pd(l,c,g,x),g=!0;else if(o===null){var U=l.stateNode,ne=l.memoizedProps;U.props=ne;var fe=U.context,Re=c.contextType;typeof Re=="object"&&Re!==null?Re=Hi(Re):(Re=li(c)?as:Nn.current,Re=js(l,Re));var Je=c.getDerivedStateFromProps,Ze=typeof Je=="function"||typeof U.getSnapshotBeforeUpdate=="function";Ze||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(ne!==g||fe!==Re)&&pp(l,U,g,Re),Co=!1;var Ge=l.memoizedState;U.state=Ge,lc(l,g,U,x),fe=l.memoizedState,ne!==g||Ge!==fe||si.current||Co?(typeof Je=="function"&&(hd(l,c,Je,g),fe=l.memoizedState),(ne=Co||dp(l,c,ne,g,Ge,fe,Re))?(Ze||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(l.flags|=4194308)):(typeof U.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=fe),U.props=g,U.state=fe,U.context=Re,g=ne):(typeof U.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{U=l.stateNode,Hh(o,l),ne=l.memoizedProps,Re=l.type===l.elementType?ne:ia(l.type,ne),U.props=Re,Ze=l.pendingProps,Ge=U.context,fe=c.contextType,typeof fe=="object"&&fe!==null?fe=Hi(fe):(fe=li(c)?as:Nn.current,fe=js(l,fe));var vt=c.getDerivedStateFromProps;(Je=typeof vt=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(ne!==Ze||Ge!==fe)&&pp(l,U,g,fe),Co=!1,Ge=l.memoizedState,U.state=Ge,lc(l,g,U,x);var bt=l.memoizedState;ne!==Ze||Ge!==bt||si.current||Co?(typeof vt=="function"&&(hd(l,c,vt,g),bt=l.memoizedState),(Re=Co||dp(l,c,Re,g,Ge,bt,fe)||!1)?(Je||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(g,bt,fe),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(g,bt,fe)),typeof U.componentDidUpdate=="function"&&(l.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof U.componentDidUpdate!="function"||ne===o.memoizedProps&&Ge===o.memoizedState||(l.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||ne===o.memoizedProps&&Ge===o.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=bt),U.props=g,U.state=bt,U.context=fe,g=Re):(typeof U.componentDidUpdate!="function"||ne===o.memoizedProps&&Ge===o.memoizedState||(l.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||ne===o.memoizedProps&&Ge===o.memoizedState||(l.flags|=1024),g=!1)}return yd(o,l,c,g,L,x)}function yd(o,l,c,g,x,L){Sp(o,l);var U=(l.flags&128)!==0;if(!g&&!U)return x&&Dh(l,c,!1),Wa(o,l,L);g=l.stateNode,rg.current=l;var ne=U&&typeof c.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,o!==null&&U?(l.child=Qs(l,o.child,null,L),l.child=Qs(l,null,ne,L)):Un(o,l,ne,L),l.memoizedState=g.state,x&&Dh(l,c,!0),l.child}function Ep(o){var l=o.stateNode;l.pendingContext?Nh(o,l.pendingContext,l.pendingContext!==l.context):l.context&&Nh(o,l.context,!1),td(o,l.containerInfo)}function Mp(o,l,c,g,x){return Js(),Kf(x),l.flags|=256,Un(o,l,c,g),l.child}var kd={dehydrated:null,treeContext:null,retryLane:0};function wd(o){return{baseLanes:o,cachePool:null,transitions:null}}function Np(o,l,c){var g=l.pendingProps,x=Rr.current,L=!1,U=(l.flags&128)!==0,ne;if((ne=U)||(ne=o!==null&&o.memoizedState===null?!1:(x&2)!==0),ne?(L=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(x|=1),Tr(Rr,x&1),o===null)return Gf(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(U=g.children,o=g.fallback,L?(g=l.mode,L=l.child,U={mode:"hidden",children:U},(g&1)===0&&L!==null?(L.childLanes=0,L.pendingProps=U):L=Oc(U,g,0,null),o=ms(o,g,c,null),L.return=l,o.return=l,L.sibling=o,l.child=L,l.child.memoizedState=wd(c),l.memoizedState=kd,o):bd(l,U));if(x=o.memoizedState,x!==null&&(ne=x.dehydrated,ne!==null))return ng(o,l,U,g,ne,x,c);if(L){L=g.fallback,U=l.mode,x=o.child,ne=x.sibling;var fe={mode:"hidden",children:g.children};return(U&1)===0&&l.child!==x?(g=l.child,g.childLanes=0,g.pendingProps=fe,l.deletions=null):(g=Oo(x,fe),g.subtreeFlags=x.subtreeFlags&14680064),ne!==null?L=Oo(ne,L):(L=ms(L,U,c,null),L.flags|=2),L.return=l,g.return=l,g.sibling=L,l.child=g,g=L,L=l.child,U=o.child.memoizedState,U=U===null?wd(c):{baseLanes:U.baseLanes|c,cachePool:null,transitions:U.transitions},L.memoizedState=U,L.childLanes=o.childLanes&~c,l.memoizedState=kd,g}return L=o.child,o=L.sibling,g=Oo(L,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=c),g.return=l,g.sibling=null,o!==null&&(c=l.deletions,c===null?(l.deletions=[o],l.flags|=16):c.push(o)),l.child=g,l.memoizedState=null,g}function bd(o,l){return l=Oc({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function mc(o,l,c,g){return g!==null&&Kf(g),Qs(l,o.child,null,c),o=bd(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function ng(o,l,c,g,x,L,U){if(c)return l.flags&256?(l.flags&=-257,g=vd(Error(t(422))),mc(o,l,U,g)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(L=g.fallback,x=l.mode,g=Oc({mode:"visible",children:g.children},x,0,null),L=ms(L,x,U,null),L.flags|=2,g.return=l,L.return=l,g.sibling=L,l.child=g,(l.mode&1)!==0&&Qs(l,o.child,null,U),l.child.memoizedState=wd(U),l.memoizedState=kd,L);if((l.mode&1)===0)return mc(o,l,U,null);if(x.data==="$!"){if(g=x.nextSibling&&x.nextSibling.dataset,g)var ne=g.dgst;return g=ne,L=Error(t(419)),g=vd(L,g,void 0),mc(o,l,U,g)}if(ne=(U&o.childLanes)!==0,ui||ne){if(g=dn,g!==null){switch(U&-U){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(g.suspendedLanes|U))!==0?0:x,x!==0&&x!==L.retryLane&&(L.retryLane=x,$a(o,x),sa(g,o,x,-1))}return Fd(),g=vd(Error(t(421))),mc(o,l,U,g)}return x.data==="$?"?(l.flags|=128,l.child=o.child,l=mg.bind(null,o),x._reactRetry=l,null):(o=L.treeContext,Ei=Ti(x.nextSibling),xi=l,Or=!0,na=null,o!==null&&(qi[zi++]=Ha,qi[zi++]=Va,qi[zi++]=ss,Ha=o.id,Va=o.overflow,ss=l),l=bd(l,g.children),l.flags|=4096,l)}function Op(o,l,c){o.lanes|=l;var g=o.alternate;g!==null&&(g.lanes|=l),Yf(o.return,l,c)}function Cd(o,l,c,g,x){var L=o.memoizedState;L===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:c,tailMode:x}:(L.isBackwards=l,L.rendering=null,L.renderingStartTime=0,L.last=g,L.tail=c,L.tailMode=x)}function Dp(o,l,c){var g=l.pendingProps,x=g.revealOrder,L=g.tail;if(Un(o,l,g.children,c),g=Rr.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Op(o,c,l);else if(o.tag===19)Op(o,c,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}g&=1}if(Tr(Rr,g),(l.mode&1)===0)l.memoizedState=null;else switch(x){case"forwards":for(c=l.child,x=null;c!==null;)o=c.alternate,o!==null&&uc(o)===null&&(x=c),c=c.sibling;c=x,c===null?(x=l.child,l.child=null):(x=c.sibling,c.sibling=null),Cd(l,!1,x,c,L);break;case"backwards":for(c=null,x=l.child,l.child=null;x!==null;){if(o=x.alternate,o!==null&&uc(o)===null){l.child=x;break}o=x.sibling,x.sibling=c,c=x,x=o}Cd(l,!0,c,null,L);break;case"together":Cd(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function gc(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function Wa(o,l,c){if(o!==null&&(l.dependencies=o.dependencies),ds|=l.lanes,(c&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(t(153));if(l.child!==null){for(o=l.child,c=Oo(o,o.pendingProps),l.child=c,c.return=l;o.sibling!==null;)o=o.sibling,c=c.sibling=Oo(o,o.pendingProps),c.return=l;c.sibling=null}return l.child}function ig(o,l,c){switch(l.tag){case 3:Ep(l),Js();break;case 5:Uh(l);break;case 1:li(l.type)&&Zu(l);break;case 4:td(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,x=l.memoizedProps.value;Tr(ac,g._currentValue),g._currentValue=x;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(Tr(Rr,Rr.current&1),l.flags|=128,null):(c&l.child.childLanes)!==0?Np(o,l,c):(Tr(Rr,Rr.current&1),o=Wa(o,l,c),o!==null?o.sibling:null);Tr(Rr,Rr.current&1);break;case 19:if(g=(c&l.childLanes)!==0,(o.flags&128)!==0){if(g)return Dp(o,l,c);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Tr(Rr,Rr.current),g)break;return null;case 22:case 23:return l.lanes=0,Tp(o,l,c)}return Wa(o,l,c)}var Ap,Td,Lp,Rp;Ap=function(o,l){for(var c=l.child;c!==null;){if(c.tag===5||c.tag===6)o.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Td=function(){},Lp=function(o,l,c,g){var x=o.memoizedProps;if(x!==g){o=l.stateNode,cs(ya.current);var L=null;switch(c){case"input":x=qt(o,x),g=qt(o,g),L=[];break;case"select":x=Ve({},x,{value:void 0}),g=Ve({},g,{value:void 0}),L=[];break;case"textarea":x=nr(o,x),g=nr(o,g),L=[];break;default:typeof x.onClick!="function"&&typeof g.onClick=="function"&&(o.onclick=gr)}_n(c,g);var U;c=null;for(Re in x)if(!g.hasOwnProperty(Re)&&x.hasOwnProperty(Re)&&x[Re]!=null)if(Re==="style"){var ne=x[Re];for(U in ne)ne.hasOwnProperty(U)&&(c||(c={}),c[U]="")}else Re!=="dangerouslySetInnerHTML"&&Re!=="children"&&Re!=="suppressContentEditableWarning"&&Re!=="suppressHydrationWarning"&&Re!=="autoFocus"&&(i.hasOwnProperty(Re)?L||(L=[]):(L=L||[]).push(Re,null));for(Re in g){var fe=g[Re];if(ne=x?.[Re],g.hasOwnProperty(Re)&&fe!==ne&&(fe!=null||ne!=null))if(Re==="style")if(ne){for(U in ne)!ne.hasOwnProperty(U)||fe&&fe.hasOwnProperty(U)||(c||(c={}),c[U]="");for(U in fe)fe.hasOwnProperty(U)&&ne[U]!==fe[U]&&(c||(c={}),c[U]=fe[U])}else c||(L||(L=[]),L.push(Re,c)),c=fe;else Re==="dangerouslySetInnerHTML"?(fe=fe?fe.__html:void 0,ne=ne?ne.__html:void 0,fe!=null&&ne!==fe&&(L=L||[]).push(Re,fe)):Re==="children"?typeof fe!="string"&&typeof fe!="number"||(L=L||[]).push(Re,""+fe):Re!=="suppressContentEditableWarning"&&Re!=="suppressHydrationWarning"&&(i.hasOwnProperty(Re)?(fe!=null&&Re==="onScroll"&&J("scroll",o),L||ne===fe||(L=[])):(L=L||[]).push(Re,fe))}c&&(L=L||[]).push("style",c);var Re=L;(l.updateQueue=Re)&&(l.flags|=4)}},Rp=function(o,l,c,g){c!==g&&(l.flags|=4)};function Yl(o,l){if(!Or)switch(o.tailMode){case"hidden":l=o.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var g=null;c!==null;)c.alternate!==null&&(g=c),c=c.sibling;g===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function Dn(o){var l=o.alternate!==null&&o.alternate.child===o.child,c=0,g=0;if(l)for(var x=o.child;x!==null;)c|=x.lanes|x.childLanes,g|=x.subtreeFlags&14680064,g|=x.flags&14680064,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)c|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=g,o.childLanes=c,l}function ag(o,l,c){var g=l.pendingProps;switch(Wf(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dn(l),null;case 1:return li(l.type)&&Yu(),Dn(l),null;case 3:return g=l.stateNode,Zs(),Er(si),Er(Nn),id(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(o===null||o.child===null)&&(nc(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,na!==null&&(Id(na),na=null))),Td(o,l),Dn(l),null;case 5:rd(l);var x=cs(Gl.current);if(c=l.type,o!==null&&l.stateNode!=null)Lp(o,l,c,g,x),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(t(166));return Dn(l),null}if(o=cs(ya.current),nc(l)){g=l.stateNode,c=l.type;var L=l.memoizedProps;switch(g[Nr]=l,g[Mn]=L,o=(l.mode&1)!==0,c){case"dialog":J("cancel",g),J("close",g);break;case"iframe":case"object":case"embed":J("load",g);break;case"video":case"audio":for(x=0;x<M.length;x++)J(M[x],g);break;case"source":J("error",g);break;case"img":case"image":case"link":J("error",g),J("load",g);break;case"details":J("toggle",g);break;case"input":Wt(g,L),J("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!L.multiple},J("invalid",g);break;case"textarea":Vr(g,L),J("invalid",g)}_n(c,L),x=null;for(var U in L)if(L.hasOwnProperty(U)){var ne=L[U];U==="children"?typeof ne=="string"?g.textContent!==ne&&(L.suppressHydrationWarning!==!0&&or(g.textContent,ne,o),x=["children",ne]):typeof ne=="number"&&g.textContent!==""+ne&&(L.suppressHydrationWarning!==!0&&or(g.textContent,ne,o),x=["children",""+ne]):i.hasOwnProperty(U)&&ne!=null&&U==="onScroll"&&J("scroll",g)}switch(c){case"input":Pe(g),Kt(g,L,!0);break;case"textarea":Pe(g),Fn(g);break;case"select":case"option":break;default:typeof L.onClick=="function"&&(g.onclick=gr)}g=x,l.updateQueue=g,g!==null&&(l.flags|=4)}else{U=x.nodeType===9?x:x.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Br(c)),o==="http://www.w3.org/1999/xhtml"?c==="script"?(o=U.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof g.is=="string"?o=U.createElement(c,{is:g.is}):(o=U.createElement(c),c==="select"&&(U=o,g.multiple?U.multiple=!0:g.size&&(U.size=g.size))):o=U.createElementNS(o,c),o[Nr]=l,o[Mn]=g,Ap(o,l,!1,!1),l.stateNode=o;e:{switch(U=Dr(c,g),c){case"dialog":J("cancel",o),J("close",o),x=g;break;case"iframe":case"object":case"embed":J("load",o),x=g;break;case"video":case"audio":for(x=0;x<M.length;x++)J(M[x],o);x=g;break;case"source":J("error",o),x=g;break;case"img":case"image":case"link":J("error",o),J("load",o),x=g;break;case"details":J("toggle",o),x=g;break;case"input":Wt(o,g),x=qt(o,g),J("invalid",o);break;case"option":x=g;break;case"select":o._wrapperState={wasMultiple:!!g.multiple},x=Ve({},g,{value:void 0}),J("invalid",o);break;case"textarea":Vr(o,g),x=nr(o,g),J("invalid",o);break;default:x=g}_n(c,x),ne=x;for(L in ne)if(ne.hasOwnProperty(L)){var fe=ne[L];L==="style"?Cr(o,fe):L==="dangerouslySetInnerHTML"?(fe=fe?fe.__html:void 0,fe!=null&&Bt(o,fe)):L==="children"?typeof fe=="string"?(c!=="textarea"||fe!=="")&&$t(o,fe):typeof fe=="number"&&$t(o,""+fe):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(i.hasOwnProperty(L)?fe!=null&&L==="onScroll"&&J("scroll",o):fe!=null&&le(o,L,fe,U))}switch(c){case"input":Pe(o),Kt(o,g,!1);break;case"textarea":Pe(o),Fn(o);break;case"option":g.value!=null&&o.setAttribute("value",""+oe(g.value));break;case"select":o.multiple=!!g.multiple,L=g.value,L!=null?Sr(o,!!g.multiple,L,!1):g.defaultValue!=null&&Sr(o,!!g.multiple,g.defaultValue,!0);break;default:typeof x.onClick=="function"&&(o.onclick=gr)}switch(c){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Dn(l),null;case 6:if(o&&l.stateNode!=null)Rp(o,l,o.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(t(166));if(c=cs(Gl.current),cs(ya.current),nc(l)){if(g=l.stateNode,c=l.memoizedProps,g[Nr]=l,(L=g.nodeValue!==c)&&(o=xi,o!==null))switch(o.tag){case 3:or(g.nodeValue,c,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&or(g.nodeValue,c,(o.mode&1)!==0)}L&&(l.flags|=4)}else g=(c.nodeType===9?c:c.ownerDocument).createTextNode(g),g[Nr]=l,l.stateNode=g}return Dn(l),null;case 13:if(Er(Rr),g=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Or&&Ei!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Bh(),Js(),l.flags|=98560,L=!1;else if(L=nc(l),g!==null&&g.dehydrated!==null){if(o===null){if(!L)throw Error(t(318));if(L=l.memoizedState,L=L!==null?L.dehydrated:null,!L)throw Error(t(317));L[Nr]=l}else Js(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Dn(l),L=!1}else na!==null&&(Id(na),na=null),L=!0;if(!L)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=c,l):(g=g!==null,g!==(o!==null&&o.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(Rr.current&1)!==0?rn===0&&(rn=3):Fd())),l.updateQueue!==null&&(l.flags|=4),Dn(l),null);case 4:return Zs(),Td(o,l),o===null&&pe(l.stateNode.containerInfo),Dn(l),null;case 10:return Xf(l.type._context),Dn(l),null;case 17:return li(l.type)&&Yu(),Dn(l),null;case 19:if(Er(Rr),L=l.memoizedState,L===null)return Dn(l),null;if(g=(l.flags&128)!==0,U=L.rendering,U===null)if(g)Yl(L,!1);else{if(rn!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(U=uc(o),U!==null){for(l.flags|=128,Yl(L,!1),g=U.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=c,c=l.child;c!==null;)L=c,o=g,L.flags&=14680066,U=L.alternate,U===null?(L.childLanes=0,L.lanes=o,L.child=null,L.subtreeFlags=0,L.memoizedProps=null,L.memoizedState=null,L.updateQueue=null,L.dependencies=null,L.stateNode=null):(L.childLanes=U.childLanes,L.lanes=U.lanes,L.child=U.child,L.subtreeFlags=0,L.deletions=null,L.memoizedProps=U.memoizedProps,L.memoizedState=U.memoizedState,L.updateQueue=U.updateQueue,L.type=U.type,o=U.dependencies,L.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),c=c.sibling;return Tr(Rr,Rr.current&1|2),l.child}o=o.sibling}L.tail!==null&&ye()>nl&&(l.flags|=128,g=!0,Yl(L,!1),l.lanes=4194304)}else{if(!g)if(o=uc(U),o!==null){if(l.flags|=128,g=!0,c=o.updateQueue,c!==null&&(l.updateQueue=c,l.flags|=4),Yl(L,!0),L.tail===null&&L.tailMode==="hidden"&&!U.alternate&&!Or)return Dn(l),null}else 2*ye()-L.renderingStartTime>nl&&c!==1073741824&&(l.flags|=128,g=!0,Yl(L,!1),l.lanes=4194304);L.isBackwards?(U.sibling=l.child,l.child=U):(c=L.last,c!==null?c.sibling=U:l.child=U,L.last=U)}return L.tail!==null?(l=L.tail,L.rendering=l,L.tail=l.sibling,L.renderingStartTime=ye(),l.sibling=null,c=Rr.current,Tr(Rr,g?c&1|2:c&1),l):(Dn(l),null);case 22:case 23:return Bd(),g=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(Mi&1073741824)!==0&&(Dn(l),l.subtreeFlags&6&&(l.flags|=8192)):Dn(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function og(o,l){switch(Wf(l),l.tag){case 1:return li(l.type)&&Yu(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Zs(),Er(si),Er(Nn),id(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return rd(l),null;case 13:if(Er(Rr),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(t(340));Js()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return Er(Rr),null;case 4:return Zs(),null;case 10:return Xf(l.type._context),null;case 22:case 23:return Bd(),null;case 24:return null;default:return null}}var yc=!1,An=!1,sg=typeof WeakSet=="function"?WeakSet:Set,yt=null;function tl(o,l){var c=o.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(g){zr(o,l,g)}else c.current=null}function Sd(o,l,c){try{c()}catch(g){zr(o,l,g)}}var Ip=!1;function lg(o,l){if($n=kt,o=Gu(),Pl(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var g=c.getSelection&&c.getSelection();if(g&&g.rangeCount!==0){c=g.anchorNode;var x=g.anchorOffset,L=g.focusNode;g=g.focusOffset;try{c.nodeType,L.nodeType}catch{c=null;break e}var U=0,ne=-1,fe=-1,Re=0,Je=0,Ze=o,Ge=null;t:for(;;){for(var vt;Ze!==c||x!==0&&Ze.nodeType!==3||(ne=U+x),Ze!==L||g!==0&&Ze.nodeType!==3||(fe=U+g),Ze.nodeType===3&&(U+=Ze.nodeValue.length),(vt=Ze.firstChild)!==null;)Ge=Ze,Ze=vt;for(;;){if(Ze===o)break t;if(Ge===c&&++Re===x&&(ne=U),Ge===L&&++Je===g&&(fe=U),(vt=Ze.nextSibling)!==null)break;Ze=Ge,Ge=Ze.parentNode}Ze=vt}c=ne===-1||fe===-1?null:{start:ne,end:fe}}else c=null}c=c||{start:0,end:0}}else c=null;for(qr={focusedElem:o,selectionRange:c},kt=!1,yt=l;yt!==null;)if(l=yt,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,yt=o;else for(;yt!==null;){l=yt;try{var bt=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(bt!==null){var Tt=bt.memoizedProps,Wr=bt.memoizedState,Me=l.stateNode,ke=Me.getSnapshotBeforeUpdate(l.elementType===l.type?Tt:ia(l.type,Tt),Wr);Me.__reactInternalSnapshotBeforeUpdate=ke}break;case 3:var De=l.stateNode.containerInfo;De.nodeType===1?De.textContent="":De.nodeType===9&&De.documentElement&&De.removeChild(De.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(rt){zr(l,l.return,rt)}if(o=l.sibling,o!==null){o.return=l.return,yt=o;break}yt=l.return}return bt=Ip,Ip=!1,bt}function Zl(o,l,c){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var x=g=g.next;do{if((x.tag&o)===o){var L=x.destroy;x.destroy=void 0,L!==void 0&&Sd(l,c,L)}x=x.next}while(x!==g)}}function kc(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var c=l=l.next;do{if((c.tag&o)===o){var g=c.create;c.destroy=g()}c=c.next}while(c!==l)}}function xd(o){var l=o.ref;if(l!==null){var c=o.stateNode;switch(o.tag){case 5:o=c;break;default:o=c}typeof l=="function"?l(o):l.current=o}}function Pp(o){var l=o.alternate;l!==null&&(o.alternate=null,Pp(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[Nr],delete l[Mn],delete l[Hf],delete l[Um],delete l[Wm])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Bp(o){return o.tag===5||o.tag===3||o.tag===4}function Fp(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Bp(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Ed(o,l,c){var g=o.tag;if(g===5||g===6)o=o.stateNode,l?c.nodeType===8?c.parentNode.insertBefore(o,l):c.insertBefore(o,l):(c.nodeType===8?(l=c.parentNode,l.insertBefore(o,c)):(l=c,l.appendChild(o)),c=c._reactRootContainer,c!=null||l.onclick!==null||(l.onclick=gr));else if(g!==4&&(o=o.child,o!==null))for(Ed(o,l,c),o=o.sibling;o!==null;)Ed(o,l,c),o=o.sibling}function Md(o,l,c){var g=o.tag;if(g===5||g===6)o=o.stateNode,l?c.insertBefore(o,l):c.appendChild(o);else if(g!==4&&(o=o.child,o!==null))for(Md(o,l,c),o=o.sibling;o!==null;)Md(o,l,c),o=o.sibling}var yn=null,aa=!1;function So(o,l,c){for(c=c.child;c!==null;)_p(o,l,c),c=c.sibling}function _p(o,l,c){if(Ar&&typeof Ar.onCommitFiberUnmount=="function")try{Ar.onCommitFiberUnmount(cr,c)}catch{}switch(c.tag){case 5:An||tl(c,l);case 6:var g=yn,x=aa;yn=null,So(o,l,c),yn=g,aa=x,yn!==null&&(aa?(o=yn,c=c.stateNode,o.nodeType===8?o.parentNode.removeChild(c):o.removeChild(c)):yn.removeChild(c.stateNode));break;case 18:yn!==null&&(aa?(o=yn,c=c.stateNode,o.nodeType===8?qa(o.parentNode,c):o.nodeType===1&&qa(o,c),Se(o)):qa(yn,c.stateNode));break;case 4:g=yn,x=aa,yn=c.stateNode.containerInfo,aa=!0,So(o,l,c),yn=g,aa=x;break;case 0:case 11:case 14:case 15:if(!An&&(g=c.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){x=g=g.next;do{var L=x,U=L.destroy;L=L.tag,U!==void 0&&((L&2)!==0||(L&4)!==0)&&Sd(c,l,U),x=x.next}while(x!==g)}So(o,l,c);break;case 1:if(!An&&(tl(c,l),g=c.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=c.memoizedProps,g.state=c.memoizedState,g.componentWillUnmount()}catch(ne){zr(c,l,ne)}So(o,l,c);break;case 21:So(o,l,c);break;case 22:c.mode&1?(An=(g=An)||c.memoizedState!==null,So(o,l,c),An=g):So(o,l,c);break;default:So(o,l,c)}}function qp(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var c=o.stateNode;c===null&&(c=o.stateNode=new sg),l.forEach(function(g){var x=gg.bind(null,o,g);c.has(g)||(c.add(g),g.then(x,x))})}}function oa(o,l){var c=l.deletions;if(c!==null)for(var g=0;g<c.length;g++){var x=c[g];try{var L=o,U=l,ne=U;e:for(;ne!==null;){switch(ne.tag){case 5:yn=ne.stateNode,aa=!1;break e;case 3:yn=ne.stateNode.containerInfo,aa=!0;break e;case 4:yn=ne.stateNode.containerInfo,aa=!0;break e}ne=ne.return}if(yn===null)throw Error(t(160));_p(L,U,x),yn=null,aa=!1;var fe=x.alternate;fe!==null&&(fe.return=null),x.return=null}catch(Re){zr(x,l,Re)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)zp(l,o),l=l.sibling}function zp(o,l){var c=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(oa(l,o),wa(o),g&4){try{Zl(3,o,o.return),kc(3,o)}catch(Tt){zr(o,o.return,Tt)}try{Zl(5,o,o.return)}catch(Tt){zr(o,o.return,Tt)}}break;case 1:oa(l,o),wa(o),g&512&&c!==null&&tl(c,c.return);break;case 5:if(oa(l,o),wa(o),g&512&&c!==null&&tl(c,c.return),o.flags&32){var x=o.stateNode;try{$t(x,"")}catch(Tt){zr(o,o.return,Tt)}}if(g&4&&(x=o.stateNode,x!=null)){var L=o.memoizedProps,U=c!==null?c.memoizedProps:L,ne=o.type,fe=o.updateQueue;if(o.updateQueue=null,fe!==null)try{ne==="input"&&L.type==="radio"&&L.name!=null&&Vt(x,L),Dr(ne,U);var Re=Dr(ne,L);for(U=0;U<fe.length;U+=2){var Je=fe[U],Ze=fe[U+1];Je==="style"?Cr(x,Ze):Je==="dangerouslySetInnerHTML"?Bt(x,Ze):Je==="children"?$t(x,Ze):le(x,Je,Ze,Re)}switch(ne){case"input":br(x,L);break;case"textarea":yi(x,L);break;case"select":var Ge=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!L.multiple;var vt=L.value;vt!=null?Sr(x,!!L.multiple,vt,!1):Ge!==!!L.multiple&&(L.defaultValue!=null?Sr(x,!!L.multiple,L.defaultValue,!0):Sr(x,!!L.multiple,L.multiple?[]:"",!1))}x[Mn]=L}catch(Tt){zr(o,o.return,Tt)}}break;case 6:if(oa(l,o),wa(o),g&4){if(o.stateNode===null)throw Error(t(162));x=o.stateNode,L=o.memoizedProps;try{x.nodeValue=L}catch(Tt){zr(o,o.return,Tt)}}break;case 3:if(oa(l,o),wa(o),g&4&&c!==null&&c.memoizedState.isDehydrated)try{Se(l.containerInfo)}catch(Tt){zr(o,o.return,Tt)}break;case 4:oa(l,o),wa(o);break;case 13:oa(l,o),wa(o),x=o.child,x.flags&8192&&(L=x.memoizedState!==null,x.stateNode.isHidden=L,!L||x.alternate!==null&&x.alternate.memoizedState!==null||(Dd=ye())),g&4&&qp(o);break;case 22:if(Je=c!==null&&c.memoizedState!==null,o.mode&1?(An=(Re=An)||Je,oa(l,o),An=Re):oa(l,o),wa(o),g&8192){if(Re=o.memoizedState!==null,(o.stateNode.isHidden=Re)&&!Je&&(o.mode&1)!==0)for(yt=o,Je=o.child;Je!==null;){for(Ze=yt=Je;yt!==null;){switch(Ge=yt,vt=Ge.child,Ge.tag){case 0:case 11:case 14:case 15:Zl(4,Ge,Ge.return);break;case 1:tl(Ge,Ge.return);var bt=Ge.stateNode;if(typeof bt.componentWillUnmount=="function"){g=Ge,c=Ge.return;try{l=g,bt.props=l.memoizedProps,bt.state=l.memoizedState,bt.componentWillUnmount()}catch(Tt){zr(g,c,Tt)}}break;case 5:tl(Ge,Ge.return);break;case 22:if(Ge.memoizedState!==null){$p(Ze);continue}}vt!==null?(vt.return=Ge,yt=vt):$p(Ze)}Je=Je.sibling}e:for(Je=null,Ze=o;;){if(Ze.tag===5){if(Je===null){Je=Ze;try{x=Ze.stateNode,Re?(L=x.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none"):(ne=Ze.stateNode,fe=Ze.memoizedProps.style,U=fe!=null&&fe.hasOwnProperty("display")?fe.display:null,ne.style.display=pr("display",U))}catch(Tt){zr(o,o.return,Tt)}}}else if(Ze.tag===6){if(Je===null)try{Ze.stateNode.nodeValue=Re?"":Ze.memoizedProps}catch(Tt){zr(o,o.return,Tt)}}else if((Ze.tag!==22&&Ze.tag!==23||Ze.memoizedState===null||Ze===o)&&Ze.child!==null){Ze.child.return=Ze,Ze=Ze.child;continue}if(Ze===o)break e;for(;Ze.sibling===null;){if(Ze.return===null||Ze.return===o)break e;Je===Ze&&(Je=null),Ze=Ze.return}Je===Ze&&(Je=null),Ze.sibling.return=Ze.return,Ze=Ze.sibling}}break;case 19:oa(l,o),wa(o),g&4&&qp(o);break;case 21:break;default:oa(l,o),wa(o)}}function wa(o){var l=o.flags;if(l&2){try{e:{for(var c=o.return;c!==null;){if(Bp(c)){var g=c;break e}c=c.return}throw Error(t(160))}switch(g.tag){case 5:var x=g.stateNode;g.flags&32&&($t(x,""),g.flags&=-33);var L=Fp(o);Md(o,L,x);break;case 3:case 4:var U=g.stateNode.containerInfo,ne=Fp(o);Ed(o,ne,U);break;default:throw Error(t(161))}}catch(fe){zr(o,o.return,fe)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function ug(o,l,c){yt=o,Hp(o)}function Hp(o,l,c){for(var g=(o.mode&1)!==0;yt!==null;){var x=yt,L=x.child;if(x.tag===22&&g){var U=x.memoizedState!==null||yc;if(!U){var ne=x.alternate,fe=ne!==null&&ne.memoizedState!==null||An;ne=yc;var Re=An;if(yc=U,(An=fe)&&!Re)for(yt=x;yt!==null;)U=yt,fe=U.child,U.tag===22&&U.memoizedState!==null?Up(x):fe!==null?(fe.return=U,yt=fe):Up(x);for(;L!==null;)yt=L,Hp(L),L=L.sibling;yt=x,yc=ne,An=Re}Vp(o)}else(x.subtreeFlags&8772)!==0&&L!==null?(L.return=x,yt=L):Vp(o)}}function Vp(o){for(;yt!==null;){var l=yt;if((l.flags&8772)!==0){var c=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:An||kc(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!An)if(c===null)g.componentDidMount();else{var x=l.elementType===l.type?c.memoizedProps:ia(l.type,c.memoizedProps);g.componentDidUpdate(x,c.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var L=l.updateQueue;L!==null&&$h(l,L,g);break;case 3:var U=l.updateQueue;if(U!==null){if(c=null,l.child!==null)switch(l.child.tag){case 5:c=l.child.stateNode;break;case 1:c=l.child.stateNode}$h(l,U,c)}break;case 5:var ne=l.stateNode;if(c===null&&l.flags&4){c=ne;var fe=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":fe.autoFocus&&c.focus();break;case"img":fe.src&&(c.src=fe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Re=l.alternate;if(Re!==null){var Je=Re.memoizedState;if(Je!==null){var Ze=Je.dehydrated;Ze!==null&&Se(Ze)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}An||l.flags&512&&xd(l)}catch(Ge){zr(l,l.return,Ge)}}if(l===o){yt=null;break}if(c=l.sibling,c!==null){c.return=l.return,yt=c;break}yt=l.return}}function $p(o){for(;yt!==null;){var l=yt;if(l===o){yt=null;break}var c=l.sibling;if(c!==null){c.return=l.return,yt=c;break}yt=l.return}}function Up(o){for(;yt!==null;){var l=yt;try{switch(l.tag){case 0:case 11:case 15:var c=l.return;try{kc(4,l)}catch(fe){zr(l,c,fe)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var x=l.return;try{g.componentDidMount()}catch(fe){zr(l,x,fe)}}var L=l.return;try{xd(l)}catch(fe){zr(l,L,fe)}break;case 5:var U=l.return;try{xd(l)}catch(fe){zr(l,U,fe)}}}catch(fe){zr(l,l.return,fe)}if(l===o){yt=null;break}var ne=l.sibling;if(ne!==null){ne.return=l.return,yt=ne;break}yt=l.return}}var cg=Math.ceil,wc=ve.ReactCurrentDispatcher,Nd=ve.ReactCurrentOwner,$i=ve.ReactCurrentBatchConfig,sr=0,dn=null,Xr=null,kn=0,Mi=0,rl=ko(0),rn=0,eu=null,ds=0,bc=0,Od=0,tu=null,ci=null,Dd=0,nl=1/0,ja=null,Cc=!1,Ad=null,xo=null,Tc=!1,Eo=null,Sc=0,ru=0,Ld=null,xc=-1,Ec=0;function Wn(){return(sr&6)!==0?ye():xc!==-1?xc:xc=ye()}function Mo(o){return(o.mode&1)===0?1:(sr&2)!==0&&kn!==0?kn&-kn:Gm.transition!==null?(Ec===0&&(Ec=Oa()),Ec):(o=Jt,o!==0||(o=window.event,o=o===void 0?16:ta(o.type)),o)}function sa(o,l,c,g){if(50<ru)throw ru=0,Ld=null,Error(t(185));xn(o,c,g),((sr&2)===0||o!==dn)&&(o===dn&&((sr&2)===0&&(bc|=c),rn===4&&No(o,kn)),fi(o,g),c===1&&sr===0&&(l.mode&1)===0&&(nl=ye()+500,ec&&bo()))}function fi(o,l){var c=o.callbackNode;ro(o,l);var g=gn(o,o===dn?kn:0);if(g===0)c!==null&&K(c),o.callbackNode=null,o.callbackPriority=0;else if(l=g&-g,o.callbackPriority!==l){if(c!=null&&K(c),l===1)o.tag===0?jm(jp.bind(null,o)):Ah(jp.bind(null,o)),yo(function(){(sr&6)===0&&bo()}),c=null;else{switch($o(g)){case 1:c=Qe;break;case 4:c=je;break;case 16:c=at;break;case 536870912:c=Zt;break;default:c=at}c=ev(c,Wp.bind(null,o))}o.callbackPriority=l,o.callbackNode=c}}function Wp(o,l){if(xc=-1,Ec=0,(sr&6)!==0)throw Error(t(327));var c=o.callbackNode;if(il()&&o.callbackNode!==c)return null;var g=gn(o,o===dn?kn:0);if(g===0)return null;if((g&30)!==0||(g&o.expiredLanes)!==0||l)l=Mc(o,g);else{l=g;var x=sr;sr|=2;var L=Kp();(dn!==o||kn!==l)&&(ja=null,nl=ye()+500,ps(o,l));do try{hg();break}catch(ne){Gp(o,ne)}while(!0);Qf(),wc.current=L,sr=x,Xr!==null?l=0:(dn=null,kn=0,l=rn)}if(l!==0){if(l===2&&(x=pa(o),x!==0&&(g=x,l=Rd(o,x))),l===1)throw c=eu,ps(o,0),No(o,g),fi(o,ye()),c;if(l===6)No(o,g);else{if(x=o.current.alternate,(g&30)===0&&!fg(x)&&(l=Mc(o,g),l===2&&(L=pa(o),L!==0&&(g=L,l=Rd(o,L))),l===1))throw c=eu,ps(o,0),No(o,g),fi(o,ye()),c;switch(o.finishedWork=x,o.finishedLanes=g,l){case 0:case 1:throw Error(t(345));case 2:vs(o,ci,ja);break;case 3:if(No(o,g),(g&130023424)===g&&(l=Dd+500-ye(),10<l)){if(gn(o,0)!==0)break;if(x=o.suspendedLanes,(x&g)!==g){Wn(),o.pingedLanes|=o.suspendedLanes&x;break}o.timeoutHandle=oi(vs.bind(null,o,ci,ja),l);break}vs(o,ci,ja);break;case 4:if(No(o,g),(g&4194240)===g)break;for(l=o.eventTimes,x=-1;0<g;){var U=31-Jr(g);L=1<<U,U=l[U],U>x&&(x=U),g&=~L}if(g=x,g=ye()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*cg(g/1960))-g,10<g){o.timeoutHandle=oi(vs.bind(null,o,ci,ja),g);break}vs(o,ci,ja);break;case 5:vs(o,ci,ja);break;default:throw Error(t(329))}}}return fi(o,ye()),o.callbackNode===c?Wp.bind(null,o):null}function Rd(o,l){var c=tu;return o.current.memoizedState.isDehydrated&&(ps(o,l).flags|=256),o=Mc(o,l),o!==2&&(l=ci,ci=c,l!==null&&Id(l)),o}function Id(o){ci===null?ci=o:ci.push.apply(ci,o)}function fg(o){for(var l=o;;){if(l.flags&16384){var c=l.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var g=0;g<c.length;g++){var x=c[g],L=x.getSnapshot;x=x.value;try{if(!ai(L(),x))return!1}catch{return!1}}}if(c=l.child,l.subtreeFlags&16384&&c!==null)c.return=l,l=c;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function No(o,l){for(l&=~Od,l&=~bc,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var c=31-Jr(l),g=1<<c;o[c]=-1,l&=~g}}function jp(o){if((sr&6)!==0)throw Error(t(327));il();var l=gn(o,0);if((l&1)===0)return fi(o,ye()),null;var c=Mc(o,l);if(o.tag!==0&&c===2){var g=pa(o);g!==0&&(l=g,c=Rd(o,g))}if(c===1)throw c=eu,ps(o,0),No(o,l),fi(o,ye()),c;if(c===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,vs(o,ci,ja),fi(o,ye()),null}function Pd(o,l){var c=sr;sr|=1;try{return o(l)}finally{sr=c,sr===0&&(nl=ye()+500,ec&&bo())}}function hs(o){Eo!==null&&Eo.tag===0&&(sr&6)===0&&il();var l=sr;sr|=1;var c=$i.transition,g=Jt;try{if($i.transition=null,Jt=1,o)return o()}finally{Jt=g,$i.transition=c,sr=l,(sr&6)===0&&bo()}}function Bd(){Mi=rl.current,Er(rl)}function ps(o,l){o.finishedWork=null,o.finishedLanes=0;var c=o.timeoutHandle;if(c!==-1&&(o.timeoutHandle=-1,go(c)),Xr!==null)for(c=Xr.return;c!==null;){var g=c;switch(Wf(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Yu();break;case 3:Zs(),Er(si),Er(Nn),id();break;case 5:rd(g);break;case 4:Zs();break;case 13:Er(Rr);break;case 19:Er(Rr);break;case 10:Xf(g.type._context);break;case 22:case 23:Bd()}c=c.return}if(dn=o,Xr=o=Oo(o.current,null),kn=Mi=l,rn=0,eu=null,Od=bc=ds=0,ci=tu=null,us!==null){for(l=0;l<us.length;l++)if(c=us[l],g=c.interleaved,g!==null){c.interleaved=null;var x=g.next,L=c.pending;if(L!==null){var U=L.next;L.next=x,g.next=U}c.pending=g}us=null}return o}function Gp(o,l){do{var c=Xr;try{if(Qf(),cc.current=pc,fc){for(var g=Ir.memoizedState;g!==null;){var x=g.queue;x!==null&&(x.pending=null),g=g.next}fc=!1}if(fs=0,fn=tn=Ir=null,Kl=!1,Jl=0,Nd.current=null,c===null||c.return===null){rn=1,eu=l,Xr=null;break}e:{var L=o,U=c.return,ne=c,fe=l;if(l=kn,ne.flags|=32768,fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var Re=fe,Je=ne,Ze=Je.tag;if((Je.mode&1)===0&&(Ze===0||Ze===11||Ze===15)){var Ge=Je.alternate;Ge?(Je.updateQueue=Ge.updateQueue,Je.memoizedState=Ge.memoizedState,Je.lanes=Ge.lanes):(Je.updateQueue=null,Je.memoizedState=null)}var vt=yp(U);if(vt!==null){vt.flags&=-257,kp(vt,U,ne,L,l),vt.mode&1&&gp(L,Re,l),l=vt,fe=Re;var bt=l.updateQueue;if(bt===null){var Tt=new Set;Tt.add(fe),l.updateQueue=Tt}else bt.add(fe);break e}else{if((l&1)===0){gp(L,Re,l),Fd();break e}fe=Error(t(426))}}else if(Or&&ne.mode&1){var Wr=yp(U);if(Wr!==null){(Wr.flags&65536)===0&&(Wr.flags|=256),kp(Wr,U,ne,L,l),Kf(el(fe,ne));break e}}L=fe=el(fe,ne),rn!==4&&(rn=2),tu===null?tu=[L]:tu.push(L),L=U;do{switch(L.tag){case 3:L.flags|=65536,l&=-l,L.lanes|=l;var Me=vp(L,fe,l);Vh(L,Me);break e;case 1:ne=fe;var ke=L.type,De=L.stateNode;if((L.flags&128)===0&&(typeof ke.getDerivedStateFromError=="function"||De!==null&&typeof De.componentDidCatch=="function"&&(xo===null||!xo.has(De)))){L.flags|=65536,l&=-l,L.lanes|=l;var rt=mp(L,ne,l);Vh(L,rt);break e}}L=L.return}while(L!==null)}Qp(c)}catch(xt){l=xt,Xr===c&&c!==null&&(Xr=c=c.return);continue}break}while(!0)}function Kp(){var o=wc.current;return wc.current=pc,o===null?pc:o}function Fd(){(rn===0||rn===3||rn===2)&&(rn=4),dn===null||(ds&268435455)===0&&(bc&268435455)===0||No(dn,kn)}function Mc(o,l){var c=sr;sr|=2;var g=Kp();(dn!==o||kn!==l)&&(ja=null,ps(o,l));do try{dg();break}catch(x){Gp(o,x)}while(!0);if(Qf(),sr=c,wc.current=g,Xr!==null)throw Error(t(261));return dn=null,kn=0,rn}function dg(){for(;Xr!==null;)Jp(Xr)}function hg(){for(;Xr!==null&&!Z();)Jp(Xr)}function Jp(o){var l=Zp(o.alternate,o,Mi);o.memoizedProps=o.pendingProps,l===null?Qp(o):Xr=l,Nd.current=null}function Qp(o){var l=o;do{var c=l.alternate;if(o=l.return,(l.flags&32768)===0){if(c=ag(c,l,Mi),c!==null){Xr=c;return}}else{if(c=og(c,l),c!==null){c.flags&=32767,Xr=c;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{rn=6,Xr=null;return}}if(l=l.sibling,l!==null){Xr=l;return}Xr=l=o}while(l!==null);rn===0&&(rn=5)}function vs(o,l,c){var g=Jt,x=$i.transition;try{$i.transition=null,Jt=1,pg(o,l,c,g)}finally{$i.transition=x,Jt=g}return null}function pg(o,l,c,g){do il();while(Eo!==null);if((sr&6)!==0)throw Error(t(327));c=o.finishedWork;var x=o.finishedLanes;if(c===null)return null;if(o.finishedWork=null,o.finishedLanes=0,c===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var L=c.lanes|c.childLanes;if(Aa(o,L),o===dn&&(Xr=dn=null,kn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Tc||(Tc=!0,ev(at,function(){return il(),null})),L=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||L){L=$i.transition,$i.transition=null;var U=Jt;Jt=1;var ne=sr;sr|=4,Nd.current=null,lg(o,c),zp(c,o),qf(qr),kt=!!$n,qr=$n=null,o.current=c,ug(c),ae(),sr=ne,Jt=U,$i.transition=L}else o.current=c;if(Tc&&(Tc=!1,Eo=o,Sc=x),L=o.pendingLanes,L===0&&(xo=null),Yi(c.stateNode),fi(o,ye()),l!==null)for(g=o.onRecoverableError,c=0;c<l.length;c++)x=l[c],g(x.value,{componentStack:x.stack,digest:x.digest});if(Cc)throw Cc=!1,o=Ad,Ad=null,o;return(Sc&1)!==0&&o.tag!==0&&il(),L=o.pendingLanes,(L&1)!==0?o===Ld?ru++:(ru=0,Ld=o):ru=0,bo(),null}function il(){if(Eo!==null){var o=$o(Sc),l=$i.transition,c=Jt;try{if($i.transition=null,Jt=16>o?16:o,Eo===null)var g=!1;else{if(o=Eo,Eo=null,Sc=0,(sr&6)!==0)throw Error(t(331));var x=sr;for(sr|=4,yt=o.current;yt!==null;){var L=yt,U=L.child;if((yt.flags&16)!==0){var ne=L.deletions;if(ne!==null){for(var fe=0;fe<ne.length;fe++){var Re=ne[fe];for(yt=Re;yt!==null;){var Je=yt;switch(Je.tag){case 0:case 11:case 15:Zl(8,Je,L)}var Ze=Je.child;if(Ze!==null)Ze.return=Je,yt=Ze;else for(;yt!==null;){Je=yt;var Ge=Je.sibling,vt=Je.return;if(Pp(Je),Je===Re){yt=null;break}if(Ge!==null){Ge.return=vt,yt=Ge;break}yt=vt}}}var bt=L.alternate;if(bt!==null){var Tt=bt.child;if(Tt!==null){bt.child=null;do{var Wr=Tt.sibling;Tt.sibling=null,Tt=Wr}while(Tt!==null)}}yt=L}}if((L.subtreeFlags&2064)!==0&&U!==null)U.return=L,yt=U;else e:for(;yt!==null;){if(L=yt,(L.flags&2048)!==0)switch(L.tag){case 0:case 11:case 15:Zl(9,L,L.return)}var Me=L.sibling;if(Me!==null){Me.return=L.return,yt=Me;break e}yt=L.return}}var ke=o.current;for(yt=ke;yt!==null;){U=yt;var De=U.child;if((U.subtreeFlags&2064)!==0&&De!==null)De.return=U,yt=De;else e:for(U=ke;yt!==null;){if(ne=yt,(ne.flags&2048)!==0)try{switch(ne.tag){case 0:case 11:case 15:kc(9,ne)}}catch(xt){zr(ne,ne.return,xt)}if(ne===U){yt=null;break e}var rt=ne.sibling;if(rt!==null){rt.return=ne.return,yt=rt;break e}yt=ne.return}}if(sr=x,bo(),Ar&&typeof Ar.onPostCommitFiberRoot=="function")try{Ar.onPostCommitFiberRoot(cr,o)}catch{}g=!0}return g}finally{Jt=c,$i.transition=l}}return!1}function Xp(o,l,c){l=el(c,l),l=vp(o,l,1),o=To(o,l,1),l=Wn(),o!==null&&(xn(o,1,l),fi(o,l))}function zr(o,l,c){if(o.tag===3)Xp(o,o,c);else for(;l!==null;){if(l.tag===3){Xp(l,o,c);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(xo===null||!xo.has(g))){o=el(c,o),o=mp(l,o,1),l=To(l,o,1),o=Wn(),l!==null&&(xn(l,1,o),fi(l,o));break}}l=l.return}}function vg(o,l,c){var g=o.pingCache;g!==null&&g.delete(l),l=Wn(),o.pingedLanes|=o.suspendedLanes&c,dn===o&&(kn&c)===c&&(rn===4||rn===3&&(kn&130023424)===kn&&500>ye()-Dd?ps(o,0):Od|=c),fi(o,l)}function Yp(o,l){l===0&&((o.mode&1)===0?l=1:(l=Vn,Vn<<=1,(Vn&130023424)===0&&(Vn=4194304)));var c=Wn();o=$a(o,l),o!==null&&(xn(o,l,c),fi(o,c))}function mg(o){var l=o.memoizedState,c=0;l!==null&&(c=l.retryLane),Yp(o,c)}function gg(o,l){var c=0;switch(o.tag){case 13:var g=o.stateNode,x=o.memoizedState;x!==null&&(c=x.retryLane);break;case 19:g=o.stateNode;break;default:throw Error(t(314))}g!==null&&g.delete(l),Yp(o,c)}var Zp;Zp=function(o,l,c){if(o!==null)if(o.memoizedProps!==l.pendingProps||si.current)ui=!0;else{if((o.lanes&c)===0&&(l.flags&128)===0)return ui=!1,ig(o,l,c);ui=(o.flags&131072)!==0}else ui=!1,Or&&(l.flags&1048576)!==0&&Lh(l,rc,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;gc(o,l),o=l.pendingProps;var x=js(l,Nn.current);Ys(l,c),x=sd(null,l,g,o,x,c);var L=ld();return l.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,li(g)?(L=!0,Zu(l)):L=!1,l.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,ed(l),x.updater=vc,l.stateNode=x,x._reactInternals=l,pd(l,g,o,c),l=yd(null,l,g,!0,L,c)):(l.tag=0,Or&&L&&Uf(l),Un(null,l,x,c),l=l.child),l;case 16:g=l.elementType;e:{switch(gc(o,l),o=l.pendingProps,x=g._init,g=x(g._payload),l.type=g,x=l.tag=kg(g),o=ia(g,o),x){case 0:l=gd(null,l,g,o,c);break e;case 1:l=xp(null,l,g,o,c);break e;case 11:l=wp(null,l,g,o,c);break e;case 14:l=bp(null,l,g,ia(g.type,o),c);break e}throw Error(t(306,g,""))}return l;case 0:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:ia(g,x),gd(o,l,g,x,c);case 1:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:ia(g,x),xp(o,l,g,x,c);case 3:e:{if(Ep(l),o===null)throw Error(t(387));g=l.pendingProps,L=l.memoizedState,x=L.element,Hh(o,l),lc(l,g,null,c);var U=l.memoizedState;if(g=U.element,L.isDehydrated)if(L={element:g,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},l.updateQueue.baseState=L,l.memoizedState=L,l.flags&256){x=el(Error(t(423)),l),l=Mp(o,l,g,c,x);break e}else if(g!==x){x=el(Error(t(424)),l),l=Mp(o,l,g,c,x);break e}else for(Ei=Ti(l.stateNode.containerInfo.firstChild),xi=l,Or=!0,na=null,c=qh(l,null,g,c),l.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Js(),g===x){l=Wa(o,l,c);break e}Un(o,l,g,c)}l=l.child}return l;case 5:return Uh(l),o===null&&Gf(l),g=l.type,x=l.pendingProps,L=o!==null?o.memoizedProps:null,U=x.children,cn(g,x)?U=null:L!==null&&cn(g,L)&&(l.flags|=32),Sp(o,l),Un(o,l,U,c),l.child;case 6:return o===null&&Gf(l),null;case 13:return Np(o,l,c);case 4:return td(l,l.stateNode.containerInfo),g=l.pendingProps,o===null?l.child=Qs(l,null,g,c):Un(o,l,g,c),l.child;case 11:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:ia(g,x),wp(o,l,g,x,c);case 7:return Un(o,l,l.pendingProps,c),l.child;case 8:return Un(o,l,l.pendingProps.children,c),l.child;case 12:return Un(o,l,l.pendingProps.children,c),l.child;case 10:e:{if(g=l.type._context,x=l.pendingProps,L=l.memoizedProps,U=x.value,Tr(ac,g._currentValue),g._currentValue=U,L!==null)if(ai(L.value,U)){if(L.children===x.children&&!si.current){l=Wa(o,l,c);break e}}else for(L=l.child,L!==null&&(L.return=l);L!==null;){var ne=L.dependencies;if(ne!==null){U=L.child;for(var fe=ne.firstContext;fe!==null;){if(fe.context===g){if(L.tag===1){fe=Ua(-1,c&-c),fe.tag=2;var Re=L.updateQueue;if(Re!==null){Re=Re.shared;var Je=Re.pending;Je===null?fe.next=fe:(fe.next=Je.next,Je.next=fe),Re.pending=fe}}L.lanes|=c,fe=L.alternate,fe!==null&&(fe.lanes|=c),Yf(L.return,c,l),ne.lanes|=c;break}fe=fe.next}}else if(L.tag===10)U=L.type===l.type?null:L.child;else if(L.tag===18){if(U=L.return,U===null)throw Error(t(341));U.lanes|=c,ne=U.alternate,ne!==null&&(ne.lanes|=c),Yf(U,c,l),U=L.sibling}else U=L.child;if(U!==null)U.return=L;else for(U=L;U!==null;){if(U===l){U=null;break}if(L=U.sibling,L!==null){L.return=U.return,U=L;break}U=U.return}L=U}Un(o,l,x.children,c),l=l.child}return l;case 9:return x=l.type,g=l.pendingProps.children,Ys(l,c),x=Hi(x),g=g(x),l.flags|=1,Un(o,l,g,c),l.child;case 14:return g=l.type,x=ia(g,l.pendingProps),x=ia(g.type,x),bp(o,l,g,x,c);case 15:return Cp(o,l,l.type,l.pendingProps,c);case 17:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:ia(g,x),gc(o,l),l.tag=1,li(g)?(o=!0,Zu(l)):o=!1,Ys(l,c),hp(l,g,x),pd(l,g,x,c),yd(null,l,g,!0,o,c);case 19:return Dp(o,l,c);case 22:return Tp(o,l,c)}throw Error(t(156,l.tag))};function ev(o,l){return B(o,l)}function yg(o,l,c,g){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ui(o,l,c,g){return new yg(o,l,c,g)}function _d(o){return o=o.prototype,!(!o||!o.isReactComponent)}function kg(o){if(typeof o=="function")return _d(o)?1:0;if(o!=null){if(o=o.$$typeof,o===tt)return 11;if(o===zt)return 14}return 2}function Oo(o,l){var c=o.alternate;return c===null?(c=Ui(o.tag,l,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=l,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&14680064,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,l=o.dependencies,c.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c}function Nc(o,l,c,g,x,L){var U=2;if(g=o,typeof o=="function")_d(o)&&(U=1);else if(typeof o=="string")U=5;else e:switch(o){case Ee:return ms(c.children,x,L,l);case Ce:U=8,x|=8;break;case _e:return o=Ui(12,c,l,x|2),o.elementType=_e,o.lanes=L,o;case Rt:return o=Ui(13,c,l,x),o.elementType=Rt,o.lanes=L,o;case Dt:return o=Ui(19,c,l,x),o.elementType=Dt,o.lanes=L,o;case Pt:return Oc(c,x,L,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case We:U=10;break e;case Mt:U=9;break e;case tt:U=11;break e;case zt:U=14;break e;case St:U=16,g=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return l=Ui(U,c,l,x),l.elementType=o,l.type=g,l.lanes=L,l}function ms(o,l,c,g){return o=Ui(7,o,g,l),o.lanes=c,o}function Oc(o,l,c,g){return o=Ui(22,o,g,l),o.elementType=Pt,o.lanes=c,o.stateNode={isHidden:!1},o}function qd(o,l,c){return o=Ui(6,o,null,l),o.lanes=c,o}function zd(o,l,c){return l=Ui(4,o.children!==null?o.children:[],o.key,l),l.lanes=c,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function wg(o,l,c,g,x){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Da(0),this.expirationTimes=Da(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Da(0),this.identifierPrefix=g,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Hd(o,l,c,g,x,L,U,ne,fe){return o=new wg(o,l,c,ne,fe),l===1?(l=1,L===!0&&(l|=8)):l=0,L=Ui(3,null,null,l),o.current=L,L.stateNode=o,L.memoizedState={element:g,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},ed(L),o}function bg(o,l,c){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:me,key:g==null?null:""+g,children:o,containerInfo:l,implementation:c}}function tv(o){if(!o)return wo;o=o._reactInternals;e:{if(it(o)!==o||o.tag!==1)throw Error(t(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(li(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(o.tag===1){var c=o.type;if(li(c))return Oh(o,c,l)}return l}function rv(o,l,c,g,x,L,U,ne,fe){return o=Hd(c,g,!0,o,x,L,U,ne,fe),o.context=tv(null),c=o.current,g=Wn(),x=Mo(c),L=Ua(g,x),L.callback=l??null,To(c,L,x),o.current.lanes=x,xn(o,x,g),fi(o,g),o}function Dc(o,l,c,g){var x=l.current,L=Wn(),U=Mo(x);return c=tv(c),l.context===null?l.context=c:l.pendingContext=c,l=Ua(L,U),l.payload={element:o},g=g===void 0?null:g,g!==null&&(l.callback=g),o=To(x,l,U),o!==null&&(sa(o,x,U,L),sc(o,x,U)),U}function Ac(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function nv(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<l?c:l}}function Vd(o,l){nv(o,l),(o=o.alternate)&&nv(o,l)}function Cg(){return null}var iv=typeof reportError=="function"?reportError:function(o){console.error(o)};function $d(o){this._internalRoot=o}Lc.prototype.render=$d.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(t(409));Dc(o,l,null,null)},Lc.prototype.unmount=$d.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;hs(function(){Dc(null,o,null,null)}),l[_i]=null}};function Lc(o){this._internalRoot=o}Lc.prototype.unstable_scheduleHydration=function(o){if(o){var l=wi();o={blockedOn:null,target:o,priority:l};for(var c=0;c<Ci.length&&l!==0&&l<Ci[c].priority;c++);Ci.splice(c,0,o),c===0&&io(o)}};function Ud(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Rc(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function av(){}function Tg(o,l,c,g,x){if(x){if(typeof g=="function"){var L=g;g=function(){var Re=Ac(U);L.call(Re)}}var U=rv(l,g,o,0,null,!1,!1,"",av);return o._reactRootContainer=U,o[_i]=U.current,pe(o.nodeType===8?o.parentNode:o),hs(),U}for(;x=o.lastChild;)o.removeChild(x);if(typeof g=="function"){var ne=g;g=function(){var Re=Ac(fe);ne.call(Re)}}var fe=Hd(o,0,!1,null,null,!1,!1,"",av);return o._reactRootContainer=fe,o[_i]=fe.current,pe(o.nodeType===8?o.parentNode:o),hs(function(){Dc(l,fe,c,g)}),fe}function Ic(o,l,c,g,x){var L=c._reactRootContainer;if(L){var U=L;if(typeof x=="function"){var ne=x;x=function(){var fe=Ac(U);ne.call(fe)}}Dc(l,U,o,x)}else U=Tg(c,l,o,x,g);return Ac(U)}Uo=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var c=Zi(l.pendingLanes);c!==0&&(va(l,c|1),fi(l,ye()),(sr&6)===0&&(nl=ye()+500,bo()))}break;case 13:hs(function(){var g=$a(o,1);if(g!==null){var x=Wn();sa(g,o,1,x)}}),Vd(o,1)}},Ii=function(o){if(o.tag===13){var l=$a(o,134217728);if(l!==null){var c=Wn();sa(l,o,134217728,c)}Vd(o,134217728)}},ki=function(o){if(o.tag===13){var l=Mo(o),c=$a(o,l);if(c!==null){var g=Wn();sa(c,o,l,g)}Vd(o,l)}},wi=function(){return Jt},La=function(o,l){var c=Jt;try{return Jt=o,l()}finally{Jt=c}},qn=function(o,l,c){switch(l){case"input":if(br(o,c),l=c.name,c.type==="radio"&&l!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<c.length;l++){var g=c[l];if(g!==o&&g.form===o.form){var x=Xu(g);if(!x)throw Error(t(90));He(g),br(g,x)}}}break;case"textarea":yi(o,c);break;case"select":l=c.value,l!=null&&Sr(o,!!c.multiple,l,!1)}},vr=Pd,$r=hs;var Sg={usingClientEntryPoint:!1,Events:[$l,Us,Xu,Fr,zn,Pd]},nu={findFiberByHostInstance:is,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xg={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ve.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=b(o),o===null?null:o.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||Cg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{cr=Pc.inject(xg),Ar=Pc}catch{}}return Wi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sg,Wi.createPortal=function(o,l){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ud(l))throw Error(t(200));return bg(o,l,null,c)},Wi.createRoot=function(o,l){if(!Ud(o))throw Error(t(299));var c=!1,g="",x=iv;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(x=l.onRecoverableError)),l=Hd(o,1,!1,null,null,c,!1,g,x),o[_i]=l.current,pe(o.nodeType===8?o.parentNode:o),new $d(l)},Wi.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=b(l),o=o===null?null:o.stateNode,o},Wi.flushSync=function(o){return hs(o)},Wi.hydrate=function(o,l,c){if(!Rc(l))throw Error(t(200));return Ic(null,o,l,!0,c)},Wi.hydrateRoot=function(o,l,c){if(!Ud(o))throw Error(t(405));var g=c!=null&&c.hydratedSources||null,x=!1,L="",U=iv;if(c!=null&&(c.unstable_strictMode===!0&&(x=!0),c.identifierPrefix!==void 0&&(L=c.identifierPrefix),c.onRecoverableError!==void 0&&(U=c.onRecoverableError)),l=rv(l,null,o,1,c??null,x,!1,L,U),o[_i]=l.current,pe(o),g)for(o=0;o<g.length;o++)c=g[o],x=c._getVersion,x=x(c._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[c,x]:l.mutableSourceEagerHydrationData.push(c,x);return new Lc(l)},Wi.render=function(o,l,c){if(!Rc(l))throw Error(t(200));return Ic(null,o,l,!1,c)},Wi.unmountComponentAtNode=function(o){if(!Rc(o))throw Error(t(40));return o._reactRootContainer?(hs(function(){Ic(null,null,o,!1,function(){o._reactRootContainer=null,o[_i]=null})}),!0):!1},Wi.unstable_batchedUpdates=Pd,Wi.unstable_renderSubtreeIntoContainer=function(o,l,c,g){if(!Rc(c))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return Ic(o,l,c,!1,g)},Wi.version="18.3.1-next-f1338f8080-20240426",Wi}var p1;function bZ(){if(p1)return oy.exports;p1=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),oy.exports=wZ(),oy.exports}var v1;function CZ(){if(v1)return kv;v1=1;var r=bZ();return kv.createRoot=r.createRoot,kv.hydrateRoot=r.hydrateRoot,kv}var TZ=CZ();function jn(r){this.content=r}jn.prototype={constructor:jn,find:function(r){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===r)return e;return-1},get:function(r){var e=this.find(r);return e==-1?void 0:this.content[e+1]},update:function(r,e,t){var n=t&&t!=r?this.remove(t):this,i=n.find(r),a=n.content.slice();return i==-1?a.push(t||r,e):(a[i+1]=e,t&&(a[i]=t)),new jn(a)},remove:function(r){var e=this.find(r);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new jn(t)},addToStart:function(r,e){return new jn([r,e].concat(this.remove(r).content))},addToEnd:function(r,e){var t=this.remove(r).content.slice();return t.push(r,e),new jn(t)},addBefore:function(r,e,t){var n=this.remove(e),i=n.content.slice(),a=n.find(r);return i.splice(a==-1?i.length:a,0,e,t),new jn(i)},forEach:function(r){for(var e=0;e<this.content.length;e+=2)r(this.content[e],this.content[e+1])},prepend:function(r){return r=jn.from(r),r.size?new jn(r.content.concat(this.subtract(r).content)):this},append:function(r){return r=jn.from(r),r.size?new jn(this.subtract(r).content.concat(r.content)):this},subtract:function(r){var e=this;r=jn.from(r);for(var t=0;t<r.content.length;t+=2)e=e.remove(r.content[t]);return e},toObject:function(){var r={};return this.forEach(function(e,t){r[e]=t}),r},get size(){return this.content.length>>1}};jn.from=function(r){if(r instanceof jn)return r;var e=[];if(r)for(var t in r)e.push(t,r[t]);return new jn(e)};function VT(r,e,t){for(let n=0;;n++){if(n==r.childCount||n==e.childCount)return r.childCount==e.childCount?null:t;let i=r.child(n),a=e.child(n);if(i==a){t+=i.nodeSize;continue}if(!i.sameMarkup(a))return t;if(i.isText&&i.text!=a.text){for(let s=0;i.text[s]==a.text[s];s++)t++;return t}if(i.content.size||a.content.size){let s=VT(i.content,a.content,t+1);if(s!=null)return s}t+=i.nodeSize}}function $T(r,e,t,n){for(let i=r.childCount,a=e.childCount;;){if(i==0||a==0)return i==a?null:{a:t,b:n};let s=r.child(--i),u=e.child(--a),f=s.nodeSize;if(s==u){t-=f,n-=f;continue}if(!s.sameMarkup(u))return{a:t,b:n};if(s.isText&&s.text!=u.text){let p=0,y=Math.min(s.text.length,u.text.length);for(;p<y&&s.text[s.text.length-p-1]==u.text[u.text.length-p-1];)p++,t--,n--;return{a:t,b:n}}if(s.content.size||u.content.size){let p=$T(s.content,u.content,t-1,n-1);if(p)return p}t-=f,n-=f}}class Xe{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,t,n,i=0,a){for(let s=0,u=0;u<t;s++){let f=this.content[s],p=u+f.nodeSize;if(p>e&&n(f,i+u,a||null,s)!==!1&&f.content.size){let y=u+1;f.nodesBetween(Math.max(0,e-y),Math.min(f.content.size,t-y),n,i+y)}u=p}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,i){let a="",s=!0;return this.nodesBetween(e,t,(u,f)=>{let p=u.isText?u.text.slice(Math.max(e,f)-f,t-f):u.isLeaf?i?typeof i=="function"?i(u):i:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&p||u.isTextblock)&&n&&(s?s=!1:a+=n),a+=p},0),a}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,i=this.content.slice(),a=0;for(t.isText&&t.sameMarkup(n)&&(i[i.length-1]=t.withText(t.text+n.text),a=1);a<e.content.length;a++)i.push(e.content[a]);return new Xe(i,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let n=[],i=0;if(t>e)for(let a=0,s=0;s<t;a++){let u=this.content[a],f=s+u.nodeSize;f>e&&((s<e||f>t)&&(u.isText?u=u.cut(Math.max(0,e-s),Math.min(u.text.length,t-s)):u=u.cut(Math.max(0,e-s-1),Math.min(u.content.size,t-s-1))),n.push(u),i+=u.nodeSize),s=f}return new Xe(n,i)}cutByIndex(e,t){return e==t?Xe.empty:e==0&&t==this.content.length?this:new Xe(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let i=this.content.slice(),a=this.size+t.nodeSize-n.nodeSize;return i[e]=t,new Xe(i,a)}addToStart(e){return new Xe([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Xe(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let i=this.content[t];e(i,n,t),n+=i.nodeSize}}findDiffStart(e,t=0){return VT(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return $T(this,e,t,n)}findIndex(e){if(e==0)return wv(0,e);if(e==this.size)return wv(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let t=0,n=0;;t++){let i=this.child(t),a=n+i.nodeSize;if(a>=e)return a==e?wv(t+1,a):wv(t,n);n=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return Xe.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new Xe(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Xe.empty;let t,n=0;for(let i=0;i<e.length;i++){let a=e[i];n+=a.nodeSize,i&&a.isText&&e[i-1].sameMarkup(a)?(t||(t=e.slice(0,i)),t[t.length-1]=a.withText(t[t.length-1].text+a.text)):t&&t.push(a)}return new Xe(t||e,n)}static from(e){if(!e)return Xe.empty;if(e instanceof Xe)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Xe([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Xe.empty=new Xe([],0);const uy={index:0,offset:0};function wv(r,e){return uy.index=r,uy.offset=e,uy}function Wv(r,e){if(r===e)return!0;if(!(r&&typeof r=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(r);if(Array.isArray(e)!=t)return!1;if(t){if(r.length!=e.length)return!1;for(let n=0;n<r.length;n++)if(!Wv(r[n],e[n]))return!1}else{for(let n in r)if(!(n in e)||!Wv(r[n],e[n]))return!1;for(let n in e)if(!(n in r))return!1}return!0}let kr=class Yy{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let i=0;i<e.length;i++){let a=e[i];if(this.eq(a))return e;if(this.type.excludes(a.type))t||(t=e.slice(0,i));else{if(a.type.excludes(this.type))return e;!n&&a.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),n=!0),t&&t.push(a)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Wv(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError(`There is no mark type ${t.type} in this schema`);let i=n.create(t.attrs);return n.checkAttrs(i.attrs),i}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Yy.none;if(e instanceof Yy)return[e];let t=e.slice();return t.sort((n,i)=>n.type.rank-i.type.rank),t}};kr.none=[];class jv extends Error{}class ht{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=WT(this.content,e+this.openStart,t);return n&&new ht(n,this.openStart,this.openEnd)}removeBetween(e,t){return new ht(UT(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return ht.empty;let n=t.openStart||0,i=t.openEnd||0;if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ht(Xe.fromJSON(e,t.content),n,i)}static maxOpen(e,t=!0){let n=0,i=0;for(let a=e.firstChild;a&&!a.isLeaf&&(t||!a.type.spec.isolating);a=a.firstChild)n++;for(let a=e.lastChild;a&&!a.isLeaf&&(t||!a.type.spec.isolating);a=a.lastChild)i++;return new ht(e,n,i)}}ht.empty=new ht(Xe.empty,0,0);function UT(r,e,t){let{index:n,offset:i}=r.findIndex(e),a=r.maybeChild(n),{index:s,offset:u}=r.findIndex(t);if(i==e||a.isText){if(u!=t&&!r.child(s).isText)throw new RangeError("Removing non-flat range");return r.cut(0,e).append(r.cut(t))}if(n!=s)throw new RangeError("Removing non-flat range");return r.replaceChild(n,a.copy(UT(a.content,e-i-1,t-i-1)))}function WT(r,e,t,n){let{index:i,offset:a}=r.findIndex(e),s=r.maybeChild(i);if(a==e||s.isText)return n&&!n.canReplace(i,i,t)?null:r.cut(0,e).append(t).append(r.cut(e));let u=WT(s.content,e-a-1,t,s);return u&&r.replaceChild(i,s.copy(u))}function SZ(r,e,t){if(t.openStart>r.depth)throw new jv("Inserted content deeper than insertion position");if(r.depth-t.openStart!=e.depth-t.openEnd)throw new jv("Inconsistent open depths");return jT(r,e,t,0)}function jT(r,e,t,n){let i=r.index(n),a=r.node(n);if(i==e.index(n)&&n<r.depth-t.openStart){let s=jT(r,e,t,n+1);return a.copy(a.content.replaceChild(i,s))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&r.depth==n&&e.depth==n){let s=r.parent,u=s.content;return ku(s,u.cut(0,r.parentOffset).append(t.content).append(u.cut(e.parentOffset)))}else{let{start:s,end:u}=xZ(t,r);return ku(a,KT(r,s,u,e,n))}else return ku(a,Gv(r,e,n))}function GT(r,e){if(!e.type.compatibleContent(r.type))throw new jv("Cannot join "+e.type.name+" onto "+r.type.name)}function Zy(r,e,t){let n=r.node(t);return GT(n,e.node(t)),n}function yu(r,e){let t=e.length-1;t>=0&&r.isText&&r.sameMarkup(e[t])?e[t]=r.withText(e[t].text+r.text):e.push(r)}function ah(r,e,t,n){let i=(e||r).node(t),a=0,s=e?e.index(t):i.childCount;r&&(a=r.index(t),r.depth>t?a++:r.textOffset&&(yu(r.nodeAfter,n),a++));for(let u=a;u<s;u++)yu(i.child(u),n);e&&e.depth==t&&e.textOffset&&yu(e.nodeBefore,n)}function ku(r,e){return r.type.checkContent(e),r.copy(e)}function KT(r,e,t,n,i){let a=r.depth>i&&Zy(r,e,i+1),s=n.depth>i&&Zy(t,n,i+1),u=[];return ah(null,r,i,u),a&&s&&e.index(i)==t.index(i)?(GT(a,s),yu(ku(a,KT(r,e,t,n,i+1)),u)):(a&&yu(ku(a,Gv(r,e,i+1)),u),ah(e,t,i,u),s&&yu(ku(s,Gv(t,n,i+1)),u)),ah(n,null,i,u),new Xe(u)}function Gv(r,e,t){let n=[];if(ah(null,r,t,n),r.depth>t){let i=Zy(r,e,t+1);yu(ku(i,Gv(r,e,t+1)),n)}return ah(e,null,t,n),new Xe(n)}function xZ(r,e){let t=e.depth-r.openStart,i=e.node(t).copy(r.content);for(let a=t-1;a>=0;a--)i=e.node(a).copy(Xe.from(i));return{start:i.resolveNoCache(r.openStart+t),end:i.resolveNoCache(i.content.size-r.openEnd-t)}}class fh{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],i=e.child(t);return n?e.child(t).cut(n):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[t*3],i=t==0?0:this.path[t*3-1]+1;for(let a=0;a<e;a++)i+=n.child(a).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return kr.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),i=e.maybeChild(t);if(!n){let u=n;n=i,i=u}let a=n.marks;for(var s=0;s<a.length;s++)a[s].type.spec.inclusive===!1&&(!i||!a[s].isInSet(i.marks))&&(a=a[s--].removeFromSet(a));return a}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,i=e.parent.maybeChild(e.index());for(var a=0;a<n.length;a++)n[a].type.spec.inclusive===!1&&(!i||!n[a].isInSet(i.marks))&&(n=n[a--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new Kv(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],i=0,a=t;for(let s=e;;){let{index:u,offset:f}=s.content.findIndex(a),p=a-f;if(n.push(s,u,i+f),!p||(s=s.child(u),s.isText))break;a=p-1,i+=f+1}return new fh(t,n,a)}static resolveCached(e,t){let n=m1.get(e);if(n)for(let a=0;a<n.elts.length;a++){let s=n.elts[a];if(s.pos==t)return s}else m1.set(e,n=new EZ);let i=n.elts[n.i]=fh.resolve(e,t);return n.i=(n.i+1)%MZ,i}}class EZ{constructor(){this.elts=[],this.i=0}}const MZ=12,m1=new WeakMap;class Kv{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const NZ=Object.create(null);let pl=class e0{constructor(e,t,n,i=kr.none){this.type=e,this.attrs=t,this.marks=i,this.content=n||Xe.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,i=0){this.content.nodesBetween(e,t,n,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,i){return this.content.textBetween(e,t,n,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&Wv(this.attrs,t||e.defaultAttrs||NZ)&&kr.sameSet(this.marks,n||kr.none)}copy(e=null){return e==this.content?this:new e0(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new e0(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){if(e==t)return ht.empty;let i=this.resolve(e),a=this.resolve(t),s=n?0:i.sharedDepth(t),u=i.start(s),p=i.node(s).content.cut(i.pos-u,a.pos-u);return new ht(p,i.depth-s,a.depth-s)}replace(e,t,n){return SZ(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let i=this.content.child(t-1);return{node:i,index:t-1,offset:n-i.nodeSize}}resolve(e){return fh.resolveCached(this,e)}resolveNoCache(e){return fh.resolve(this,e)}rangeHasMark(e,t,n){let i=!1;return t>e&&this.nodesBetween(e,t,a=>(n.isInSet(a.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),JT(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,n=Xe.empty,i=0,a=n.childCount){let s=this.contentMatchAt(e).matchFragment(n,i,a),u=s&&s.matchFragment(this.content,t);if(!u||!u.validEnd)return!1;for(let f=i;f<a;f++)if(!this.type.allowsMarks(n.child(f).marks))return!1;return!0}canReplaceWith(e,t,n,i){if(i&&!this.type.allowsMarks(i))return!1;let a=this.contentMatchAt(e).matchType(n),s=a&&a.matchFragment(this.content,t);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=kr.none;for(let t=0;t<this.marks.length;t++){let n=this.marks[t];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!kr.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let i=Xe.fromJSON(e,t.content),a=e.nodeType(t.type).create(t.attrs,i,n);return a.type.checkAttrs(a.attrs),a}};pl.prototype.text=void 0;class Jv extends pl{constructor(e,t,n,i){if(super(e,t,null,i),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):JT(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Jv(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Jv(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function JT(r,e){for(let t=r.length-1;t>=0;t--)e=r[t].type.name+"("+e+")";return e}class Tu{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new OZ(e,t);if(n.next==null)return Tu.empty;let i=QT(n);n.next&&n.err("Unexpected trailing text");let a=BZ(PZ(i));return FZ(a,n),a}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,n=e.childCount){let i=this;for(let a=t;i&&a<n;a++)i=i.matchType(e.child(a).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e,t=!1,n=0){let i=[this];function a(s,u){let f=s.matchFragment(e,n);if(f&&(!t||f.validEnd))return Xe.from(u.map(p=>p.createAndFill()));for(let p=0;p<s.next.length;p++){let{type:y,next:T}=s.next[p];if(!(y.isText||y.hasRequiredAttrs())&&i.indexOf(T)==-1){i.push(T);let N=a(T,u.concat(y));if(N)return N}}return null}return a(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let i=n.shift(),a=i.match;if(a.matchType(e)){let s=[];for(let u=i;u.type;u=u.via)s.push(u.type);return s.reverse()}for(let s=0;s<a.next.length;s++){let{type:u,next:f}=a.next[s];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in t)&&(!i.type||f.validEnd)&&(n.push({match:u.contentMatch,type:u,via:i}),t[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(n){e.push(n);for(let i=0;i<n.next.length;i++)e.indexOf(n.next[i].next)==-1&&t(n.next[i].next)}return t(this),e.map((n,i)=>{let a=i+(n.validEnd?"*":" ")+" ";for(let s=0;s<n.next.length;s++)a+=(s?", ":"")+n.next[s].type.name+"->"+e.indexOf(n.next[s].next);return a}).join(`
`)}}Tu.empty=new Tu(!0);class OZ{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function QT(r){let e=[];do e.push(DZ(r));while(r.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function DZ(r){let e=[];do e.push(AZ(r));while(r.next&&r.next!=")"&&r.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function AZ(r){let e=IZ(r);for(;;)if(r.eat("+"))e={type:"plus",expr:e};else if(r.eat("*"))e={type:"star",expr:e};else if(r.eat("?"))e={type:"opt",expr:e};else if(r.eat("{"))e=LZ(r,e);else break;return e}function g1(r){/\D/.test(r.next)&&r.err("Expected number, got '"+r.next+"'");let e=Number(r.next);return r.pos++,e}function LZ(r,e){let t=g1(r),n=t;return r.eat(",")&&(r.next!="}"?n=g1(r):n=-1),r.eat("}")||r.err("Unclosed braced range"),{type:"range",min:t,max:n,expr:e}}function RZ(r,e){let t=r.nodeTypes,n=t[e];if(n)return[n];let i=[];for(let a in t){let s=t[a];s.isInGroup(e)&&i.push(s)}return i.length==0&&r.err("No node type or group '"+e+"' found"),i}function IZ(r){if(r.eat("(")){let e=QT(r);return r.eat(")")||r.err("Missing closing paren"),e}else if(/\W/.test(r.next))r.err("Unexpected token '"+r.next+"'");else{let e=RZ(r,r.next).map(t=>(r.inline==null?r.inline=t.isInline:r.inline!=t.isInline&&r.err("Mixing inline and block content"),{type:"name",value:t}));return r.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function PZ(r){let e=[[]];return i(a(r,0),t()),e;function t(){return e.push([])-1}function n(s,u,f){let p={term:f,to:u};return e[s].push(p),p}function i(s,u){s.forEach(f=>f.to=u)}function a(s,u){if(s.type=="choice")return s.exprs.reduce((f,p)=>f.concat(a(p,u)),[]);if(s.type=="seq")for(let f=0;;f++){let p=a(s.exprs[f],u);if(f==s.exprs.length-1)return p;i(p,u=t())}else if(s.type=="star"){let f=t();return n(u,f),i(a(s.expr,f),f),[n(f)]}else if(s.type=="plus"){let f=t();return i(a(s.expr,u),f),i(a(s.expr,f),f),[n(f)]}else{if(s.type=="opt")return[n(u)].concat(a(s.expr,u));if(s.type=="range"){let f=u;for(let p=0;p<s.min;p++){let y=t();i(a(s.expr,f),y),f=y}if(s.max==-1)i(a(s.expr,f),f);else for(let p=s.min;p<s.max;p++){let y=t();n(f,y),i(a(s.expr,f),y),f=y}return[n(f)]}else{if(s.type=="name")return[n(u,void 0,s.value)];throw new Error("Unknown expr type")}}}}function XT(r,e){return e-r}function y1(r,e){let t=[];return n(e),t.sort(XT);function n(i){let a=r[i];if(a.length==1&&!a[0].term)return n(a[0].to);t.push(i);for(let s=0;s<a.length;s++){let{term:u,to:f}=a[s];!u&&t.indexOf(f)==-1&&n(f)}}}function BZ(r){let e=Object.create(null);return t(y1(r,0));function t(n){let i=[];n.forEach(s=>{r[s].forEach(({term:u,to:f})=>{if(!u)return;let p;for(let y=0;y<i.length;y++)i[y][0]==u&&(p=i[y][1]);y1(r,f).forEach(y=>{p||i.push([u,p=[]]),p.indexOf(y)==-1&&p.push(y)})})});let a=e[n.join(",")]=new Tu(n.indexOf(r.length-1)>-1);for(let s=0;s<i.length;s++){let u=i[s][1].sort(XT);a.next.push({type:i[s][0],next:e[u.join(",")]||t(u)})}return a}}function FZ(r,e){for(let t=0,n=[r];t<n.length;t++){let i=n[t],a=!i.validEnd,s=[];for(let u=0;u<i.next.length;u++){let{type:f,next:p}=i.next[u];s.push(f.name),a&&!(f.isText||f.hasRequiredAttrs())&&(a=!1),n.indexOf(p)==-1&&n.push(p)}a&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function YT(r){let e=Object.create(null);for(let t in r){let n=r[t];if(!n.hasDefault)return null;e[t]=n.default}return e}function ZT(r,e){let t=Object.create(null);for(let n in r){let i=e&&e[n];if(i===void 0){let a=r[n];if(a.hasDefault)i=a.default;else throw new RangeError("No value supplied for attribute "+n)}t[n]=i}return t}function eS(r,e,t,n){for(let i in e)if(!(i in r))throw new RangeError(`Unsupported attribute ${i} for ${t} of type ${i}`);for(let i in r){let a=r[i];a.validate&&a.validate(e[i])}}function tS(r,e){let t=Object.create(null);if(e)for(let n in e)t[n]=new qZ(r,n,e[n]);return t}let k1=class rS{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=tS(e,n.attrs),this.defaultAttrs=YT(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Tu.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:ZT(this.attrs,e)}create(e=null,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new pl(this,this.computeAttrs(e),Xe.from(t),kr.setFrom(n))}createChecked(e=null,t,n){return t=Xe.from(t),this.checkContent(t),new pl(this,this.computeAttrs(e),t,kr.setFrom(n))}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),t=Xe.from(t),t.size){let s=this.contentMatch.fillBefore(t);if(!s)return null;t=s.append(t)}let i=this.contentMatch.matchFragment(t),a=i&&i.fillBefore(Xe.empty,!0);return a?new pl(this,e,t.append(a),kr.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){eS(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:kr.none:e}static compile(e,t){let n=Object.create(null);e.forEach((a,s)=>n[a]=new rS(a,t,s));let i=t.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let a in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function _Z(r,e,t){let n=t.split("|");return i=>{let a=i===null?"null":typeof i;if(n.indexOf(a)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${r}, got ${a}`)}}class qZ{constructor(e,t,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?_Z(e,t,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class bm{constructor(e,t,n,i){this.name=e,this.rank=t,this.schema=n,this.spec=i,this.attrs=tS(e,i.attrs),this.excluded=null;let a=YT(this.attrs);this.instance=a?new kr(this,a):null}create(e=null){return!e&&this.instance?this.instance:new kr(this,ZT(this.attrs,e))}static compile(e,t){let n=Object.create(null),i=0;return e.forEach((a,s)=>n[a]=new bm(a,i++,t,s)),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){eS(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class nS{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=jn.from(e.nodes),t.marks=jn.from(e.marks||{}),this.nodes=k1.compile(this.spec.nodes,this),this.marks=bm.compile(this.spec.marks,this);let n=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let a=this.nodes[i],s=a.spec.content||"",u=a.spec.marks;if(a.contentMatch=n[s]||(n[s]=Tu.parse(s,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!a.isInline||!a.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=a}a.markSet=u=="_"?null:u?w1(this,u.split(" ")):u==""||!a.inlineContent?[]:null}for(let i in this.marks){let a=this.marks[i],s=a.spec.excludes;a.excluded=s==null?[a]:s==""?[]:w1(this,s.split(" "))}this.nodeFromJSON=i=>pl.fromJSON(this,i),this.markFromJSON=i=>kr.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof k1){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,n,i)}text(e,t){let n=this.nodes.text;return new Jv(n,n.defaultAttrs,e,kr.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function w1(r,e){let t=[];for(let n=0;n<e.length;n++){let i=e[n],a=r.marks[i],s=a;if(a)t.push(a);else for(let u in r.marks){let f=r.marks[u];(i=="_"||f.spec.group&&f.spec.group.split(" ").indexOf(i)>-1)&&t.push(s=f)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return t}function zZ(r){return r.tag!=null}function HZ(r){return r.style!=null}class Su{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let n=this.matchedStyles=[];t.forEach(i=>{if(zZ(i))this.tags.push(i);else if(HZ(i)){let a=/[^=]*/.exec(i.style)[0];n.indexOf(a)<0&&n.push(a),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let a=e.nodes[i.node];return a.contentMatch.matchType(a)})}parse(e,t={}){let n=new C1(this,t,!1);return n.addAll(e,kr.none,t.from,t.to),n.finish()}parseSlice(e,t={}){let n=new C1(this,t,!0);return n.addAll(e,kr.none,t.from,t.to),ht.maxOpen(n.finish())}matchTag(e,t,n){for(let i=n?this.tags.indexOf(n)+1:0;i<this.tags.length;i++){let a=this.tags[i];if(UZ(e,a.tag)&&(a.namespace===void 0||e.namespaceURI==a.namespace)&&(!a.context||t.matchesContext(a.context))){if(a.getAttrs){let s=a.getAttrs(e);if(s===!1)continue;a.attrs=s||void 0}return a}}}matchStyle(e,t,n,i){for(let a=i?this.styles.indexOf(i)+1:0;a<this.styles.length;a++){let s=this.styles[a],u=s.style;if(!(u.indexOf(e)!=0||s.context&&!n.matchesContext(s.context)||u.length>e.length&&(u.charCodeAt(e.length)!=61||u.slice(e.length+1)!=t))){if(s.getAttrs){let f=s.getAttrs(t);if(f===!1)continue;s.attrs=f||void 0}return s}}}static schemaRules(e){let t=[];function n(i){let a=i.priority==null?50:i.priority,s=0;for(;s<t.length;s++){let u=t[s];if((u.priority==null?50:u.priority)<a)break}t.splice(s,0,i)}for(let i in e.marks){let a=e.marks[i].spec.parseDOM;a&&a.forEach(s=>{n(s=T1(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let a=e.nodes[i].spec.parseDOM;a&&a.forEach(s=>{n(s=T1(s)),s.node||s.ignore||s.mark||(s.node=i)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Su(e,Su.schemaRules(e)))}}const iS={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},VZ={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},aS={ol:!0,ul:!0},dh=1,t0=2,oh=4;function b1(r,e,t){return e!=null?(e?dh:0)|(e==="full"?t0:0):r&&r.whitespace=="pre"?dh|t0:t&~oh}class bv{constructor(e,t,n,i,a,s){this.type=e,this.attrs=t,this.marks=n,this.solid=i,this.options=s,this.content=[],this.activeMarks=kr.none,this.match=a||(s&oh?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(Xe.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let n=this.type.contentMatch,i;return(i=n.findWrapping(e.type))?(this.match=n,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&dh)){let n=this.content[this.content.length-1],i;if(n&&n.isText&&(i=/[ \t\r\n\u000c]+$/.exec(n.text))){let a=n;n.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-i[0].length))}}let t=Xe.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(Xe.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!iS.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class C1{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let i=t.topNode,a,s=b1(null,t.preserveWhitespace,0)|(n?oh:0);i?a=new bv(i.type,i.attrs,kr.none,!0,t.topMatch||i.type.contentMatch,s):n?a=new bv(null,null,kr.none,!0,null,s):a=new bv(e.schema.topNodeType,null,kr.none,!0,null,s),this.nodes=[a],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let n=e.nodeValue,i=this.top,a=i.options&t0?"full":this.localPreserveWS||(i.options&dh)>0;if(a==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(a)a!=="full"?n=n.replace(/\r?\n|\r/g," "):n=n.replace(/\r\n?/g,`
`);else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let s=i.content[i.content.length-1],u=e.previousSibling;(!s||u&&u.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),t,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,t,n){let i=this.localPreserveWS,a=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let s=e.nodeName.toLowerCase(),u;aS.hasOwnProperty(s)&&this.parser.normalizeLists&&$Z(e);let f=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(u=this.parser.matchTag(e,this,n));e:if(f?f.ignore:VZ.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e,t);else if(!f||f.skip||f.closeParent){f&&f.closeParent?this.open=Math.max(0,this.open-1):f&&f.skip.nodeType&&(e=f.skip);let p,y=this.needsBlock;if(iS.hasOwnProperty(s))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),p=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let T=f&&f.skip?t:this.readStyles(e,t);T&&this.addAll(e,T),p&&this.sync(a),this.needsBlock=y}else{let p=this.readStyles(e,t);p&&this.addElementByRule(e,f,p,f.consuming===!1?u:void 0)}this.localPreserveWS=i}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let n=e.style;if(n&&n.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let a=this.parser.matchedStyles[i],s=n.getPropertyValue(a);if(s)for(let u=void 0;;){let f=this.parser.matchStyle(a,s,this,u);if(!f)break;if(f.ignore)return null;if(f.clearMark?t=t.filter(p=>!f.clearMark(p)):t=t.concat(this.parser.schema.marks[f.mark].create(f.attrs)),f.consuming===!1)u=f;else break}}return t}addElementByRule(e,t,n,i){let a,s;if(t.node)if(s=this.parser.schema.nodes[t.node],s.isLeaf)this.insertNode(s.create(t.attrs),n,e.nodeName=="BR")||this.leafFallback(e,n);else{let f=this.enter(s,t.attrs||null,n,t.preserveWhitespace);f&&(a=!0,n=f)}else{let f=this.parser.schema.marks[t.mark];n=n.concat(f.create(t.attrs))}let u=this.top;if(s&&s.isLeaf)this.findInside(e);else if(i)this.addElement(e,n,i);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(f=>this.insertNode(f,n,!1));else{let f=e;typeof t.contentElement=="string"?f=e.querySelector(t.contentElement):typeof t.contentElement=="function"?f=t.contentElement(e):t.contentElement&&(f=t.contentElement),this.findAround(e,f,!0),this.addAll(f,n),this.findAround(e,f,!1)}a&&this.sync(u)&&this.open--}addAll(e,t,n,i){let a=n||0;for(let s=n?e.childNodes[n]:e.firstChild,u=i==null?null:e.childNodes[i];s!=u;s=s.nextSibling,++a)this.findAtPoint(e,a),this.addDOM(s,t);this.findAtPoint(e,a)}findPlace(e,t,n){let i,a;for(let s=this.open,u=0;s>=0;s--){let f=this.nodes[s],p=f.findWrapping(e);if(p&&(!i||i.length>p.length+u)&&(i=p,a=f,!p.length))break;if(f.solid){if(n)break;u+=2}}if(!i)return null;this.sync(a);for(let s=0;s<i.length;s++)t=this.enterInner(i[s],null,t,!1);return t}insertNode(e,t,n){if(e.isInline&&this.needsBlock&&!this.top.type){let a=this.textblockFromContext();a&&(t=this.enterInner(a,null,t))}let i=this.findPlace(e,t,n);if(i){this.closeExtra();let a=this.top;a.match&&(a.match=a.match.matchType(e.type));let s=kr.none;for(let u of i.concat(e.marks))(a.type?a.type.allowsMarkType(u.type):S1(u.type,e.type))&&(s=u.addToSet(s));return a.content.push(e.mark(s)),!0}return!1}enter(e,t,n,i){let a=this.findPlace(e.create(t),n,!1);return a&&(a=this.enterInner(e,t,n,!0,i)),a}enterInner(e,t,n,i=!1,a){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(e);let u=b1(e,a,s.options);s.options&oh&&s.content.length==0&&(u|=oh);let f=kr.none;return n=n.filter(p=>(s.type?s.type.allowsMarkType(p.type):S1(p.type,e))?(f=p.addToSet(f),!1):!0),this.nodes.push(new bv(e,t,f,i,null,u)),this.open++,n}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=dh)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let i=n.length-1;i>=0;i--)e+=n[i].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(n?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,i=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),a=-(n?n.depth+1:0)+(i?0:1),s=(u,f)=>{for(;u>=0;u--){let p=t[u];if(p==""){if(u==t.length-1||u==0)continue;for(;f>=a;f--)if(s(u-1,f))return!0;return!1}else{let y=f>0||f==0&&i?this.nodes[f].type:n&&f>=a?n.node(f-a).type:null;if(!y||y.name!=p&&!y.isInGroup(p))return!1;f--}}return!0};return s(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let t in this.parser.schema.nodes){let n=this.parser.schema.nodes[t];if(n.isTextblock&&n.defaultAttrs)return n}}}function $Z(r){for(let e=r.firstChild,t=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&aS.hasOwnProperty(n)&&t?(t.appendChild(e),e=t):n=="li"?t=e:n&&(t=null)}}function UZ(r,e){return(r.matches||r.msMatchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector).call(r,e)}function T1(r){let e={};for(let t in r)e[t]=r[t];return e}function S1(r,e){let t=e.schema.nodes;for(let n in t){let i=t[n];if(!i.allowsMarkType(r))continue;let a=[],s=u=>{a.push(u);for(let f=0;f<u.edgeCount;f++){let{type:p,next:y}=u.edge(f);if(p==e||a.indexOf(y)<0&&s(y))return!0}};if(s(i.contentMatch))return!0}}class yf{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},n){n||(n=cy(t).createDocumentFragment());let i=n,a=[];return e.forEach(s=>{if(a.length||s.marks.length){let u=0,f=0;for(;u<a.length&&f<s.marks.length;){let p=s.marks[f];if(!this.marks[p.type.name]){f++;continue}if(!p.eq(a[u][0])||p.type.spec.spanning===!1)break;u++,f++}for(;u<a.length;)i=a.pop()[1];for(;f<s.marks.length;){let p=s.marks[f++],y=this.serializeMark(p,s.isInline,t);y&&(a.push([p,i]),i.appendChild(y.dom),i=y.contentDOM||y.dom)}}i.appendChild(this.serializeNodeInner(s,t))}),n}serializeNodeInner(e,t){let{dom:n,contentDOM:i}=Pv(cy(t),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return n}serializeNode(e,t={}){let n=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let a=this.serializeMark(e.marks[i],e.isInline,t);a&&((a.contentDOM||a.dom).appendChild(n),n=a.dom)}return n}serializeMark(e,t,n={}){let i=this.marks[e.type.name];return i&&Pv(cy(n),i(e,t),null,e.attrs)}static renderSpec(e,t,n=null,i){return Pv(e,t,n,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new yf(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=x1(e.nodes);return t.text||(t.text=n=>n.text),t}static marksFromSchema(e){return x1(e.marks)}}function x1(r){let e={};for(let t in r){let n=r[t].spec.toDOM;n&&(e[t]=n)}return e}function cy(r){return r.document||window.document}const E1=new WeakMap;function WZ(r){let e=E1.get(r);return e===void 0&&E1.set(r,e=jZ(r)),e}function jZ(r){let e=null;function t(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let i=0;i<n.length;i++)t(n[i]);else for(let i in n)t(n[i])}return t(r),e}function Pv(r,e,t,n){if(typeof e=="string")return{dom:r.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],a;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(a=WZ(n))&&a.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=i.indexOf(" ");s>0&&(t=i.slice(0,s),i=i.slice(s+1));let u,f=t?r.createElementNS(t,i):r.createElement(i),p=e[1],y=1;if(p&&typeof p=="object"&&p.nodeType==null&&!Array.isArray(p)){y=2;for(let T in p)if(p[T]!=null){let N=T.indexOf(" ");N>0?f.setAttributeNS(T.slice(0,N),T.slice(N+1),p[T]):T=="style"&&f.style?f.style.cssText=p[T]:f.setAttribute(T,p[T])}}for(let T=y;T<e.length;T++){let N=e[T];if(N===0){if(T<e.length-1||T>y)throw new RangeError("Content hole must be the only child of its parent node");return{dom:f,contentDOM:f}}else{let{dom:O,contentDOM:A}=Pv(r,N,t,n);if(f.appendChild(O),A){if(u)throw new RangeError("Multiple content holes");u=A}}}return{dom:f,contentDOM:u}}const oS=65535,sS=Math.pow(2,16);function GZ(r,e){return r+e*sS}function M1(r){return r&oS}function KZ(r){return(r-(r&oS))/sS}const lS=1,uS=2,Bv=4,cS=8;class r0{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(this.delInfo&cS)>0}get deletedBefore(){return(this.delInfo&(lS|Bv))>0}get deletedAfter(){return(this.delInfo&(uS|Bv))>0}get deletedAcross(){return(this.delInfo&Bv)>0}}class Gi{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Gi.empty)return Gi.empty}recover(e){let t=0,n=M1(e);if(!this.inverted)for(let i=0;i<n;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[n*3]+t+KZ(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let i=0,a=this.inverted?2:1,s=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let f=this.ranges[u]-(this.inverted?i:0);if(f>e)break;let p=this.ranges[u+a],y=this.ranges[u+s],T=f+p;if(e<=T){let N=p?e==f?-1:e==T?1:t:t,O=f+i+(N<0?0:y);if(n)return O;let A=e==(t<0?f:T)?null:GZ(u/3,e-f),z=e==f?uS:e==T?lS:Bv;return(t<0?e!=f:e!=T)&&(z|=cS),new r0(O,z,A)}i+=y-p}return n?e+i:new r0(e+i,0,null)}touches(e,t){let n=0,i=M1(t),a=this.inverted?2:1,s=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let f=this.ranges[u]-(this.inverted?n:0);if(f>e)break;let p=this.ranges[u+a],y=f+p;if(e<=y&&u==i*3)return!0;n+=this.ranges[u+s]-p}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let i=0,a=0;i<this.ranges.length;i+=3){let s=this.ranges[i],u=s-(this.inverted?a:0),f=s+(this.inverted?0:a),p=this.ranges[i+t],y=this.ranges[i+n];e(u,u+p,f,f+y),a+=y-p}}invert(){return new Gi(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Gi.empty:new Gi(e<0?[0,-e,0]:[0,0,e])}}Gi.empty=new Gi([]);class hh{constructor(e,t,n=0,i=e?e.length:0){this.mirror=t,this.from=n,this.to=i,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new hh(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,n=this._maps.length;t<e._maps.length;t++){let i=e.getMirror(t);this.appendMap(e._maps[t],i!=null&&i<t?n+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this._maps.length+e._maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e._maps[t].invert(),i!=null&&i>t?n-i-1:void 0)}}invert(){let e=new hh;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let i=0;for(let a=this.from;a<this.to;a++){let s=this._maps[a],u=s.mapResult(e,t);if(u.recover!=null){let f=this.getMirror(a);if(f!=null&&f>a&&f<this.to){a=f,e=this._maps[f].recover(u.recover);continue}}i|=u.delInfo,e=u.pos}return n?e:new r0(e,i,null)}}const fy=Object.create(null);class mi{getMap(){return Gi.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=fy[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in fy)throw new RangeError("Duplicate use of step JSON ID "+e);return fy[e]=t,t.prototype.jsonID=e,t}}class pn{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new pn(e,null)}static fail(e){return new pn(null,e)}static fromReplace(e,t,n,i){try{return pn.ok(e.replace(t,n,i))}catch(a){if(a instanceof jv)return pn.fail(a.message);throw a}}}function $0(r,e,t){let n=[];for(let i=0;i<r.childCount;i++){let a=r.child(i);a.content.size&&(a=a.copy($0(a.content,e,a))),a.isInline&&(a=e(a,t,i)),n.push(a)}return Xe.fromArray(n)}class fl extends mi{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),i=n.node(n.sharedDepth(this.to)),a=new ht($0(t.content,(s,u)=>!s.isAtom||!u.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),t.openStart,t.openEnd);return pn.fromReplace(e,this.from,this.to,a)}invert(){return new Io(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new fl(t.pos,n.pos,this.mark)}merge(e){return e instanceof fl&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new fl(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new fl(t.from,t.to,e.markFromJSON(t.mark))}}mi.jsonID("addMark",fl);class Io extends mi{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new ht($0(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return pn.fromReplace(e,this.from,this.to,n)}invert(){return new fl(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new Io(t.pos,n.pos,this.mark)}merge(e){return e instanceof Io&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Io(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Io(t.from,t.to,e.markFromJSON(t.mark))}}mi.jsonID("removeMark",Io);class dl extends mi{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return pn.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return pn.fromReplace(e,this.pos,this.pos+1,new ht(Xe.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let n=this.mark.addToSet(t.marks);if(n.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(n))return new dl(this.pos,t.marks[i]);return new dl(this.pos,this.mark)}}return new xu(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new dl(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new dl(t.pos,e.markFromJSON(t.mark))}}mi.jsonID("addNodeMark",dl);class xu extends mi{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return pn.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return pn.fromReplace(e,this.pos,this.pos+1,new ht(Xe.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new dl(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new xu(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new xu(t.pos,e.markFromJSON(t.mark))}}mi.jsonID("removeNodeMark",xu);class hi extends mi{constructor(e,t,n,i=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=i}apply(e){return this.structure&&n0(e,this.from,this.to)?pn.fail("Structure replace would overwrite content"):pn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Gi([this.from,this.to-this.from,this.slice.size])}invert(e){return new hi(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new hi(t.pos,Math.max(t.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof hi)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?ht.empty:new ht(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new hi(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?ht.empty:new ht(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new hi(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new hi(t.from,t.to,ht.fromJSON(e,t.slice),!!t.structure)}}mi.jsonID("replace",hi);class In extends mi{constructor(e,t,n,i,a,s,u=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=i,this.slice=a,this.insert=s,this.structure=u}apply(e){if(this.structure&&(n0(e,this.from,this.gapFrom)||n0(e,this.gapTo,this.to)))return pn.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return pn.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?pn.fromReplace(e,this.from,this.to,n):pn.fail("Content does not fit in gap")}getMap(){return new Gi([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new In(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),i=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),a=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||i<t.pos||a>n.pos?null:new In(t.pos,n.pos,i,a,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new In(t.from,t.to,t.gapFrom,t.gapTo,ht.fromJSON(e,t.slice),t.insert,!!t.structure)}}mi.jsonID("replaceAround",In);function n0(r,e,t){let n=r.resolve(e),i=t-e,a=n.depth;for(;i>0&&a>0&&n.indexAfter(a)==n.node(a).childCount;)a--,i--;if(i>0){let s=n.node(a).maybeChild(n.indexAfter(a));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function JZ(r,e,t,n){let i=[],a=[],s,u;r.doc.nodesBetween(e,t,(f,p,y)=>{if(!f.isInline)return;let T=f.marks;if(!n.isInSet(T)&&y.type.allowsMarkType(n.type)){let N=Math.max(p,e),O=Math.min(p+f.nodeSize,t),A=n.addToSet(T);for(let z=0;z<T.length;z++)T[z].isInSet(A)||(s&&s.to==N&&s.mark.eq(T[z])?s.to=O:i.push(s=new Io(N,O,T[z])));u&&u.to==N?u.to=O:a.push(u=new fl(N,O,n))}}),i.forEach(f=>r.step(f)),a.forEach(f=>r.step(f))}function QZ(r,e,t,n){let i=[],a=0;r.doc.nodesBetween(e,t,(s,u)=>{if(!s.isInline)return;a++;let f=null;if(n instanceof bm){let p=s.marks,y;for(;y=n.isInSet(p);)(f||(f=[])).push(y),p=y.removeFromSet(p)}else n?n.isInSet(s.marks)&&(f=[n]):f=s.marks;if(f&&f.length){let p=Math.min(u+s.nodeSize,t);for(let y=0;y<f.length;y++){let T=f[y],N;for(let O=0;O<i.length;O++){let A=i[O];A.step==a-1&&T.eq(i[O].style)&&(N=A)}N?(N.to=p,N.step=a):i.push({style:T,from:Math.max(u,e),to:p,step:a})}}}),i.forEach(s=>r.step(new Io(s.from,s.to,s.style)))}function U0(r,e,t,n=t.contentMatch,i=!0){let a=r.doc.nodeAt(e),s=[],u=e+1;for(let f=0;f<a.childCount;f++){let p=a.child(f),y=u+p.nodeSize,T=n.matchType(p.type);if(!T)s.push(new hi(u,y,ht.empty));else{n=T;for(let N=0;N<p.marks.length;N++)t.allowsMarkType(p.marks[N].type)||r.step(new Io(u,y,p.marks[N]));if(i&&p.isText&&t.whitespace!="pre"){let N,O=/\r?\n|\r/g,A;for(;N=O.exec(p.text);)A||(A=new ht(Xe.from(t.schema.text(" ",t.allowedMarks(p.marks))),0,0)),s.push(new hi(u+N.index,u+N.index+N[0].length,A))}}u=y}if(!n.validEnd){let f=n.fillBefore(Xe.empty,!0);r.replace(u,u,new ht(f,0,0))}for(let f=s.length-1;f>=0;f--)r.step(s[f])}function XZ(r,e,t){return(e==0||r.canReplace(e,r.childCount))&&(t==r.childCount||r.canReplace(0,t))}function Cm(r){let t=r.parent.content.cutByIndex(r.startIndex,r.endIndex);for(let n=r.depth;;--n){let i=r.$from.node(n),a=r.$from.index(n),s=r.$to.indexAfter(n);if(n<r.depth&&i.canReplace(a,s,t))return n;if(n==0||i.type.spec.isolating||!XZ(i,a,s))break}return null}function YZ(r,e,t){let{$from:n,$to:i,depth:a}=e,s=n.before(a+1),u=i.after(a+1),f=s,p=u,y=Xe.empty,T=0;for(let A=a,z=!1;A>t;A--)z||n.index(A)>0?(z=!0,y=Xe.from(n.node(A).copy(y)),T++):f--;let N=Xe.empty,O=0;for(let A=a,z=!1;A>t;A--)z||i.after(A+1)<i.end(A)?(z=!0,N=Xe.from(i.node(A).copy(N)),O++):p++;r.step(new In(f,p,s,u,new ht(y.append(N),T,O),y.size-T,!0))}function ZZ(r,e,t=null,n=r){let i=eee(r,e),a=i&&tee(n,e);return a?i.map(N1).concat({type:e,attrs:t}).concat(a.map(N1)):null}function N1(r){return{type:r,attrs:null}}function eee(r,e){let{parent:t,startIndex:n,endIndex:i}=r,a=t.contentMatchAt(n).findWrapping(e);if(!a)return null;let s=a.length?a[0]:e;return t.canReplaceWith(n,i,s)?a:null}function tee(r,e){let{parent:t,startIndex:n,endIndex:i}=r,a=t.child(n),s=e.contentMatch.findWrapping(a.type);if(!s)return null;let f=(s.length?s[s.length-1]:e).contentMatch;for(let p=n;f&&p<i;p++)f=f.matchType(t.child(p).type);return!f||!f.validEnd?null:s}function ree(r,e,t){let n=Xe.empty;for(let s=t.length-1;s>=0;s--){if(n.size){let u=t[s].type.contentMatch.matchFragment(n);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=Xe.from(t[s].type.create(t[s].attrs,n))}let i=e.start,a=e.end;r.step(new In(i,a,i,a,new ht(n,0,0),t.length,!0))}function nee(r,e,t,n,i){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=r.steps.length;r.doc.nodesBetween(e,t,(s,u)=>{let f=typeof i=="function"?i(s):i;if(s.isTextblock&&!s.hasMarkup(n,f)&&iee(r.doc,r.mapping.slice(a).map(u),n)){let p=null;if(n.schema.linebreakReplacement){let O=n.whitespace=="pre",A=!!n.contentMatch.matchType(n.schema.linebreakReplacement);O&&!A?p=!1:!O&&A&&(p=!0)}p===!1&&dS(r,s,u,a),U0(r,r.mapping.slice(a).map(u,1),n,void 0,p===null);let y=r.mapping.slice(a),T=y.map(u,1),N=y.map(u+s.nodeSize,1);return r.step(new In(T,N,T+1,N-1,new ht(Xe.from(n.create(f,null,s.marks)),0,0),1,!0)),p===!0&&fS(r,s,u,a),!1}})}function fS(r,e,t,n){e.forEach((i,a)=>{if(i.isText){let s,u=/\r?\n|\r/g;for(;s=u.exec(i.text);){let f=r.mapping.slice(n).map(t+1+a+s.index);r.replaceWith(f,f+1,e.type.schema.linebreakReplacement.create())}}})}function dS(r,e,t,n){e.forEach((i,a)=>{if(i.type==i.type.schema.linebreakReplacement){let s=r.mapping.slice(n).map(t+1+a);r.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function iee(r,e,t){let n=r.resolve(e),i=n.index();return n.parent.canReplaceWith(i,i+1,t)}function aee(r,e,t,n,i){let a=r.doc.nodeAt(e);if(!a)throw new RangeError("No node at given position");t||(t=a.type);let s=t.create(n,null,i||a.marks);if(a.isLeaf)return r.replaceWith(e,e+a.nodeSize,s);if(!t.validContent(a.content))throw new RangeError("Invalid content for node type "+t.name);r.step(new In(e,e+a.nodeSize,e+1,e+a.nodeSize-1,new ht(Xe.from(s),0,0),1,!0))}function Zc(r,e,t=1,n){let i=r.resolve(e),a=i.depth-t,s=n&&n[n.length-1]||i.parent;if(a<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let p=i.depth-1,y=t-2;p>a;p--,y--){let T=i.node(p),N=i.index(p);if(T.type.spec.isolating)return!1;let O=T.content.cutByIndex(N,T.childCount),A=n&&n[y+1];A&&(O=O.replaceChild(0,A.type.create(A.attrs)));let z=n&&n[y]||T;if(!T.canReplace(N+1,T.childCount)||!z.type.validContent(O))return!1}let u=i.indexAfter(a),f=n&&n[0];return i.node(a).canReplaceWith(u,u,f?f.type:i.node(a+1).type)}function oee(r,e,t=1,n){let i=r.doc.resolve(e),a=Xe.empty,s=Xe.empty;for(let u=i.depth,f=i.depth-t,p=t-1;u>f;u--,p--){a=Xe.from(i.node(u).copy(a));let y=n&&n[p];s=Xe.from(y?y.type.create(y.attrs,s):i.node(u).copy(s))}r.step(new hi(e,e,new ht(a.append(s),t,t),!0))}function hS(r,e){let t=r.resolve(e),n=t.index();return lee(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(n,n+1)}function see(r,e){e.content.size||r.type.compatibleContent(e.type);let t=r.contentMatchAt(r.childCount),{linebreakReplacement:n}=r.type.schema;for(let i=0;i<e.childCount;i++){let a=e.child(i),s=a.type==n?r.type.schema.nodes.text:a.type;if(t=t.matchType(s),!t||!r.type.allowsMarks(a.marks))return!1}return t.validEnd}function lee(r,e){return!!(r&&e&&!r.isLeaf&&see(r,e))}function uee(r,e,t){let n=null,{linebreakReplacement:i}=r.doc.type.schema,a=r.doc.resolve(e-t),s=a.node().type;if(i&&s.inlineContent){let y=s.whitespace=="pre",T=!!s.contentMatch.matchType(i);y&&!T?n=!1:!y&&T&&(n=!0)}let u=r.steps.length;if(n===!1){let y=r.doc.resolve(e+t);dS(r,y.node(),y.before(),u)}s.inlineContent&&U0(r,e+t-1,s,a.node().contentMatchAt(a.index()),n==null);let f=r.mapping.slice(u),p=f.map(e-t);if(r.step(new hi(p,f.map(e+t,-1),ht.empty,!0)),n===!0){let y=r.doc.resolve(p);fS(r,y.node(),y.before(),r.steps.length)}return r}function cee(r,e,t){let n=r.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),t))return e;if(n.parentOffset==0)for(let i=n.depth-1;i>=0;i--){let a=n.index(i);if(n.node(i).canReplaceWith(a,a,t))return n.before(i+1);if(a>0)return null}if(n.parentOffset==n.parent.content.size)for(let i=n.depth-1;i>=0;i--){let a=n.indexAfter(i);if(n.node(i).canReplaceWith(a,a,t))return n.after(i+1);if(a<n.node(i).childCount)return null}return null}function fee(r,e,t){let n=r.resolve(e);if(!t.content.size)return e;let i=t.content;for(let a=0;a<t.openStart;a++)i=i.firstChild.content;for(let a=1;a<=(t.openStart==0&&t.size?2:1);a++)for(let s=n.depth;s>=0;s--){let u=s==n.depth?0:n.pos<=(n.start(s+1)+n.end(s+1))/2?-1:1,f=n.index(s)+(u>0?1:0),p=n.node(s),y=!1;if(a==1)y=p.canReplace(f,f,i);else{let T=p.contentMatchAt(f).findWrapping(i.firstChild.type);y=T&&p.canReplaceWith(f,f,T[0])}if(y)return u==0?n.pos:u<0?n.before(s+1):n.after(s+1)}return null}function W0(r,e,t=e,n=ht.empty){if(e==t&&!n.size)return null;let i=r.resolve(e),a=r.resolve(t);return pS(i,a,n)?new hi(e,t,n):new dee(i,a,n).fit()}function pS(r,e,t){return!t.openStart&&!t.openEnd&&r.start()==e.start()&&r.parent.canReplace(r.index(),e.index(),t.content)}class dee{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=Xe.empty;for(let i=0;i<=e.depth;i++){let a=e.node(i);this.frontier.push({type:a.type,match:a.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=Xe.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let p=this.findFittable();p?this.placeNodes(p):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(e<0?this.$to:n.doc.resolve(e));if(!i)return null;let a=this.placed,s=n.depth,u=i.depth;for(;s&&u&&a.childCount==1;)a=a.firstChild.content,s--,u--;let f=new ht(a,s,u);return e>-1?new In(n.pos,e,this.$to.pos,this.$to.end(),f,t):f.size||n.pos!=this.$to.pos?new hi(n.pos,i.pos,f):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,n=0,i=this.unplaced.openEnd;n<e;n++){let a=t.firstChild;if(t.childCount>1&&(i=0),a.type.spec.isolating&&i<=n){e=n;break}t=a.content}for(let t=1;t<=2;t++)for(let n=t==1?e:this.unplaced.openStart;n>=0;n--){let i,a=null;n?(a=dy(this.unplaced.content,n-1).firstChild,i=a.content):i=this.unplaced.content;let s=i.firstChild;for(let u=this.depth;u>=0;u--){let{type:f,match:p}=this.frontier[u],y,T=null;if(t==1&&(s?p.matchType(s.type)||(T=p.fillBefore(Xe.from(s),!1)):a&&f.compatibleContent(a.type)))return{sliceDepth:n,frontierDepth:u,parent:a,inject:T};if(t==2&&s&&(y=p.findWrapping(s.type)))return{sliceDepth:n,frontierDepth:u,parent:a,wrap:y};if(a&&p.matchType(a.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,i=dy(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new ht(e,t+1,Math.max(n,i.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,i=dy(e,t);if(i.childCount<=1&&t>0){let a=e.size-t<=t+i.size;this.unplaced=new ht(eh(e,t-1,1),t-1,a?t-1:n)}else this.unplaced=new ht(eh(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:i,wrap:a}){for(;this.depth>t;)this.closeFrontierNode();if(a)for(let z=0;z<a.length;z++)this.openFrontierNode(a[z]);let s=this.unplaced,u=n?n.content:s.content,f=s.openStart-e,p=0,y=[],{match:T,type:N}=this.frontier[t];if(i){for(let z=0;z<i.childCount;z++)y.push(i.child(z));T=T.matchFragment(i)}let O=u.size+e-(s.content.size-s.openEnd);for(;p<u.childCount;){let z=u.child(p),H=T.matchType(z.type);if(!H)break;p++,(p>1||f==0||z.content.size)&&(T=H,y.push(vS(z.mark(N.allowedMarks(z.marks)),p==1?f:0,p==u.childCount?O:-1)))}let A=p==u.childCount;A||(O=-1),this.placed=th(this.placed,t,Xe.from(y)),this.frontier[t].match=T,A&&O<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let z=0,H=u;z<O;z++){let j=H.lastChild;this.frontier.push({type:j.type,match:j.contentMatchAt(j.childCount)}),H=j.content}this.unplaced=A?e==0?ht.empty:new ht(eh(s.content,e-1,1),e-1,O<0?s.openEnd:e-1):new ht(eh(s.content,e,p),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!hy(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:n}=this.$to,i=this.$to.after(n);for(;n>1&&i==this.$to.end(--n);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:i}=this.frontier[t],a=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),s=hy(e,t,i,n,a);if(s){for(let u=t-1;u>=0;u--){let{match:f,type:p}=this.frontier[u],y=hy(e,u,p,f,!0);if(!y||y.childCount)continue e}return{depth:t,fit:s,move:a?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=th(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let i=e.node(n),a=i.type.contentMatch.fillBefore(i.content,!0,e.index(n));this.openFrontierNode(i.type,i.attrs,a)}return e}openFrontierNode(e,t=null,n){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=th(this.placed,this.depth,Xe.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(Xe.empty,!0);t.childCount&&(this.placed=th(this.placed,this.frontier.length,t))}}function eh(r,e,t){return e==0?r.cutByIndex(t,r.childCount):r.replaceChild(0,r.firstChild.copy(eh(r.firstChild.content,e-1,t)))}function th(r,e,t){return e==0?r.append(t):r.replaceChild(r.childCount-1,r.lastChild.copy(th(r.lastChild.content,e-1,t)))}function dy(r,e){for(let t=0;t<e;t++)r=r.firstChild.content;return r}function vS(r,e,t){if(e<=0)return r;let n=r.content;return e>1&&(n=n.replaceChild(0,vS(n.firstChild,e-1,n.childCount==1?t-1:0))),e>0&&(n=r.type.contentMatch.fillBefore(n).append(n),t<=0&&(n=n.append(r.type.contentMatch.matchFragment(n).fillBefore(Xe.empty,!0)))),r.copy(n)}function hy(r,e,t,n,i){let a=r.node(e),s=i?r.indexAfter(e):r.index(e);if(s==a.childCount&&!t.compatibleContent(a.type))return null;let u=n.fillBefore(a.content,!0,s);return u&&!hee(t,a.content,s)?u:null}function hee(r,e,t){for(let n=t;n<e.childCount;n++)if(!r.allowsMarks(e.child(n).marks))return!0;return!1}function pee(r){return r.spec.defining||r.spec.definingForContent}function vee(r,e,t,n){if(!n.size)return r.deleteRange(e,t);let i=r.doc.resolve(e),a=r.doc.resolve(t);if(pS(i,a,n))return r.step(new hi(e,t,n));let s=gS(i,r.doc.resolve(t));s[s.length-1]==0&&s.pop();let u=-(i.depth+1);s.unshift(u);for(let N=i.depth,O=i.pos-1;N>0;N--,O--){let A=i.node(N).type.spec;if(A.defining||A.definingAsContext||A.isolating)break;s.indexOf(N)>-1?u=N:i.before(N)==O&&s.splice(1,0,-N)}let f=s.indexOf(u),p=[],y=n.openStart;for(let N=n.content,O=0;;O++){let A=N.firstChild;if(p.push(A),O==n.openStart)break;N=A.content}for(let N=y-1;N>=0;N--){let O=p[N],A=pee(O.type);if(A&&!O.sameMarkup(i.node(Math.abs(u)-1)))y=N;else if(A||!O.type.isTextblock)break}for(let N=n.openStart;N>=0;N--){let O=(N+y+1)%(n.openStart+1),A=p[O];if(A)for(let z=0;z<s.length;z++){let H=s[(z+f)%s.length],j=!0;H<0&&(j=!1,H=-H);let ie=i.node(H-1),le=i.index(H-1);if(ie.canReplaceWith(le,le,A.type,A.marks))return r.replace(i.before(H),j?a.after(H):t,new ht(mS(n.content,0,n.openStart,O),O,n.openEnd))}}let T=r.steps.length;for(let N=s.length-1;N>=0&&(r.replace(e,t,n),!(r.steps.length>T));N--){let O=s[N];O<0||(e=i.before(O),t=a.after(O))}}function mS(r,e,t,n,i){if(e<t){let a=r.firstChild;r=r.replaceChild(0,a.copy(mS(a.content,e+1,t,n,a)))}if(e>n){let a=i.contentMatchAt(0),s=a.fillBefore(r).append(r);r=s.append(a.matchFragment(s).fillBefore(Xe.empty,!0))}return r}function mee(r,e,t,n){if(!n.isInline&&e==t&&r.doc.resolve(e).parent.content.size){let i=cee(r.doc,e,n.type);i!=null&&(e=t=i)}r.replaceRange(e,t,new ht(Xe.from(n),0,0))}function gee(r,e,t){let n=r.doc.resolve(e),i=r.doc.resolve(t),a=gS(n,i);for(let s=0;s<a.length;s++){let u=a[s],f=s==a.length-1;if(f&&u==0||n.node(u).type.contentMatch.validEnd)return r.delete(n.start(u),i.end(u));if(u>0&&(f||n.node(u-1).canReplace(n.index(u-1),i.indexAfter(u-1))))return r.delete(n.before(u),i.after(u))}for(let s=1;s<=n.depth&&s<=i.depth;s++)if(e-n.start(s)==n.depth-s&&t>n.end(s)&&i.end(s)-t!=i.depth-s&&n.start(s-1)==i.start(s-1)&&n.node(s-1).canReplace(n.index(s-1),i.index(s-1)))return r.delete(n.before(s),t);r.delete(e,t)}function gS(r,e){let t=[],n=Math.min(r.depth,e.depth);for(let i=n;i>=0;i--){let a=r.start(i);if(a<r.pos-(r.depth-i)||e.end(i)>e.pos+(e.depth-i)||r.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(a==e.start(i)||i==r.depth&&i==e.depth&&r.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==a-1)&&t.push(i)}return t}class ef extends mi{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return pn.fail("No node at attribute step's position");let n=Object.create(null);for(let a in t.attrs)n[a]=t.attrs[a];n[this.attr]=this.value;let i=t.type.create(n,null,t.marks);return pn.fromReplace(e,this.pos,this.pos+1,new ht(Xe.from(i),0,t.isLeaf?0:1))}getMap(){return Gi.empty}invert(e){return new ef(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new ef(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ef(t.pos,t.attr,t.value)}}mi.jsonID("attr",ef);class ph extends mi{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let n=e.type.create(t,e.content,e.marks);return pn.ok(n)}getMap(){return Gi.empty}invert(e){return new ph(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new ph(t.attr,t.value)}}mi.jsonID("docAttr",ph);let rf=class extends Error{};rf=function r(e){let t=Error.call(this,e);return t.__proto__=r.prototype,t};rf.prototype=Object.create(Error.prototype);rf.prototype.constructor=rf;rf.prototype.name="TransformError";class yee{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new hh}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new rf(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=ht.empty){let i=W0(this.doc,e,t,n);return i&&this.step(i),this}replaceWith(e,t,n){return this.replace(e,t,new ht(Xe.from(n),0,0))}delete(e,t){return this.replace(e,t,ht.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return vee(this,e,t,n),this}replaceRangeWith(e,t,n){return mee(this,e,t,n),this}deleteRange(e,t){return gee(this,e,t),this}lift(e,t){return YZ(this,e,t),this}join(e,t=1){return uee(this,e,t),this}wrap(e,t){return ree(this,e,t),this}setBlockType(e,t=e,n,i=null){return nee(this,e,t,n,i),this}setNodeMarkup(e,t,n=null,i){return aee(this,e,t,n,i),this}setNodeAttribute(e,t,n){return this.step(new ef(e,t,n)),this}setDocAttribute(e,t){return this.step(new ph(e,t)),this}addNodeMark(e,t){return this.step(new dl(e,t)),this}removeNodeMark(e,t){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(t instanceof kr)t.isInSet(n.marks)&&this.step(new xu(e,t));else{let i=n.marks,a,s=[];for(;a=t.isInSet(i);)s.push(new xu(e,a)),i=a.removeFromSet(i);for(let u=s.length-1;u>=0;u--)this.step(s[u])}return this}split(e,t=1,n){return oee(this,e,t,n),this}addMark(e,t,n){return JZ(this,e,t,n),this}removeMark(e,t,n){return QZ(this,e,t,n),this}clearIncompatible(e,t,n){return U0(this,e,t,n),this}}const py=Object.create(null);class ir{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new yS(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=ht.empty){let n=t.content.lastChild,i=null;for(let u=0;u<t.openEnd;u++)i=n,n=n.lastChild;let a=e.steps.length,s=this.ranges;for(let u=0;u<s.length;u++){let{$from:f,$to:p}=s[u],y=e.mapping.slice(a);e.replaceRange(y.map(f.pos),y.map(p.pos),u?ht.empty:t),u==0&&A1(e,a,(n?n.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){let{$from:s,$to:u}=i[a],f=e.mapping.slice(n),p=f.map(s.pos),y=f.map(u.pos);a?e.deleteRange(p,y):(e.replaceRangeWith(p,y,t),A1(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let i=e.parent.inlineContent?new ur(e):Gc(e.node(0),e.parent,e.pos,e.index(),t,n);if(i)return i;for(let a=e.depth-1;a>=0;a--){let s=t<0?Gc(e.node(0),e.node(a),e.before(a+1),e.index(a),t,n):Gc(e.node(0),e.node(a),e.after(a+1),e.index(a)+1,t,n);if(s)return s}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Oi(e.node(0))}static atStart(e){return Gc(e,e,0,0,1)||new Oi(e)}static atEnd(e){return Gc(e,e,e.content.size,e.childCount,-1)||new Oi(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=py[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in py)throw new RangeError("Duplicate use of selection JSON ID "+e);return py[e]=t,t.prototype.jsonID=e,t}getBookmark(){return ur.between(this.$anchor,this.$head).getBookmark()}}ir.prototype.visible=!0;class yS{constructor(e,t){this.$from=e,this.$to=t}}let O1=!1;function D1(r){!O1&&!r.parent.inlineContent&&(O1=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+r.parent.type.name+")"))}class ur extends ir{constructor(e,t=e){D1(e),D1(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return ir.near(n);let i=e.resolve(t.map(this.anchor));return new ur(i.parent.inlineContent?i:n,n)}replace(e,t=ht.empty){if(super.replace(e,t),t==ht.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof ur&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Tm(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ur(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){let i=e.resolve(t);return new this(i,n==t?i:e.resolve(n))}static between(e,t,n){let i=e.pos-t.pos;if((!n||i)&&(n=i>=0?1:-1),!t.parent.inlineContent){let a=ir.findFrom(t,n,!0)||ir.findFrom(t,-n,!0);if(a)t=a.$head;else return ir.near(t,n)}return e.parent.inlineContent||(i==0?e=t:(e=(ir.findFrom(e,-n,!0)||ir.findFrom(e,n,!0)).$anchor,e.pos<t.pos!=i<0&&(e=t))),new ur(e,t)}}ir.jsonID("text",ur);class Tm{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Tm(e.map(this.anchor),e.map(this.head))}resolve(e){return ur.between(e.resolve(this.anchor),e.resolve(this.head))}}class Gt extends ir{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:i}=t.mapResult(this.anchor),a=e.resolve(i);return n?ir.near(a):new Gt(a)}content(){return new ht(Xe.from(this.node),0,0)}eq(e){return e instanceof Gt&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new j0(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Gt(e.resolve(t.anchor))}static create(e,t){return new Gt(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Gt.prototype.visible=!1;ir.jsonID("node",Gt);class j0{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new Tm(n,n):new j0(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&Gt.isSelectable(n)?new Gt(t):ir.near(t)}}class Oi extends ir{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=ht.empty){if(t==ht.empty){e.delete(0,e.doc.content.size);let n=ir.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Oi(e)}map(e){return new Oi(e)}eq(e){return e instanceof Oi}getBookmark(){return kee}}ir.jsonID("all",Oi);const kee={map(){return this},resolve(r){return new Oi(r)}};function Gc(r,e,t,n,i,a=!1){if(e.inlineContent)return ur.create(r,t);for(let s=n-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let u=e.child(s);if(u.isAtom){if(!a&&Gt.isSelectable(u))return Gt.create(r,t-(i<0?u.nodeSize:0))}else{let f=Gc(r,u,t+i,i<0?u.childCount:0,i,a);if(f)return f}t+=u.nodeSize*i}return null}function A1(r,e,t){let n=r.steps.length-1;if(n<e)return;let i=r.steps[n];if(!(i instanceof hi||i instanceof In))return;let a=r.mapping.maps[n],s;a.forEach((u,f,p,y)=>{s==null&&(s=y)}),r.setSelection(ir.near(r.doc.resolve(s),t))}const L1=1,Cv=2,R1=4;class wee extends yee{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|L1)&~Cv,this.storedMarks=null,this}get selectionSet(){return(this.updated&L1)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Cv,this}ensureMarks(e){return kr.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Cv)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~Cv,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||kr.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let i=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(n==null&&(n=t),n=n??t,!e)return this.deleteRange(t,n);let a=this.storedMarks;if(!a){let s=this.doc.resolve(t);a=n==t?s.marks():s.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,i.text(e,a)),this.selection.empty||this.setSelection(ir.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=R1,this}get scrolledIntoView(){return(this.updated&R1)>0}}function I1(r,e){return!e||!r?r:r.bind(e)}class rh{constructor(e,t,n){this.name=e,this.init=I1(t.init,n),this.apply=I1(t.apply,n)}}const bee=[new rh("doc",{init(r){return r.doc||r.schema.topNodeType.createAndFill()},apply(r){return r.doc}}),new rh("selection",{init(r,e){return r.selection||ir.atStart(e.doc)},apply(r){return r.selection}}),new rh("storedMarks",{init(r){return r.storedMarks||null},apply(r,e,t,n){return n.selection.$cursor?r.storedMarks:null}}),new rh("scrollToSelection",{init(){return 0},apply(r,e){return r.scrolledIntoView?e+1:e}})];class vy{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=bee.slice(),t&&t.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new rh(n.key,n.spec.state,n))})}}class vu{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let i=this.config.plugins[n];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),i=null;for(;;){let a=!1;for(let s=0;s<this.config.plugins.length;s++){let u=this.config.plugins[s];if(u.spec.appendTransaction){let f=i?i[s].n:0,p=i?i[s].state:this,y=f<t.length&&u.spec.appendTransaction.call(u,f?t.slice(f):t,p,n);if(y&&n.filterTransaction(y,s)){if(y.setMeta("appendedTransaction",e),!i){i=[];for(let T=0;T<this.config.plugins.length;T++)i.push(T<s?{state:n,n:t.length}:{state:this,n:0})}t.push(y),n=n.applyInner(y),a=!0}i&&(i[s]={state:n,n:t.length})}}if(!a)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new vu(this.config),n=this.config.fields;for(let i=0;i<n.length;i++){let a=n[i];t[a.name]=a.apply(e,this[a.name],this,t)}return t}get tr(){return new wee(this)}static create(e){let t=new vy(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new vu(t);for(let i=0;i<t.fields.length;i++)n[t.fields[i].name]=t.fields[i].init(e,n);return n}reconfigure(e){let t=new vy(this.schema,e.plugins),n=t.fields,i=new vu(t);for(let a=0;a<n.length;a++){let s=n[a].name;i[s]=this.hasOwnProperty(s)?this[s]:n[a].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[n],a=i.spec.state;a&&a.toJSON&&(t[n]=a.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new vy(e.schema,e.plugins),a=new vu(i);return i.fields.forEach(s=>{if(s.name=="doc")a.doc=pl.fromJSON(e.schema,t.doc);else if(s.name=="selection")a.selection=ir.fromJSON(a.doc,t.selection);else if(s.name=="storedMarks")t.storedMarks&&(a.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let u in n){let f=n[u],p=f.spec.state;if(f.key==s.name&&p&&p.fromJSON&&Object.prototype.hasOwnProperty.call(t,u)){a[s.name]=p.fromJSON.call(f,e,t[u],a);return}}a[s.name]=s.init(e,a)}}),a}}function kS(r,e,t){for(let n in r){let i=r[n];i instanceof Function?i=i.bind(e):n=="handleDOMEvents"&&(i=kS(i,e,{})),t[n]=i}return t}class Xi{constructor(e){this.spec=e,this.props={},e.props&&kS(e.props,this,this.props),this.key=e.key?e.key.key:wS("plugin")}getState(e){return e[this.key]}}const my=Object.create(null);function wS(r){return r in my?r+"$"+ ++my[r]:(my[r]=0,r+"$")}class bh{constructor(e="key"){this.key=wS(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Jn=function(r){for(var e=0;;e++)if(r=r.previousSibling,!r)return e},nf=function(r){let e=r.assignedSlot||r.parentNode;return e&&e.nodeType==11?e.host:e};let i0=null;const Ss=function(r,e,t){let n=i0||(i0=document.createRange());return n.setEnd(r,t??r.nodeValue.length),n.setStart(r,e||0),n},Cee=function(){i0=null},Eu=function(r,e,t,n){return t&&(P1(r,e,t,n,-1)||P1(r,e,t,n,1))},Tee=/^(img|br|input|textarea|hr)$/i;function P1(r,e,t,n,i){for(var a;;){if(r==t&&e==n)return!0;if(e==(i<0?0:Sa(r))){let s=r.parentNode;if(!s||s.nodeType!=1||Ch(r)||Tee.test(r.nodeName)||r.contentEditable=="false")return!1;e=Jn(r)+(i<0?0:1),r=s}else if(r.nodeType==1){let s=r.childNodes[e+(i<0?-1:0)];if(s.nodeType==1&&s.contentEditable=="false")if(!((a=s.pmViewDesc)===null||a===void 0)&&a.ignoreForSelection)e+=i;else return!1;else r=s,e=i<0?Sa(r):0}else return!1}}function Sa(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function See(r,e){for(;;){if(r.nodeType==3&&e)return r;if(r.nodeType==1&&e>0){if(r.contentEditable=="false")return null;r=r.childNodes[e-1],e=Sa(r)}else if(r.parentNode&&!Ch(r))e=Jn(r),r=r.parentNode;else return null}}function xee(r,e){for(;;){if(r.nodeType==3&&e<r.nodeValue.length)return r;if(r.nodeType==1&&e<r.childNodes.length){if(r.contentEditable=="false")return null;r=r.childNodes[e],e=0}else if(r.parentNode&&!Ch(r))e=Jn(r)+1,r=r.parentNode;else return null}}function Eee(r,e,t){for(let n=e==0,i=e==Sa(r);n||i;){if(r==t)return!0;let a=Jn(r);if(r=r.parentNode,!r)return!1;n=n&&a==0,i=i&&a==Sa(r)}}function Ch(r){let e;for(let t=r;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==r||e.contentDOM==r)}const Sm=function(r){return r.focusNode&&Eu(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)};function pu(r,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=r,t.key=t.code=e,t}function Mee(r){let e=r.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Nee(r,e,t){if(r.caretPositionFromPoint)try{let n=r.caretPositionFromPoint(e,t);if(n)return{node:n.offsetNode,offset:Math.min(Sa(n.offsetNode),n.offset)}}catch{}if(r.caretRangeFromPoint){let n=r.caretRangeFromPoint(e,t);if(n)return{node:n.startContainer,offset:Math.min(Sa(n.startContainer),n.startOffset)}}}const Fo=typeof navigator<"u"?navigator:null,B1=typeof document<"u"?document:null,Tl=Fo&&Fo.userAgent||"",a0=/Edge\/(\d+)/.exec(Tl),bS=/MSIE \d/.exec(Tl),o0=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Tl),Ji=!!(bS||o0||a0),vl=bS?document.documentMode:o0?+o0[1]:a0?+a0[1]:0,Za=!Ji&&/gecko\/(\d+)/i.test(Tl);Za&&+(/Firefox\/(\d+)/.exec(Tl)||[0,0])[1];const s0=!Ji&&/Chrome\/(\d+)/.exec(Tl),pi=!!s0,CS=s0?+s0[1]:0,Di=!Ji&&!!Fo&&/Apple Computer/.test(Fo.vendor),af=Di&&(/Mobile\/\w+/.test(Tl)||!!Fo&&Fo.maxTouchPoints>2),Ta=af||(Fo?/Mac/.test(Fo.platform):!1),Oee=Fo?/Win/.test(Fo.platform):!1,Ms=/Android \d/.test(Tl),Th=!!B1&&"webkitFontSmoothing"in B1.documentElement.style,Dee=Th?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Aee(r){let e=r.defaultView&&r.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:r.documentElement.clientWidth,top:0,bottom:r.documentElement.clientHeight}}function Cs(r,e){return typeof r=="number"?r:r[e]}function Lee(r){let e=r.getBoundingClientRect(),t=e.width/r.offsetWidth||1,n=e.height/r.offsetHeight||1;return{left:e.left,right:e.left+r.clientWidth*t,top:e.top,bottom:e.top+r.clientHeight*n}}function F1(r,e,t){let n=r.someProp("scrollThreshold")||0,i=r.someProp("scrollMargin")||5,a=r.dom.ownerDocument;for(let s=t||r.dom;s;){if(s.nodeType!=1){s=nf(s);continue}let u=s,f=u==a.body,p=f?Aee(a):Lee(u),y=0,T=0;if(e.top<p.top+Cs(n,"top")?T=-(p.top-e.top+Cs(i,"top")):e.bottom>p.bottom-Cs(n,"bottom")&&(T=e.bottom-e.top>p.bottom-p.top?e.top+Cs(i,"top")-p.top:e.bottom-p.bottom+Cs(i,"bottom")),e.left<p.left+Cs(n,"left")?y=-(p.left-e.left+Cs(i,"left")):e.right>p.right-Cs(n,"right")&&(y=e.right-p.right+Cs(i,"right")),y||T)if(f)a.defaultView.scrollBy(y,T);else{let O=u.scrollLeft,A=u.scrollTop;T&&(u.scrollTop+=T),y&&(u.scrollLeft+=y);let z=u.scrollLeft-O,H=u.scrollTop-A;e={left:e.left-z,top:e.top-H,right:e.right-z,bottom:e.bottom-H}}let N=f?"fixed":getComputedStyle(s).position;if(/^(fixed|sticky)$/.test(N))break;s=N=="absolute"?s.offsetParent:nf(s)}}function Ree(r){let e=r.dom.getBoundingClientRect(),t=Math.max(0,e.top),n,i;for(let a=(e.left+e.right)/2,s=t+1;s<Math.min(innerHeight,e.bottom);s+=5){let u=r.root.elementFromPoint(a,s);if(!u||u==r.dom||!r.dom.contains(u))continue;let f=u.getBoundingClientRect();if(f.top>=t-20){n=u,i=f.top;break}}return{refDOM:n,refTop:i,stack:TS(r.dom)}}function TS(r){let e=[],t=r.ownerDocument;for(let n=r;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),r!=t);n=nf(n));return e}function Iee({refDOM:r,refTop:e,stack:t}){let n=r?r.getBoundingClientRect().top:0;SS(t,n==0?0:n-e)}function SS(r,e){for(let t=0;t<r.length;t++){let{dom:n,top:i,left:a}=r[t];n.scrollTop!=i+e&&(n.scrollTop=i+e),n.scrollLeft!=a&&(n.scrollLeft=a)}}let Hc=null;function Pee(r){if(r.setActive)return r.setActive();if(Hc)return r.focus(Hc);let e=TS(r);r.focus(Hc==null?{get preventScroll(){return Hc={preventScroll:!0},!0}}:void 0),Hc||(Hc=!1,SS(e,0))}function xS(r,e){let t,n=2e8,i,a=0,s=e.top,u=e.top,f,p;for(let y=r.firstChild,T=0;y;y=y.nextSibling,T++){let N;if(y.nodeType==1)N=y.getClientRects();else if(y.nodeType==3)N=Ss(y).getClientRects();else continue;for(let O=0;O<N.length;O++){let A=N[O];if(A.top<=s&&A.bottom>=u){s=Math.max(A.bottom,s),u=Math.min(A.top,u);let z=A.left>e.left?A.left-e.left:A.right<e.left?e.left-A.right:0;if(z<n){t=y,n=z,i=z&&t.nodeType==3?{left:A.right<e.left?A.right:A.left,top:e.top}:e,y.nodeType==1&&z&&(a=T+(e.left>=(A.left+A.right)/2?1:0));continue}}else A.top>e.top&&!f&&A.left<=e.left&&A.right>=e.left&&(f=y,p={left:Math.max(A.left,Math.min(A.right,e.left)),top:A.top});!t&&(e.left>=A.right&&e.top>=A.top||e.left>=A.left&&e.top>=A.bottom)&&(a=T+1)}}return!t&&f&&(t=f,i=p,n=0),t&&t.nodeType==3?Bee(t,i):!t||n&&t.nodeType==1?{node:r,offset:a}:xS(t,i)}function Bee(r,e){let t=r.nodeValue.length,n=document.createRange();for(let i=0;i<t;i++){n.setEnd(r,i+1),n.setStart(r,i);let a=ol(n,1);if(a.top!=a.bottom&&G0(e,a))return{node:r,offset:i+(e.left>=(a.left+a.right)/2?1:0)}}return{node:r,offset:0}}function G0(r,e){return r.left>=e.left-1&&r.left<=e.right+1&&r.top>=e.top-1&&r.top<=e.bottom+1}function Fee(r,e){let t=r.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<r.getBoundingClientRect().left?t:r}function _ee(r,e,t){let{node:n,offset:i}=xS(e,t),a=-1;if(n.nodeType==1&&!n.firstChild){let s=n.getBoundingClientRect();a=s.left!=s.right&&t.left>(s.left+s.right)/2?1:-1}return r.docView.posFromDOM(n,i,a)}function qee(r,e,t,n){let i=-1;for(let a=e,s=!1;a!=r.dom;){let u=r.docView.nearestDesc(a,!0),f;if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent||!u.contentDOM)&&((f=u.dom.getBoundingClientRect()).width||f.height)&&(u.node.isBlock&&u.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(u.dom.nodeName)&&(!s&&f.left>n.left||f.top>n.top?i=u.posBefore:(!s&&f.right<n.left||f.bottom<n.top)&&(i=u.posAfter),s=!0),!u.contentDOM&&i<0&&!u.node.isText))return(u.node.isBlock?n.top<(f.top+f.bottom)/2:n.left<(f.left+f.right)/2)?u.posBefore:u.posAfter;a=u.dom.parentNode}return i>-1?i:r.docView.posFromDOM(e,t,-1)}function ES(r,e,t){let n=r.childNodes.length;if(n&&t.top<t.bottom)for(let i=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-t.top)/(t.bottom-t.top))-2)),a=i;;){let s=r.childNodes[a];if(s.nodeType==1){let u=s.getClientRects();for(let f=0;f<u.length;f++){let p=u[f];if(G0(e,p))return ES(s,e,p)}}if((a=(a+1)%n)==i)break}return r}function zee(r,e){let t=r.dom.ownerDocument,n,i=0,a=Nee(t,e.left,e.top);a&&({node:n,offset:i}=a);let s=(r.root.elementFromPoint?r.root:t).elementFromPoint(e.left,e.top),u;if(!s||!r.dom.contains(s.nodeType!=1?s.parentNode:s)){let p=r.dom.getBoundingClientRect();if(!G0(e,p)||(s=ES(r.dom,e,p),!s))return null}if(Di)for(let p=s;n&&p;p=nf(p))p.draggable&&(n=void 0);if(s=Fee(s,e),n){if(Za&&n.nodeType==1&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let y=n.childNodes[i],T;y.nodeName=="IMG"&&(T=y.getBoundingClientRect()).right<=e.left&&T.bottom>e.top&&i++}let p;Th&&i&&n.nodeType==1&&(p=n.childNodes[i-1]).nodeType==1&&p.contentEditable=="false"&&p.getBoundingClientRect().top>=e.top&&i--,n==r.dom&&i==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?u=r.state.doc.content.size:(i==0||n.nodeType!=1||n.childNodes[i-1].nodeName!="BR")&&(u=qee(r,n,i,e))}u==null&&(u=_ee(r,s,e));let f=r.docView.nearestDesc(s,!0);return{pos:u,inside:f?f.posAtStart-f.border:-1}}function _1(r){return r.top<r.bottom||r.left<r.right}function ol(r,e){let t=r.getClientRects();if(t.length){let n=t[e<0?0:t.length-1];if(_1(n))return n}return Array.prototype.find.call(t,_1)||r.getBoundingClientRect()}const Hee=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function MS(r,e,t){let{node:n,offset:i,atom:a}=r.docView.domFromPos(e,t<0?-1:1),s=Th||Za;if(n.nodeType==3)if(s&&(Hee.test(n.nodeValue)||(t<0?!i:i==n.nodeValue.length))){let f=ol(Ss(n,i,i),t);if(Za&&i&&/\s/.test(n.nodeValue[i-1])&&i<n.nodeValue.length){let p=ol(Ss(n,i-1,i-1),-1);if(p.top==f.top){let y=ol(Ss(n,i,i+1),-1);if(y.top!=f.top)return Kd(y,y.left<p.left)}}return f}else{let f=i,p=i,y=t<0?1:-1;return t<0&&!i?(p++,y=-1):t>=0&&i==n.nodeValue.length?(f--,y=1):t<0?f--:p++,Kd(ol(Ss(n,f,p),y),y<0)}if(!r.state.doc.resolve(e-(a||0)).parent.inlineContent){if(a==null&&i&&(t<0||i==Sa(n))){let f=n.childNodes[i-1];if(f.nodeType==1)return gy(f.getBoundingClientRect(),!1)}if(a==null&&i<Sa(n)){let f=n.childNodes[i];if(f.nodeType==1)return gy(f.getBoundingClientRect(),!0)}return gy(n.getBoundingClientRect(),t>=0)}if(a==null&&i&&(t<0||i==Sa(n))){let f=n.childNodes[i-1],p=f.nodeType==3?Ss(f,Sa(f)-(s?0:1)):f.nodeType==1&&(f.nodeName!="BR"||!f.nextSibling)?f:null;if(p)return Kd(ol(p,1),!1)}if(a==null&&i<Sa(n)){let f=n.childNodes[i];for(;f.pmViewDesc&&f.pmViewDesc.ignoreForCoords;)f=f.nextSibling;let p=f?f.nodeType==3?Ss(f,0,s?0:1):f.nodeType==1?f:null:null;if(p)return Kd(ol(p,-1),!0)}return Kd(ol(n.nodeType==3?Ss(n):n,-t),t>=0)}function Kd(r,e){if(r.width==0)return r;let t=e?r.left:r.right;return{top:r.top,bottom:r.bottom,left:t,right:t}}function gy(r,e){if(r.height==0)return r;let t=e?r.top:r.bottom;return{top:t,bottom:t,left:r.left,right:r.right}}function NS(r,e,t){let n=r.state,i=r.root.activeElement;n!=e&&r.updateState(e),i!=r.dom&&r.focus();try{return t()}finally{n!=e&&r.updateState(n),i!=r.dom&&i&&i.focus()}}function Vee(r,e,t){let n=e.selection,i=t=="up"?n.$from:n.$to;return NS(r,e,()=>{let{node:a}=r.docView.domFromPos(i.pos,t=="up"?-1:1);for(;;){let u=r.docView.nearestDesc(a,!0);if(!u)break;if(u.node.isBlock){a=u.contentDOM||u.dom;break}a=u.dom.parentNode}let s=MS(r,i.pos,1);for(let u=a.firstChild;u;u=u.nextSibling){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=Ss(u,0,u.nodeValue.length).getClientRects();else continue;for(let p=0;p<f.length;p++){let y=f[p];if(y.bottom>y.top+1&&(t=="up"?s.top-y.top>(y.bottom-s.top)*2:y.bottom-s.bottom>(s.bottom-y.top)*2))return!1}}return!0})}const $ee=/[\u0590-\u08ac]/;function Uee(r,e,t){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let i=n.parentOffset,a=!i,s=i==n.parent.content.size,u=r.domSelection();return u?!$ee.test(n.parent.textContent)||!u.modify?t=="left"||t=="backward"?a:s:NS(r,e,()=>{let{focusNode:f,focusOffset:p,anchorNode:y,anchorOffset:T}=r.domSelectionRange(),N=u.caretBidiLevel;u.modify("move",t,"character");let O=n.depth?r.docView.domAfterPos(n.before()):r.dom,{focusNode:A,focusOffset:z}=r.domSelectionRange(),H=A&&!O.contains(A.nodeType==1?A:A.parentNode)||f==A&&p==z;try{u.collapse(y,T),f&&(f!=y||p!=T)&&u.extend&&u.extend(f,p)}catch{}return N!=null&&(u.caretBidiLevel=N),H}):n.pos==n.start()||n.pos==n.end()}let q1=null,z1=null,H1=!1;function Wee(r,e,t){return q1==e&&z1==t?H1:(q1=e,z1=t,H1=t=="up"||t=="down"?Vee(r,e,t):Uee(r,e,t))}const xa=0,V1=1,mu=2,_o=3;class Sh{constructor(e,t,n,i){this.parent=e,this.children=t,this.dom=n,this.contentDOM=i,this.dirty=xa,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let i=this.children[t];if(i==e)return n;n+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let a,s;if(e==this.contentDOM)a=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.previousSibling}for(;a&&!((s=a.pmViewDesc)&&s.parent==this);)a=a.previousSibling;return a?this.posBeforeChild(s)+s.size:this.posAtStart}else{let a,s;if(e==this.contentDOM)a=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.nextSibling}for(;a&&!((s=a.pmViewDesc)&&s.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=t>Jn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let a=e;;a=a.parentNode){if(a==this.dom){i=!1;break}if(a.previousSibling)break}if(i==null&&t==e.childNodes.length)for(let a=e;;a=a.parentNode){if(a==this.dom){i=!0;break}if(a.nextSibling)break}}return i??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,i=e;i;i=i.parentNode){let a=this.getDesc(i),s;if(a&&(!t||a.node))if(n&&(s=a.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))n=!1;else return a}}getDesc(e){let t=e.pmViewDesc;for(let n=t;n;n=n.parent)if(n==this)return t}posFromDOM(e,t,n){for(let i=e;i;i=i.parentNode){let a=this.getDesc(i);if(a)return a.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let i=this.children[t],a=n+i.size;if(n==e&&a!=n){for(;!i.border&&i.children.length;)for(let s=0;s<i.children.length;s++){let u=i.children[s];if(u.size){i=u;break}}return i}if(e<a)return i.descAt(e-n-i.border);n=a}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,i=0;for(let a=0;n<this.children.length;n++){let s=this.children[n],u=a+s.size;if(u>e||s instanceof DS){i=e-a;break}a=u}if(i)return this.children[n].domFromPos(i-this.children[n].border,t);for(let a;n&&!(a=this.children[n-1]).size&&a instanceof OS&&a.side>=0;n--);if(t<=0){let a,s=!0;for(;a=n?this.children[n-1]:null,!(!a||a.dom.parentNode==this.contentDOM);n--,s=!1);return a&&t&&s&&!a.border&&!a.domAtom?a.domFromPos(a.size,t):{node:this.contentDOM,offset:a?Jn(a.dom)+1:0}}else{let a,s=!0;for(;a=n<this.children.length?this.children[n]:null,!(!a||a.dom.parentNode==this.contentDOM);n++,s=!1);return a&&s&&!a.border&&!a.domAtom?a.domFromPos(0,t):{node:this.contentDOM,offset:a?Jn(a.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,a=-1;for(let s=n,u=0;;u++){let f=this.children[u],p=s+f.size;if(i==-1&&e<=p){let y=s+f.border;if(e>=y&&t<=p-f.border&&f.node&&f.contentDOM&&this.contentDOM.contains(f.contentDOM))return f.parseRange(e,t,y);e=s;for(let T=u;T>0;T--){let N=this.children[T-1];if(N.size&&N.dom.parentNode==this.contentDOM&&!N.emptyChildAt(1)){i=Jn(N.dom)+1;break}e-=N.size}i==-1&&(i=0)}if(i>-1&&(p>t||u==this.children.length-1)){t=p;for(let y=u+1;y<this.children.length;y++){let T=this.children[y];if(T.size&&T.dom.parentNode==this.contentDOM&&!T.emptyChildAt(-1)){a=Jn(T.dom);break}t+=T.size}a==-1&&(a=this.contentDOM.childNodes.length);break}s=p}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:a}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(t.nodeType!=1||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,i=!1){let a=Math.min(e,t),s=Math.max(e,t);for(let O=0,A=0;O<this.children.length;O++){let z=this.children[O],H=A+z.size;if(a>A&&s<H)return z.setSelection(e-A-z.border,t-A-z.border,n,i);A=H}let u=this.domFromPos(e,e?-1:1),f=t==e?u:this.domFromPos(t,t?-1:1),p=n.root.getSelection(),y=n.domSelectionRange(),T=!1;if((Za||Di)&&e==t){let{node:O,offset:A}=u;if(O.nodeType==3){if(T=!!(A&&O.nodeValue[A-1]==`
`),T&&A==O.nodeValue.length)for(let z=O,H;z;z=z.parentNode){if(H=z.nextSibling){H.nodeName=="BR"&&(u=f={node:H.parentNode,offset:Jn(H)+1});break}let j=z.pmViewDesc;if(j&&j.node&&j.node.isBlock)break}}else{let z=O.childNodes[A-1];T=z&&(z.nodeName=="BR"||z.contentEditable=="false")}}if(Za&&y.focusNode&&y.focusNode!=f.node&&y.focusNode.nodeType==1){let O=y.focusNode.childNodes[y.focusOffset];O&&O.contentEditable=="false"&&(i=!0)}if(!(i||T&&Di)&&Eu(u.node,u.offset,y.anchorNode,y.anchorOffset)&&Eu(f.node,f.offset,y.focusNode,y.focusOffset))return;let N=!1;if((p.extend||e==t)&&!T){p.collapse(u.node,u.offset);try{e!=t&&p.extend(f.node,f.offset),N=!0}catch{}}if(!N){if(e>t){let A=u;u=f,f=A}let O=document.createRange();O.setEnd(f.node,f.offset),O.setStart(u.node,u.offset),p.removeAllRanges(),p.addRange(O)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,i=0;i<this.children.length;i++){let a=this.children[i],s=n+a.size;if(n==s?e<=s&&t>=n:e<s&&t>n){let u=n+a.border,f=s-a.border;if(e>=u&&t<=f){this.dirty=e==n||t==s?mu:V1,e==u&&t==f&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=_o:a.markDirty(e-u,t-u);return}else a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM&&!a.children.length?mu:_o}n=s}this.dirty=mu}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=e==1?mu:V1;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class OS extends Sh{constructor(e,t,n,i){let a,s=t.type.toDOM;if(typeof s=="function"&&(s=s(n,()=>{if(!a)return i;if(a.parent)return a.parent.posBeforeChild(a)})),!t.type.spec.raw){if(s.nodeType!=1){let u=document.createElement("span");u.appendChild(s),s=u}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=t,this.widget=t,a=this}matchesWidget(e){return this.dirty==xa&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class jee extends Sh{constructor(e,t,n,i){super(e,[],t,null),this.textDOM=n,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Mu extends Sh{constructor(e,t,n,i,a){super(e,[],n,i),this.mark=t,this.spec=a}static create(e,t,n,i){let a=i.nodeViews[t.type.name],s=a&&a(t,i,n);return(!s||!s.dom)&&(s=yf.renderSpec(document,t.type.spec.toDOM(t,n),null,t.attrs)),new Mu(e,t,s.dom,s.contentDOM||s.dom,s)}parseRule(){return this.dirty&_o||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=_o&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=xa){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=xa}}slice(e,t,n){let i=Mu.create(this.parent,this.mark,!0,n),a=this.children,s=this.size;t<s&&(a=u0(a,t,s,n)),e>0&&(a=u0(a,0,e,n));for(let u=0;u<a.length;u++)a[u].parent=i;return i.children=a,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class ml extends Sh{constructor(e,t,n,i,a,s,u,f,p){super(e,[],a,s),this.node=t,this.outerDeco=n,this.innerDeco=i,this.nodeDOM=u}static create(e,t,n,i,a,s){let u=a.nodeViews[t.type.name],f,p=u&&u(t,a,()=>{if(!f)return s;if(f.parent)return f.parent.posBeforeChild(f)},n,i),y=p&&p.dom,T=p&&p.contentDOM;if(t.isText){if(!y)y=document.createTextNode(t.text);else if(y.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else y||({dom:y,contentDOM:T}=yf.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!T&&!t.isText&&y.nodeName!="BR"&&(y.hasAttribute("contenteditable")||(y.contentEditable="false"),t.type.spec.draggable&&(y.draggable=!0));let N=y;return y=RS(y,n,t),p?f=new Gee(e,t,n,i,y,T||null,N,p,a,s+1):t.isText?new xm(e,t,n,i,y,N,a):new ml(e,t,n,i,y,T||null,N,a,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Xe.empty)}return e}matchesNode(e,t,n){return this.dirty==xa&&e.eq(this.node)&&Qv(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,i=t,a=e.composing?this.localCompositionInfo(e,t):null,s=a&&a.pos>-1?a:null,u=a&&a.pos<0,f=new Jee(this,s&&s.node,e);Yee(this.node,this.innerDeco,(p,y,T)=>{p.spec.marks?f.syncToMarks(p.spec.marks,n,e):p.type.side>=0&&!T&&f.syncToMarks(y==this.node.childCount?kr.none:this.node.child(y).marks,n,e),f.placeWidget(p,e,i)},(p,y,T,N)=>{f.syncToMarks(p.marks,n,e);let O;f.findNodeMatch(p,y,T,N)||u&&e.state.selection.from>i&&e.state.selection.to<i+p.nodeSize&&(O=f.findIndexWithChild(a.node))>-1&&f.updateNodeAt(p,y,T,O,e)||f.updateNextNode(p,y,T,e,N,i)||f.addNode(p,y,T,e,i),i+=p.nodeSize}),f.syncToMarks([],n,e),this.node.isTextblock&&f.addTextblockHacks(),f.destroyRest(),(f.changed||this.dirty==mu)&&(s&&this.protectLocalComposition(e,s),AS(this.contentDOM,this.children,e),af&&Zee(this.dom))}localCompositionInfo(e,t){let{from:n,to:i}=e.state.selection;if(!(e.state.selection instanceof ur)||n<t||i>t+this.node.content.size)return null;let a=e.input.compositionNode;if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let s=a.nodeValue,u=ete(this.node.content,s,n-t,i-t);return u<0?null:{node:a,pos:u,text:s}}else return{node:a,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:n,text:i}){if(this.getDesc(t))return;let a=t;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let s=new jee(this,a,t,i);e.input.compositionNodes.push(s),this.children=u0(this.children,n,n+i.length,e,s)}update(e,t,n,i){return this.dirty==_o||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,n,i),!0)}updateInner(e,t,n,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=xa}updateOuterDeco(e){if(Qv(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=LS(this.dom,this.nodeDOM,l0(this.outerDeco,this.node,t),l0(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function $1(r,e,t,n,i){RS(n,e,r);let a=new ml(void 0,r,e,t,n,n,n,i,0);return a.contentDOM&&a.updateChildren(i,0),a}class xm extends ml{constructor(e,t,n,i,a,s,u){super(e,t,n,i,a,null,s,u,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,i){return this.dirty==_o||this.dirty!=xa&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=xa||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=xa,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,n){let i=this.node.cut(e,t),a=document.createTextNode(i.text);return new xm(this.parent,i,this.outerDeco,this.innerDeco,a,a,n)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=_o)}get domAtom(){return!1}isText(e){return this.node.text==e}}class DS extends Sh{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==xa&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Gee extends ml{constructor(e,t,n,i,a,s,u,f,p,y){super(e,t,n,i,a,s,u,p,y),this.spec=f}update(e,t,n,i){if(this.dirty==_o)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let a=this.spec.update(e,t,n);return a&&this.updateInner(e,t,n,i),a}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,n,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,i){this.spec.setSelection?this.spec.setSelection(e,t,n.root):super.setSelection(e,t,n,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function AS(r,e,t){let n=r.firstChild,i=!1;for(let a=0;a<e.length;a++){let s=e[a],u=s.dom;if(u.parentNode==r){for(;u!=n;)n=U1(n),i=!0;n=n.nextSibling}else i=!0,r.insertBefore(u,n);if(s instanceof Mu){let f=n?n.previousSibling:r.lastChild;AS(s.contentDOM,s.children,t),n=f?f.nextSibling:r.firstChild}}for(;n;)n=U1(n),i=!0;i&&t.trackWrites==r&&(t.trackWrites=null)}const sh=function(r){r&&(this.nodeName=r)};sh.prototype=Object.create(null);const gu=[new sh];function l0(r,e,t){if(r.length==0)return gu;let n=t?gu[0]:new sh,i=[n];for(let a=0;a<r.length;a++){let s=r[a].type.attrs;if(s){s.nodeName&&i.push(n=new sh(s.nodeName));for(let u in s){let f=s[u];f!=null&&(t&&i.length==1&&i.push(n=new sh(e.isInline?"span":"div")),u=="class"?n.class=(n.class?n.class+" ":"")+f:u=="style"?n.style=(n.style?n.style+";":"")+f:u!="nodeName"&&(n[u]=f))}}}return i}function LS(r,e,t,n){if(t==gu&&n==gu)return e;let i=e;for(let a=0;a<n.length;a++){let s=n[a],u=t[a];if(a){let f;u&&u.nodeName==s.nodeName&&i!=r&&(f=i.parentNode)&&f.nodeName.toLowerCase()==s.nodeName||(f=document.createElement(s.nodeName),f.pmIsDeco=!0,f.appendChild(i),u=gu[0]),i=f}Kee(i,u||gu[0],s)}return i}function Kee(r,e,t){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in t)&&r.removeAttribute(n);for(let n in t)n!="class"&&n!="style"&&n!="nodeName"&&t[n]!=e[n]&&r.setAttribute(n,t[n]);if(e.class!=t.class){let n=e.class?e.class.split(" ").filter(Boolean):[],i=t.class?t.class.split(" ").filter(Boolean):[];for(let a=0;a<n.length;a++)i.indexOf(n[a])==-1&&r.classList.remove(n[a]);for(let a=0;a<i.length;a++)n.indexOf(i[a])==-1&&r.classList.add(i[a]);r.classList.length==0&&r.removeAttribute("class")}if(e.style!=t.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=n.exec(e.style);)r.style.removeProperty(i[1])}t.style&&(r.style.cssText+=t.style)}}function RS(r,e,t){return LS(r,r,gu,l0(e,t,r.nodeType!=1))}function Qv(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(!r[t].type.eq(e[t].type))return!1;return!0}function U1(r){let e=r.nextSibling;return r.parentNode.removeChild(r),e}class Jee{constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Qee(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let i=0,a=this.stack.length>>1,s=Math.min(a,e.length);for(;i<s&&(i==a-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<a;)this.destroyRest(),this.top.dirty=xa,this.index=this.stack.pop(),this.top=this.stack.pop(),a--;for(;a<e.length;){this.stack.push(this.top,this.index+1);let u=-1;for(let f=this.index;f<Math.min(this.index+3,this.top.children.length);f++){let p=this.top.children[f];if(p.matchesMark(e[a])&&!this.isLocked(p.dom)){u=f;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let f=Mu.create(this.top,e[a],t,n);this.top.children.splice(this.index,0,f),this.top=f,this.changed=!0}this.index=0,a++}}findNodeMatch(e,t,n,i){let a=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,t,n))a=this.top.children.indexOf(s,this.index);else for(let u=this.index,f=Math.min(this.top.children.length,u+5);u<f;u++){let p=this.top.children[u];if(p.matchesNode(e,t,n)&&!this.preMatch.matched.has(p)){a=u;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)}updateNodeAt(e,t,n,i,a){let s=this.top.children[i];return s.dirty==_o&&s.dom==s.contentDOM&&(s.dirty=mu),s.update(e,t,n,a)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==n)return i}return-1}e=t}}updateNextNode(e,t,n,i,a,s){for(let u=this.index;u<this.top.children.length;u++){let f=this.top.children[u];if(f instanceof ml){let p=this.preMatch.matched.get(f);if(p!=null&&p!=a)return!1;let y=f.dom,T,N=this.isLocked(y)&&!(e.isText&&f.node&&f.node.isText&&f.nodeDOM.nodeValue==e.text&&f.dirty!=_o&&Qv(t,f.outerDeco));if(!N&&f.update(e,t,n,i))return this.destroyBetween(this.index,u),f.dom!=y&&(this.changed=!0),this.index++,!0;if(!N&&(T=this.recreateWrapper(f,e,t,n,i,s)))return this.destroyBetween(this.index,u),this.top.children[this.index]=T,T.contentDOM&&(T.dirty=mu,T.updateChildren(i,s+1),T.dirty=xa),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,n,i,a,s){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!Qv(n,e.outerDeco)||!i.eq(e.innerDeco))return null;let u=ml.create(this.top,t,n,i,a,s);if(u.contentDOM){u.children=e.children,e.children=[];for(let f of u.children)f.parent=u}return e.destroy(),u}addNode(e,t,n,i,a){let s=ml.create(this.top,e,t,n,i,a);s.contentDOM&&s.updateChildren(i,a+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,t,n){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let a=new OS(this.top,e,t,n);this.top.children.splice(this.index++,0,a),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Mu;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof xm)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Di||pi)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let i=new DS(this.top,[],n,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function Qee(r,e){let t=e,n=t.children.length,i=r.childCount,a=new Map,s=[];e:for(;i>0;){let u;for(;;)if(n){let p=t.children[n-1];if(p instanceof Mu)t=p,n=p.children.length;else{u=p,n--;break}}else{if(t==e)break e;n=t.parent.children.indexOf(t),t=t.parent}let f=u.node;if(f){if(f!=r.child(i-1))break;--i,a.set(u,i),s.push(u)}}return{index:i,matched:a,matches:s.reverse()}}function Xee(r,e){return r.type.side-e.type.side}function Yee(r,e,t,n){let i=e.locals(r),a=0;if(i.length==0){for(let p=0;p<r.childCount;p++){let y=r.child(p);n(y,i,e.forChild(a,y),p),a+=y.nodeSize}return}let s=0,u=[],f=null;for(let p=0;;){let y,T;for(;s<i.length&&i[s].to==a;){let H=i[s++];H.widget&&(y?(T||(T=[y])).push(H):y=H)}if(y)if(T){T.sort(Xee);for(let H=0;H<T.length;H++)t(T[H],p,!!f)}else t(y,p,!!f);let N,O;if(f)O=-1,N=f,f=null;else if(p<r.childCount)O=p,N=r.child(p++);else break;for(let H=0;H<u.length;H++)u[H].to<=a&&u.splice(H--,1);for(;s<i.length&&i[s].from<=a&&i[s].to>a;)u.push(i[s++]);let A=a+N.nodeSize;if(N.isText){let H=A;s<i.length&&i[s].from<H&&(H=i[s].from);for(let j=0;j<u.length;j++)u[j].to<H&&(H=u[j].to);H<A&&(f=N.cut(H-a),N=N.cut(0,H-a),A=H,O=-1)}else for(;s<i.length&&i[s].to<A;)s++;let z=N.isInline&&!N.isLeaf?u.filter(H=>!H.inline):u.slice();n(N,z,e.forChild(a,N),O),a=A}}function Zee(r){if(r.nodeName=="UL"||r.nodeName=="OL"){let e=r.style.cssText;r.style.cssText=e+"; list-style: square !important",window.getComputedStyle(r).listStyle,r.style.cssText=e}}function ete(r,e,t,n){for(let i=0,a=0;i<r.childCount&&a<=n;){let s=r.child(i++),u=a;if(a+=s.nodeSize,!s.isText)continue;let f=s.text;for(;i<r.childCount;){let p=r.child(i++);if(a+=p.nodeSize,!p.isText)break;f+=p.text}if(a>=t){if(a>=n&&f.slice(n-e.length-u,n-u)==e)return n-e.length;let p=u<n?f.lastIndexOf(e,n-u-1):-1;if(p>=0&&p+e.length+u>=t)return u+p;if(t==n&&f.length>=n+e.length-u&&f.slice(n-u,n-u+e.length)==e)return n}}return-1}function u0(r,e,t,n,i){let a=[];for(let s=0,u=0;s<r.length;s++){let f=r[s],p=u,y=u+=f.size;p>=t||y<=e?a.push(f):(p<e&&a.push(f.slice(0,e-p,n)),i&&(a.push(i),i=void 0),y>t&&a.push(f.slice(t-p,f.size,n)))}return a}function K0(r,e=null){let t=r.domSelectionRange(),n=r.state.doc;if(!t.focusNode)return null;let i=r.docView.nearestDesc(t.focusNode),a=i&&i.size==0,s=r.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(s<0)return null;let u=n.resolve(s),f,p;if(Sm(t)){for(f=s;i&&!i.node;)i=i.parent;let T=i.node;if(i&&T.isAtom&&Gt.isSelectable(T)&&i.parent&&!(T.isInline&&Eee(t.focusNode,t.focusOffset,i.dom))){let N=i.posBefore;p=new Gt(s==N?u:n.resolve(N))}}else{if(t instanceof r.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let T=s,N=s;for(let O=0;O<t.rangeCount;O++){let A=t.getRangeAt(O);T=Math.min(T,r.docView.posFromDOM(A.startContainer,A.startOffset,1)),N=Math.max(N,r.docView.posFromDOM(A.endContainer,A.endOffset,-1))}if(T<0)return null;[f,s]=N==r.state.selection.anchor?[N,T]:[T,N],u=n.resolve(s)}else f=r.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(f<0)return null}let y=n.resolve(f);if(!p){let T=e=="pointer"||r.state.selection.head<u.pos&&!a?1:-1;p=J0(r,y,u,T)}return p}function IS(r){return r.editable?r.hasFocus():BS(r)&&document.activeElement&&document.activeElement.contains(r.dom)}function Os(r,e=!1){let t=r.state.selection;if(PS(r,t),!!IS(r)){if(!e&&r.input.mouseDown&&r.input.mouseDown.allowDefault&&pi){let n=r.domSelectionRange(),i=r.domObserver.currentSelection;if(n.anchorNode&&i.anchorNode&&Eu(n.anchorNode,n.anchorOffset,i.anchorNode,i.anchorOffset)){r.input.mouseDown.delayedSelectionSync=!0,r.domObserver.setCurSelection();return}}if(r.domObserver.disconnectSelection(),r.cursorWrapper)rte(r);else{let{anchor:n,head:i}=t,a,s;W1&&!(t instanceof ur)&&(t.$from.parent.inlineContent||(a=j1(r,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(s=j1(r,t.to))),r.docView.setSelection(n,i,r,e),W1&&(a&&G1(a),s&&G1(s)),t.visible?r.dom.classList.remove("ProseMirror-hideselection"):(r.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&tte(r))}r.domObserver.setCurSelection(),r.domObserver.connectSelection()}}const W1=Di||pi&&CS<63;function j1(r,e){let{node:t,offset:n}=r.docView.domFromPos(e,0),i=n<t.childNodes.length?t.childNodes[n]:null,a=n?t.childNodes[n-1]:null;if(Di&&i&&i.contentEditable=="false")return yy(i);if((!i||i.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(i)return yy(i);if(a)return yy(a)}}function yy(r){return r.contentEditable="true",Di&&r.draggable&&(r.draggable=!1,r.wasDraggable=!0),r}function G1(r){r.contentEditable="false",r.wasDraggable&&(r.draggable=!0,r.wasDraggable=null)}function tte(r){let e=r.dom.ownerDocument;e.removeEventListener("selectionchange",r.input.hideSelectionGuard);let t=r.domSelectionRange(),n=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",r.input.hideSelectionGuard=()=>{(t.anchorNode!=n||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",r.input.hideSelectionGuard),setTimeout(()=>{(!IS(r)||r.state.selection.visible)&&r.dom.classList.remove("ProseMirror-hideselection")},20))})}function rte(r){let e=r.domSelection(),t=document.createRange();if(!e)return;let n=r.cursorWrapper.dom,i=n.nodeName=="IMG";i?t.setStart(n.parentNode,Jn(n)+1):t.setStart(n,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!i&&!r.state.selection.visible&&Ji&&vl<=11&&(n.disabled=!0,n.disabled=!1)}function PS(r,e){if(e instanceof Gt){let t=r.docView.descAt(e.from);t!=r.lastSelectedViewDesc&&(K1(r),t&&t.selectNode(),r.lastSelectedViewDesc=t)}else K1(r)}function K1(r){r.lastSelectedViewDesc&&(r.lastSelectedViewDesc.parent&&r.lastSelectedViewDesc.deselectNode(),r.lastSelectedViewDesc=void 0)}function J0(r,e,t,n){return r.someProp("createSelectionBetween",i=>i(r,e,t))||ur.between(e,t,n)}function J1(r){return r.editable&&!r.hasFocus()?!1:BS(r)}function BS(r){let e=r.domSelectionRange();if(!e.anchorNode)return!1;try{return r.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(r.editable||r.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function nte(r){let e=r.docView.domFromPos(r.state.selection.anchor,0),t=r.domSelectionRange();return Eu(e.node,e.offset,t.anchorNode,t.anchorOffset)}function c0(r,e){let{$anchor:t,$head:n}=r.selection,i=e>0?t.max(n):t.min(n),a=i.parent.inlineContent?i.depth?r.doc.resolve(e>0?i.after():i.before()):null:i;return a&&ir.findFrom(a,e)}function sl(r,e){return r.dispatch(r.state.tr.setSelection(e).scrollIntoView()),!0}function Q1(r,e,t){let n=r.state.selection;if(n instanceof ur)if(t.indexOf("s")>-1){let{$head:i}=n,a=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!a||a.isText||!a.isLeaf)return!1;let s=r.state.doc.resolve(i.pos+a.nodeSize*(e<0?-1:1));return sl(r,new ur(n.$anchor,s))}else if(n.empty){if(r.endOfTextblock(e>0?"forward":"backward")){let i=c0(r.state,e);return i&&i instanceof Gt?sl(r,i):!1}else if(!(Ta&&t.indexOf("m")>-1)){let i=n.$head,a=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!a||a.isText)return!1;let u=e<0?i.pos-a.nodeSize:i.pos;return a.isAtom||(s=r.docView.descAt(u))&&!s.contentDOM?Gt.isSelectable(a)?sl(r,new Gt(e<0?r.state.doc.resolve(i.pos-a.nodeSize):i)):Th?sl(r,new ur(r.state.doc.resolve(e<0?u:u+a.nodeSize))):!1:!1}}else return!1;else{if(n instanceof Gt&&n.node.isInline)return sl(r,new ur(e>0?n.$to:n.$from));{let i=c0(r.state,e);return i?sl(r,i):!1}}}function Xv(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function lh(r,e){let t=r.pmViewDesc;return t&&t.size==0&&(e<0||r.nextSibling||r.nodeName!="BR")}function Vc(r,e){return e<0?ite(r):ate(r)}function ite(r){let e=r.domSelectionRange(),t=e.focusNode,n=e.focusOffset;if(!t)return;let i,a,s=!1;for(Za&&t.nodeType==1&&n<Xv(t)&&lh(t.childNodes[n],-1)&&(s=!0);;)if(n>0){if(t.nodeType!=1)break;{let u=t.childNodes[n-1];if(lh(u,-1))i=t,a=--n;else if(u.nodeType==3)t=u,n=t.nodeValue.length;else break}}else{if(FS(t))break;{let u=t.previousSibling;for(;u&&lh(u,-1);)i=t.parentNode,a=Jn(u),u=u.previousSibling;if(u)t=u,n=Xv(t);else{if(t=t.parentNode,t==r.dom)break;n=0}}}s?f0(r,t,n):i&&f0(r,i,a)}function ate(r){let e=r.domSelectionRange(),t=e.focusNode,n=e.focusOffset;if(!t)return;let i=Xv(t),a,s;for(;;)if(n<i){if(t.nodeType!=1)break;let u=t.childNodes[n];if(lh(u,1))a=t,s=++n;else break}else{if(FS(t))break;{let u=t.nextSibling;for(;u&&lh(u,1);)a=u.parentNode,s=Jn(u)+1,u=u.nextSibling;if(u)t=u,n=0,i=Xv(t);else{if(t=t.parentNode,t==r.dom)break;n=i=0}}}a&&f0(r,a,s)}function FS(r){let e=r.pmViewDesc;return e&&e.node&&e.node.isBlock}function ote(r,e){for(;r&&e==r.childNodes.length&&!Ch(r);)e=Jn(r)+1,r=r.parentNode;for(;r&&e<r.childNodes.length;){let t=r.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;r=t,e=0}}function ste(r,e){for(;r&&!e&&!Ch(r);)e=Jn(r),r=r.parentNode;for(;r&&e;){let t=r.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;r=t,e=r.childNodes.length}}function f0(r,e,t){if(e.nodeType!=3){let a,s;(s=ote(e,t))?(e=s,t=0):(a=ste(e,t))&&(e=a,t=a.nodeValue.length)}let n=r.domSelection();if(!n)return;if(Sm(n)){let a=document.createRange();a.setEnd(e,t),a.setStart(e,t),n.removeAllRanges(),n.addRange(a)}else n.extend&&n.extend(e,t);r.domObserver.setCurSelection();let{state:i}=r;setTimeout(()=>{r.state==i&&Os(r)},50)}function X1(r,e){let t=r.state.doc.resolve(e);if(!(pi||Oee)&&t.parent.inlineContent){let i=r.coordsAtPos(e);if(e>t.start()){let a=r.coordsAtPos(e-1),s=(a.top+a.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(a.left-i.left)>1)return a.left<i.left?"ltr":"rtl"}if(e<t.end()){let a=r.coordsAtPos(e+1),s=(a.top+a.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(a.left-i.left)>1)return a.left>i.left?"ltr":"rtl"}}return getComputedStyle(r.dom).direction=="rtl"?"rtl":"ltr"}function Y1(r,e,t){let n=r.state.selection;if(n instanceof ur&&!n.empty||t.indexOf("s")>-1||Ta&&t.indexOf("m")>-1)return!1;let{$from:i,$to:a}=n;if(!i.parent.inlineContent||r.endOfTextblock(e<0?"up":"down")){let s=c0(r.state,e);if(s&&s instanceof Gt)return sl(r,s)}if(!i.parent.inlineContent){let s=e<0?i:a,u=n instanceof Oi?ir.near(s,e):ir.findFrom(s,e);return u?sl(r,u):!1}return!1}function Z1(r,e){if(!(r.state.selection instanceof ur))return!0;let{$head:t,$anchor:n,empty:i}=r.state.selection;if(!t.sameParent(n))return!0;if(!i)return!1;if(r.endOfTextblock(e>0?"forward":"backward"))return!0;let a=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(a&&!a.isText){let s=r.state.tr;return e<0?s.delete(t.pos-a.nodeSize,t.pos):s.delete(t.pos,t.pos+a.nodeSize),r.dispatch(s),!0}return!1}function eb(r,e,t){r.domObserver.stop(),e.contentEditable=t,r.domObserver.start()}function lte(r){if(!Di||r.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=r.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;eb(r,n,"true"),setTimeout(()=>eb(r,n,"false"),20)}return!1}function ute(r){let e="";return r.ctrlKey&&(e+="c"),r.metaKey&&(e+="m"),r.altKey&&(e+="a"),r.shiftKey&&(e+="s"),e}function cte(r,e){let t=e.keyCode,n=ute(e);if(t==8||Ta&&t==72&&n=="c")return Z1(r,-1)||Vc(r,-1);if(t==46&&!e.shiftKey||Ta&&t==68&&n=="c")return Z1(r,1)||Vc(r,1);if(t==13||t==27)return!0;if(t==37||Ta&&t==66&&n=="c"){let i=t==37?X1(r,r.state.selection.from)=="ltr"?-1:1:-1;return Q1(r,i,n)||Vc(r,i)}else if(t==39||Ta&&t==70&&n=="c"){let i=t==39?X1(r,r.state.selection.from)=="ltr"?1:-1:1;return Q1(r,i,n)||Vc(r,i)}else{if(t==38||Ta&&t==80&&n=="c")return Y1(r,-1,n)||Vc(r,-1);if(t==40||Ta&&t==78&&n=="c")return lte(r)||Y1(r,1,n)||Vc(r,1);if(n==(Ta?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function Q0(r,e){r.someProp("transformCopied",O=>{e=O(e,r)});let t=[],{content:n,openStart:i,openEnd:a}=e;for(;i>1&&a>1&&n.childCount==1&&n.firstChild.childCount==1;){i--,a--;let O=n.firstChild;t.push(O.type.name,O.attrs!=O.type.defaultAttrs?O.attrs:null),n=O.content}let s=r.someProp("clipboardSerializer")||yf.fromSchema(r.state.schema),u=$S(),f=u.createElement("div");f.appendChild(s.serializeFragment(n,{document:u}));let p=f.firstChild,y,T=0;for(;p&&p.nodeType==1&&(y=VS[p.nodeName.toLowerCase()]);){for(let O=y.length-1;O>=0;O--){let A=u.createElement(y[O]);for(;f.firstChild;)A.appendChild(f.firstChild);f.appendChild(A),T++}p=f.firstChild}p&&p.nodeType==1&&p.setAttribute("data-pm-slice",`${i} ${a}${T?` -${T}`:""} ${JSON.stringify(t)}`);let N=r.someProp("clipboardTextSerializer",O=>O(e,r))||e.content.textBetween(0,e.content.size,`

`);return{dom:f,text:N,slice:e}}function _S(r,e,t,n,i){let a=i.parent.type.spec.code,s,u;if(!t&&!e)return null;let f=e&&(n||a||!t);if(f){if(r.someProp("transformPastedText",N=>{e=N(e,a||n,r)}),a)return e?new ht(Xe.from(r.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):ht.empty;let T=r.someProp("clipboardTextParser",N=>N(e,i,n,r));if(T)u=T;else{let N=i.marks(),{schema:O}=r.state,A=yf.fromSchema(O);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(z=>{let H=s.appendChild(document.createElement("p"));z&&H.appendChild(A.serializeNode(O.text(z,N)))})}}else r.someProp("transformPastedHTML",T=>{t=T(t,r)}),s=pte(t),Th&&vte(s);let p=s&&s.querySelector("[data-pm-slice]"),y=p&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(p.getAttribute("data-pm-slice")||"");if(y&&y[3])for(let T=+y[3];T>0;T--){let N=s.firstChild;for(;N&&N.nodeType!=1;)N=N.nextSibling;if(!N)break;s=N}if(u||(u=(r.someProp("clipboardParser")||r.someProp("domParser")||Su.fromSchema(r.state.schema)).parseSlice(s,{preserveWhitespace:!!(f||y),context:i,ruleFromNode(N){return N.nodeName=="BR"&&!N.nextSibling&&N.parentNode&&!fte.test(N.parentNode.nodeName)?{ignore:!0}:null}})),y)u=mte(tb(u,+y[1],+y[2]),y[4]);else if(u=ht.maxOpen(dte(u.content,i),!0),u.openStart||u.openEnd){let T=0,N=0;for(let O=u.content.firstChild;T<u.openStart&&!O.type.spec.isolating;T++,O=O.firstChild);for(let O=u.content.lastChild;N<u.openEnd&&!O.type.spec.isolating;N++,O=O.lastChild);u=tb(u,T,N)}return r.someProp("transformPasted",T=>{u=T(u,r)}),u}const fte=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function dte(r,e){if(r.childCount<2)return r;for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.index(t)),a,s=[];if(r.forEach(u=>{if(!s)return;let f=i.findWrapping(u.type),p;if(!f)return s=null;if(p=s.length&&a.length&&zS(f,a,u,s[s.length-1],0))s[s.length-1]=p;else{s.length&&(s[s.length-1]=HS(s[s.length-1],a.length));let y=qS(u,f);s.push(y),i=i.matchType(y.type),a=f}}),s)return Xe.from(s)}return r}function qS(r,e,t=0){for(let n=e.length-1;n>=t;n--)r=e[n].create(null,Xe.from(r));return r}function zS(r,e,t,n,i){if(i<r.length&&i<e.length&&r[i]==e[i]){let a=zS(r,e,t,n.lastChild,i+1);if(a)return n.copy(n.content.replaceChild(n.childCount-1,a));if(n.contentMatchAt(n.childCount).matchType(i==r.length-1?t.type:r[i+1]))return n.copy(n.content.append(Xe.from(qS(t,r,i+1))))}}function HS(r,e){if(e==0)return r;let t=r.content.replaceChild(r.childCount-1,HS(r.lastChild,e-1)),n=r.contentMatchAt(r.childCount).fillBefore(Xe.empty,!0);return r.copy(t.append(n))}function d0(r,e,t,n,i,a){let s=e<0?r.firstChild:r.lastChild,u=s.content;return r.childCount>1&&(a=0),i<n-1&&(u=d0(u,e,t,n,i+1,a)),i>=t&&(u=e<0?s.contentMatchAt(0).fillBefore(u,a<=i).append(u):u.append(s.contentMatchAt(s.childCount).fillBefore(Xe.empty,!0))),r.replaceChild(e<0?0:r.childCount-1,s.copy(u))}function tb(r,e,t){return e<r.openStart&&(r=new ht(d0(r.content,-1,e,r.openStart,0,r.openEnd),e,r.openEnd)),t<r.openEnd&&(r=new ht(d0(r.content,1,t,r.openEnd,0,0),r.openStart,t)),r}const VS={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let rb=null;function $S(){return rb||(rb=document.implementation.createHTMLDocument("title"))}let ky=null;function hte(r){let e=window.trustedTypes;return e?(ky||(ky=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),ky.createHTML(r)):r}function pte(r){let e=/^(\s*<meta [^>]*>)*/.exec(r);e&&(r=r.slice(e[0].length));let t=$S().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(r),i;if((i=n&&VS[n[1].toLowerCase()])&&(r=i.map(a=>"<"+a+">").join("")+r+i.map(a=>"</"+a+">").reverse().join("")),t.innerHTML=hte(r),i)for(let a=0;a<i.length;a++)t=t.querySelector(i[a])||t;return t}function vte(r){let e=r.querySelectorAll(pi?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let n=e[t];n.childNodes.length==1&&n.textContent==""&&n.parentNode&&n.parentNode.replaceChild(r.ownerDocument.createTextNode(" "),n)}}function mte(r,e){if(!r.size)return r;let t=r.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return r}let{content:i,openStart:a,openEnd:s}=r;for(let u=n.length-2;u>=0;u-=2){let f=t.nodes[n[u]];if(!f||f.hasRequiredAttrs())break;i=Xe.from(f.create(n[u+1],i)),a++,s++}return new ht(i,a,s)}const Ai={},Li={},gte={touchstart:!0,touchmove:!0};class yte{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function kte(r){for(let e in Ai){let t=Ai[e];r.dom.addEventListener(e,r.input.eventHandlers[e]=n=>{bte(r,n)&&!X0(r,n)&&(r.editable||!(n.type in Li))&&t(r,n)},gte[e]?{passive:!0}:void 0)}Di&&r.dom.addEventListener("input",()=>null),h0(r)}function hl(r,e){r.input.lastSelectionOrigin=e,r.input.lastSelectionTime=Date.now()}function wte(r){r.domObserver.stop();for(let e in r.input.eventHandlers)r.dom.removeEventListener(e,r.input.eventHandlers[e]);clearTimeout(r.input.composingTimeout),clearTimeout(r.input.lastIOSEnterFallbackTimeout)}function h0(r){r.someProp("handleDOMEvents",e=>{for(let t in e)r.input.eventHandlers[t]||r.dom.addEventListener(t,r.input.eventHandlers[t]=n=>X0(r,n))})}function X0(r,e){return r.someProp("handleDOMEvents",t=>{let n=t[e.type];return n?n(r,e)||e.defaultPrevented:!1})}function bte(r,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=r.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function Cte(r,e){!X0(r,e)&&Ai[e.type]&&(r.editable||!(e.type in Li))&&Ai[e.type](r,e)}Li.keydown=(r,e)=>{let t=e;if(r.input.shiftKey=t.keyCode==16||t.shiftKey,!WS(r,t)&&(r.input.lastKeyCode=t.keyCode,r.input.lastKeyCodeTime=Date.now(),!(Ms&&pi&&t.keyCode==13)))if(t.keyCode!=229&&r.domObserver.forceFlush(),af&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let n=Date.now();r.input.lastIOSEnter=n,r.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{r.input.lastIOSEnter==n&&(r.someProp("handleKeyDown",i=>i(r,pu(13,"Enter"))),r.input.lastIOSEnter=0)},200)}else r.someProp("handleKeyDown",n=>n(r,t))||cte(r,t)?t.preventDefault():hl(r,"key")};Li.keyup=(r,e)=>{e.keyCode==16&&(r.input.shiftKey=!1)};Li.keypress=(r,e)=>{let t=e;if(WS(r,t)||!t.charCode||t.ctrlKey&&!t.altKey||Ta&&t.metaKey)return;if(r.someProp("handleKeyPress",i=>i(r,t))){t.preventDefault();return}let n=r.state.selection;if(!(n instanceof ur)||!n.$from.sameParent(n.$to)){let i=String.fromCharCode(t.charCode),a=()=>r.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!r.someProp("handleTextInput",s=>s(r,n.$from.pos,n.$to.pos,i,a))&&r.dispatch(a()),t.preventDefault()}};function Em(r){return{left:r.clientX,top:r.clientY}}function Tte(r,e){let t=e.x-r.clientX,n=e.y-r.clientY;return t*t+n*n<100}function Y0(r,e,t,n,i){if(n==-1)return!1;let a=r.state.doc.resolve(n);for(let s=a.depth+1;s>0;s--)if(r.someProp(e,u=>s>a.depth?u(r,t,a.nodeAfter,a.before(s),i,!0):u(r,t,a.node(s),a.before(s),i,!1)))return!0;return!1}function tf(r,e,t){if(r.focused||r.focus(),r.state.selection.eq(e))return;let n=r.state.tr.setSelection(e);n.setMeta("pointer",!0),r.dispatch(n)}function Ste(r,e){if(e==-1)return!1;let t=r.state.doc.resolve(e),n=t.nodeAfter;return n&&n.isAtom&&Gt.isSelectable(n)?(tf(r,new Gt(t)),!0):!1}function xte(r,e){if(e==-1)return!1;let t=r.state.selection,n,i;t instanceof Gt&&(n=t.node);let a=r.state.doc.resolve(e);for(let s=a.depth+1;s>0;s--){let u=s>a.depth?a.nodeAfter:a.node(s);if(Gt.isSelectable(u)){n&&t.$from.depth>0&&s>=t.$from.depth&&a.before(t.$from.depth+1)==t.$from.pos?i=a.before(t.$from.depth):i=a.before(s);break}}return i!=null?(tf(r,Gt.create(r.state.doc,i)),!0):!1}function Ete(r,e,t,n,i){return Y0(r,"handleClickOn",e,t,n)||r.someProp("handleClick",a=>a(r,e,n))||(i?xte(r,t):Ste(r,t))}function Mte(r,e,t,n){return Y0(r,"handleDoubleClickOn",e,t,n)||r.someProp("handleDoubleClick",i=>i(r,e,n))}function Nte(r,e,t,n){return Y0(r,"handleTripleClickOn",e,t,n)||r.someProp("handleTripleClick",i=>i(r,e,n))||Ote(r,t,n)}function Ote(r,e,t){if(t.button!=0)return!1;let n=r.state.doc;if(e==-1)return n.inlineContent?(tf(r,ur.create(n,0,n.content.size)),!0):!1;let i=n.resolve(e);for(let a=i.depth+1;a>0;a--){let s=a>i.depth?i.nodeAfter:i.node(a),u=i.before(a);if(s.inlineContent)tf(r,ur.create(n,u+1,u+1+s.content.size));else if(Gt.isSelectable(s))tf(r,Gt.create(n,u));else continue;return!0}}function Z0(r){return Yv(r)}const US=Ta?"metaKey":"ctrlKey";Ai.mousedown=(r,e)=>{let t=e;r.input.shiftKey=t.shiftKey;let n=Z0(r),i=Date.now(),a="singleClick";i-r.input.lastClick.time<500&&Tte(t,r.input.lastClick)&&!t[US]&&r.input.lastClick.button==t.button&&(r.input.lastClick.type=="singleClick"?a="doubleClick":r.input.lastClick.type=="doubleClick"&&(a="tripleClick")),r.input.lastClick={time:i,x:t.clientX,y:t.clientY,type:a,button:t.button};let s=r.posAtCoords(Em(t));s&&(a=="singleClick"?(r.input.mouseDown&&r.input.mouseDown.done(),r.input.mouseDown=new Dte(r,s,t,!!n)):(a=="doubleClick"?Mte:Nte)(r,s.pos,s.inside,t)?t.preventDefault():hl(r,"pointer"))};class Dte{constructor(e,t,n,i){this.view=e,this.pos=t,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[US],this.allowDefault=n.shiftKey;let a,s;if(t.inside>-1)a=e.state.doc.nodeAt(t.inside),s=t.inside;else{let y=e.state.doc.resolve(t.pos);a=y.parent,s=y.depth?y.before():0}const u=i?null:n.target,f=u?e.docView.nearestDesc(u,!0):null;this.target=f&&f.dom.nodeType==1?f.dom:null;let{selection:p}=e.state;(n.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||p instanceof Gt&&p.from<=s&&p.to>s)&&(this.mightDrag={node:a,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Za&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),hl(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Os(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Em(e))),this.updateAllowDefault(e),this.allowDefault||!t?hl(this.view,"pointer"):Ete(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Di&&this.mightDrag&&!this.mightDrag.node.isAtom||pi&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(tf(this.view,ir.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):hl(this.view,"pointer")}move(e){this.updateAllowDefault(e),hl(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Ai.touchstart=r=>{r.input.lastTouch=Date.now(),Z0(r),hl(r,"pointer")};Ai.touchmove=r=>{r.input.lastTouch=Date.now(),hl(r,"pointer")};Ai.contextmenu=r=>Z0(r);function WS(r,e){return r.composing?!0:Di&&Math.abs(e.timeStamp-r.input.compositionEndedAt)<500?(r.input.compositionEndedAt=-2e8,!0):!1}const Ate=Ms?5e3:-1;Li.compositionstart=Li.compositionupdate=r=>{if(!r.composing){r.domObserver.flush();let{state:e}=r,t=e.selection.$to;if(e.selection instanceof ur&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))r.markCursor=r.state.storedMarks||t.marks(),Yv(r,!0),r.markCursor=null;else if(Yv(r,!e.selection.empty),Za&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let n=r.domSelectionRange();for(let i=n.focusNode,a=n.focusOffset;i&&i.nodeType==1&&a!=0;){let s=a<0?i.lastChild:i.childNodes[a-1];if(!s)break;if(s.nodeType==3){let u=r.domSelection();u&&u.collapse(s,s.nodeValue.length);break}else i=s,a=-1}}r.input.composing=!0}jS(r,Ate)};Li.compositionend=(r,e)=>{r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=e.timeStamp,r.input.compositionPendingChanges=r.domObserver.pendingRecords().length?r.input.compositionID:0,r.input.compositionNode=null,r.input.compositionPendingChanges&&Promise.resolve().then(()=>r.domObserver.flush()),r.input.compositionID++,jS(r,20))};function jS(r,e){clearTimeout(r.input.composingTimeout),e>-1&&(r.input.composingTimeout=setTimeout(()=>Yv(r),e))}function GS(r){for(r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=Rte());r.input.compositionNodes.length>0;)r.input.compositionNodes.pop().markParentsDirty()}function Lte(r){let e=r.domSelectionRange();if(!e.focusNode)return null;let t=See(e.focusNode,e.focusOffset),n=xee(e.focusNode,e.focusOffset);if(t&&n&&t!=n){let i=n.pmViewDesc,a=r.domObserver.lastChangedTextNode;if(t==a||n==a)return a;if(!i||!i.isText(n.nodeValue))return n;if(r.input.compositionNode==n){let s=t.pmViewDesc;if(!(!s||!s.isText(t.nodeValue)))return n}}return t||n}function Rte(){let r=document.createEvent("Event");return r.initEvent("event",!0,!0),r.timeStamp}function Yv(r,e=!1){if(!(Ms&&r.domObserver.flushingSoon>=0)){if(r.domObserver.forceFlush(),GS(r),e||r.docView&&r.docView.dirty){let t=K0(r),n=r.state.selection;return t&&!t.eq(n)?r.dispatch(r.state.tr.setSelection(t)):(r.markCursor||e)&&!n.$from.node(n.$from.sharedDepth(n.to)).inlineContent?r.dispatch(r.state.tr.deleteSelection()):r.updateState(r.state),!0}return!1}}function Ite(r,e){if(!r.dom.parentNode)return;let t=r.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),i=document.createRange();i.selectNodeContents(e),r.dom.blur(),n.removeAllRanges(),n.addRange(i),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),r.focus()},50)}const vh=Ji&&vl<15||af&&Dee<604;Ai.copy=Li.cut=(r,e)=>{let t=e,n=r.state.selection,i=t.type=="cut";if(n.empty)return;let a=vh?null:t.clipboardData,s=n.content(),{dom:u,text:f}=Q0(r,s);a?(t.preventDefault(),a.clearData(),a.setData("text/html",u.innerHTML),a.setData("text/plain",f)):Ite(r,u),i&&r.dispatch(r.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Pte(r){return r.openStart==0&&r.openEnd==0&&r.content.childCount==1?r.content.firstChild:null}function Bte(r,e){if(!r.dom.parentNode)return;let t=r.input.shiftKey||r.state.selection.$from.parent.type.spec.code,n=r.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let i=r.input.shiftKey&&r.input.lastKeyCode!=45;setTimeout(()=>{r.focus(),n.parentNode&&n.parentNode.removeChild(n),t?mh(r,n.value,null,i,e):mh(r,n.textContent,n.innerHTML,i,e)},50)}function mh(r,e,t,n,i){let a=_S(r,e,t,n,r.state.selection.$from);if(r.someProp("handlePaste",f=>f(r,i,a||ht.empty)))return!0;if(!a)return!1;let s=Pte(a),u=s?r.state.tr.replaceSelectionWith(s,n):r.state.tr.replaceSelection(a);return r.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function KS(r){let e=r.getData("text/plain")||r.getData("Text");if(e)return e;let t=r.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}Li.paste=(r,e)=>{let t=e;if(r.composing&&!Ms)return;let n=vh?null:t.clipboardData,i=r.input.shiftKey&&r.input.lastKeyCode!=45;n&&mh(r,KS(n),n.getData("text/html"),i,t)?t.preventDefault():Bte(r,t)};class JS{constructor(e,t,n){this.slice=e,this.move=t,this.node=n}}const Fte=Ta?"altKey":"ctrlKey";function QS(r,e){let t=r.someProp("dragCopies",n=>!n(e));return t??!e[Fte]}Ai.dragstart=(r,e)=>{let t=e,n=r.input.mouseDown;if(n&&n.done(),!t.dataTransfer)return;let i=r.state.selection,a=i.empty?null:r.posAtCoords(Em(t)),s;if(!(a&&a.pos>=i.from&&a.pos<=(i instanceof Gt?i.to-1:i.to))){if(n&&n.mightDrag)s=Gt.create(r.state.doc,n.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let T=r.docView.nearestDesc(t.target,!0);T&&T.node.type.spec.draggable&&T!=r.docView&&(s=Gt.create(r.state.doc,T.posBefore))}}let u=(s||r.state.selection).content(),{dom:f,text:p,slice:y}=Q0(r,u);(!t.dataTransfer.files.length||!pi||CS>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(vh?"Text":"text/html",f.innerHTML),t.dataTransfer.effectAllowed="copyMove",vh||t.dataTransfer.setData("text/plain",p),r.dragging=new JS(y,QS(r,t),s)};Ai.dragend=r=>{let e=r.dragging;window.setTimeout(()=>{r.dragging==e&&(r.dragging=null)},50)};Li.dragover=Li.dragenter=(r,e)=>e.preventDefault();Li.drop=(r,e)=>{let t=e,n=r.dragging;if(r.dragging=null,!t.dataTransfer)return;let i=r.posAtCoords(Em(t));if(!i)return;let a=r.state.doc.resolve(i.pos),s=n&&n.slice;s?r.someProp("transformPasted",A=>{s=A(s,r)}):s=_S(r,KS(t.dataTransfer),vh?null:t.dataTransfer.getData("text/html"),!1,a);let u=!!(n&&QS(r,t));if(r.someProp("handleDrop",A=>A(r,t,s||ht.empty,u))){t.preventDefault();return}if(!s)return;t.preventDefault();let f=s?fee(r.state.doc,a.pos,s):a.pos;f==null&&(f=a.pos);let p=r.state.tr;if(u){let{node:A}=n;A?A.replace(p):p.deleteSelection()}let y=p.mapping.map(f),T=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,N=p.doc;if(T?p.replaceRangeWith(y,y,s.content.firstChild):p.replaceRange(y,y,s),p.doc.eq(N))return;let O=p.doc.resolve(y);if(T&&Gt.isSelectable(s.content.firstChild)&&O.nodeAfter&&O.nodeAfter.sameMarkup(s.content.firstChild))p.setSelection(new Gt(O));else{let A=p.mapping.map(f);p.mapping.maps[p.mapping.maps.length-1].forEach((z,H,j,ie)=>A=ie),p.setSelection(J0(r,O,p.doc.resolve(A)))}r.focus(),r.dispatch(p.setMeta("uiEvent","drop"))};Ai.focus=r=>{r.input.lastFocus=Date.now(),r.focused||(r.domObserver.stop(),r.dom.classList.add("ProseMirror-focused"),r.domObserver.start(),r.focused=!0,setTimeout(()=>{r.docView&&r.hasFocus()&&!r.domObserver.currentSelection.eq(r.domSelectionRange())&&Os(r)},20))};Ai.blur=(r,e)=>{let t=e;r.focused&&(r.domObserver.stop(),r.dom.classList.remove("ProseMirror-focused"),r.domObserver.start(),t.relatedTarget&&r.dom.contains(t.relatedTarget)&&r.domObserver.currentSelection.clear(),r.focused=!1)};Ai.beforeinput=(r,e)=>{if(pi&&Ms&&e.inputType=="deleteContentBackward"){r.domObserver.flushSoon();let{domChangeCount:n}=r.input;setTimeout(()=>{if(r.input.domChangeCount!=n||(r.dom.blur(),r.focus(),r.someProp("handleKeyDown",a=>a(r,pu(8,"Backspace")))))return;let{$cursor:i}=r.state.selection;i&&i.pos>0&&r.dispatch(r.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let r in Li)Ai[r]=Li[r];function gh(r,e){if(r==e)return!0;for(let t in r)if(r[t]!==e[t])return!1;for(let t in e)if(!(t in r))return!1;return!0}class Zv{constructor(e,t){this.toDOM=e,this.spec=t||wu,this.side=this.spec.side||0}map(e,t,n,i){let{pos:a,deleted:s}=e.mapResult(t.from+i,this.side<0?-1:1);return s?null:new Ki(a-n,a-n,this)}valid(){return!0}eq(e){return this==e||e instanceof Zv&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&gh(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class gl{constructor(e,t){this.attrs=e,this.spec=t||wu}map(e,t,n,i){let a=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-n,s=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-n;return a>=s?null:new Ki(a,s,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof gl&&gh(this.attrs,e.attrs)&&gh(this.spec,e.spec)}static is(e){return e.type instanceof gl}destroy(){}}class ek{constructor(e,t){this.attrs=e,this.spec=t||wu}map(e,t,n,i){let a=e.mapResult(t.from+i,1);if(a.deleted)return null;let s=e.mapResult(t.to+i,-1);return s.deleted||s.pos<=a.pos?null:new Ki(a.pos-n,s.pos-n,this)}valid(e,t){let{index:n,offset:i}=e.content.findIndex(t.from),a;return i==t.from&&!(a=e.child(n)).isText&&i+a.nodeSize==t.to}eq(e){return this==e||e instanceof ek&&gh(this.attrs,e.attrs)&&gh(this.spec,e.spec)}destroy(){}}class Ki{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new Ki(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new Ki(e,e,new Zv(t,n))}static inline(e,t,n,i){return new Ki(e,t,new gl(n,i))}static node(e,t,n,i){return new Ki(e,t,new ek(n,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof gl}get widget(){return this.type instanceof Zv}}const Kc=[],wu={};class sn{constructor(e,t){this.local=e.length?e:Kc,this.children=t.length?t:Kc}static create(e,t){return t.length?em(t,e,0,wu):di}find(e,t,n){let i=[];return this.findInner(e??0,t??1e9,i,0,n),i}findInner(e,t,n,i,a){for(let s=0;s<this.local.length;s++){let u=this.local[s];u.from<=t&&u.to>=e&&(!a||a(u.spec))&&n.push(u.copy(u.from+i,u.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<t&&this.children[s+1]>e){let u=this.children[s]+1;this.children[s+2].findInner(e-u,t-u,n,i+u,a)}}map(e,t,n){return this==di||e.maps.length==0?this:this.mapInner(e,t,0,0,n||wu)}mapInner(e,t,n,i,a){let s;for(let u=0;u<this.local.length;u++){let f=this.local[u].map(e,n,i);f&&f.type.valid(t,f)?(s||(s=[])).push(f):a.onRemove&&a.onRemove(this.local[u].spec)}return this.children.length?_te(this.children,s||[],e,t,n,i,a):s?new sn(s.sort(bu),Kc):di}add(e,t){return t.length?this==di?sn.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let i,a=0;e.forEach((u,f)=>{let p=f+n,y;if(y=YS(t,u,p)){for(i||(i=this.children.slice());a<i.length&&i[a]<f;)a+=3;i[a]==f?i[a+2]=i[a+2].addInner(u,y,p+1):i.splice(a,0,f,f+u.nodeSize,em(y,u,p+1,wu)),a+=3}});let s=XS(a?ZS(t):t,-n);for(let u=0;u<s.length;u++)s[u].type.valid(e,s[u])||s.splice(u--,1);return new sn(s.length?this.local.concat(s).sort(bu):this.local,i||this.children)}remove(e){return e.length==0||this==di?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,i=this.local;for(let a=0;a<n.length;a+=3){let s,u=n[a]+t,f=n[a+1]+t;for(let y=0,T;y<e.length;y++)(T=e[y])&&T.from>u&&T.to<f&&(e[y]=null,(s||(s=[])).push(T));if(!s)continue;n==this.children&&(n=this.children.slice());let p=n[a+2].removeInner(s,u+1);p!=di?n[a+2]=p:(n.splice(a,3),a-=3)}if(i.length){for(let a=0,s;a<e.length;a++)if(s=e[a])for(let u=0;u<i.length;u++)i[u].eq(s,t)&&(i==this.local&&(i=this.local.slice()),i.splice(u--,1))}return n==this.children&&i==this.local?this:i.length||n.length?new sn(i,n):di}forChild(e,t){if(this==di)return this;if(t.isLeaf)return sn.empty;let n,i;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=e){this.children[u]==e&&(n=this.children[u+2]);break}let a=e+1,s=a+t.content.size;for(let u=0;u<this.local.length;u++){let f=this.local[u];if(f.from<s&&f.to>a&&f.type instanceof gl){let p=Math.max(a,f.from)-a,y=Math.min(s,f.to)-a;p<y&&(i||(i=[])).push(f.copy(p,y))}}if(i){let u=new sn(i.sort(bu),Kc);return n?new ul([u,n]):u}return n||di}eq(e){if(this==e)return!0;if(!(e instanceof sn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return tk(this.localsInner(e))}localsInner(e){if(this==di)return Kc;if(e.inlineContent||!this.local.some(gl.is))return this.local;let t=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof gl||t.push(this.local[n]);return t}forEachSet(e){e(this)}}sn.empty=new sn([],[]);sn.removeOverlap=tk;const di=sn.empty;class ul{constructor(e){this.members=e}map(e,t){const n=this.members.map(i=>i.map(e,t,wu));return ul.from(n)}forChild(e,t){if(t.isLeaf)return sn.empty;let n=[];for(let i=0;i<this.members.length;i++){let a=this.members[i].forChild(e,t);a!=di&&(a instanceof ul?n=n.concat(a.members):n.push(a))}return ul.from(n)}eq(e){if(!(e instanceof ul)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let i=0;i<this.members.length;i++){let a=this.members[i].localsInner(e);if(a.length)if(!t)t=a;else{n&&(t=t.slice(),n=!1);for(let s=0;s<a.length;s++)t.push(a[s])}}return t?tk(n?t:t.sort(bu)):Kc}static from(e){switch(e.length){case 0:return di;case 1:return e[0];default:return new ul(e.every(t=>t instanceof sn)?e:e.reduce((t,n)=>t.concat(n instanceof sn?n:n.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function _te(r,e,t,n,i,a,s){let u=r.slice();for(let p=0,y=a;p<t.maps.length;p++){let T=0;t.maps[p].forEach((N,O,A,z)=>{let H=z-A-(O-N);for(let j=0;j<u.length;j+=3){let ie=u[j+1];if(ie<0||N>ie+y-T)continue;let le=u[j]+y-T;O>=le?u[j+1]=N<=le?-2:-1:N>=y&&H&&(u[j]+=H,u[j+1]+=H)}T+=H}),y=t.maps[p].map(y,-1)}let f=!1;for(let p=0;p<u.length;p+=3)if(u[p+1]<0){if(u[p+1]==-2){f=!0,u[p+1]=-1;continue}let y=t.map(r[p]+a),T=y-i;if(T<0||T>=n.content.size){f=!0;continue}let N=t.map(r[p+1]+a,-1),O=N-i,{index:A,offset:z}=n.content.findIndex(T),H=n.maybeChild(A);if(H&&z==T&&z+H.nodeSize==O){let j=u[p+2].mapInner(t,H,y+1,r[p]+a+1,s);j!=di?(u[p]=T,u[p+1]=O,u[p+2]=j):(u[p+1]=-2,f=!0)}else f=!0}if(f){let p=qte(u,r,e,t,i,a,s),y=em(p,n,0,s);e=y.local;for(let T=0;T<u.length;T+=3)u[T+1]<0&&(u.splice(T,3),T-=3);for(let T=0,N=0;T<y.children.length;T+=3){let O=y.children[T];for(;N<u.length&&u[N]<O;)N+=3;u.splice(N,0,y.children[T],y.children[T+1],y.children[T+2])}}return new sn(e.sort(bu),u)}function XS(r,e){if(!e||!r.length)return r;let t=[];for(let n=0;n<r.length;n++){let i=r[n];t.push(new Ki(i.from+e,i.to+e,i.type))}return t}function qte(r,e,t,n,i,a,s){function u(f,p){for(let y=0;y<f.local.length;y++){let T=f.local[y].map(n,i,p);T?t.push(T):s.onRemove&&s.onRemove(f.local[y].spec)}for(let y=0;y<f.children.length;y+=3)u(f.children[y+2],f.children[y]+p+1)}for(let f=0;f<r.length;f+=3)r[f+1]==-1&&u(r[f+2],e[f]+a+1);return t}function YS(r,e,t){if(e.isLeaf)return null;let n=t+e.nodeSize,i=null;for(let a=0,s;a<r.length;a++)(s=r[a])&&s.from>t&&s.to<n&&((i||(i=[])).push(s),r[a]=null);return i}function ZS(r){let e=[];for(let t=0;t<r.length;t++)r[t]!=null&&e.push(r[t]);return e}function em(r,e,t,n){let i=[],a=!1;e.forEach((u,f)=>{let p=YS(r,u,f+t);if(p){a=!0;let y=em(p,u,t+f+1,n);y!=di&&i.push(f,f+u.nodeSize,y)}});let s=XS(a?ZS(r):r,-t).sort(bu);for(let u=0;u<s.length;u++)s[u].type.valid(e,s[u])||(n.onRemove&&n.onRemove(s[u].spec),s.splice(u--,1));return s.length||i.length?new sn(s,i):di}function bu(r,e){return r.from-e.from||r.to-e.to}function tk(r){let e=r;for(let t=0;t<e.length-1;t++){let n=e[t];if(n.from!=n.to)for(let i=t+1;i<e.length;i++){let a=e[i];if(a.from==n.from){a.to!=n.to&&(e==r&&(e=r.slice()),e[i]=a.copy(a.from,n.to),nb(e,i+1,a.copy(n.to,a.to)));continue}else{a.from<n.to&&(e==r&&(e=r.slice()),e[t]=n.copy(n.from,a.from),nb(e,i,n.copy(a.from,n.to)));break}}}return e}function nb(r,e,t){for(;e<r.length&&bu(t,r[e])>0;)e++;r.splice(e,0,t)}function wy(r){let e=[];return r.someProp("decorations",t=>{let n=t(r.state);n&&n!=di&&e.push(n)}),r.cursorWrapper&&e.push(sn.create(r.state.doc,[r.cursorWrapper.deco])),ul.from(e)}const zte={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Hte=Ji&&vl<=11;class Vte{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class $te{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Vte,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let i=0;i<n.length;i++)this.queue.push(n[i]);Ji&&vl<=11&&n.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Hte&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,zte)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(J1(this.view)){if(this.suppressingSelectionUpdates)return Os(this.view);if(Ji&&vl<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Eu(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,n;for(let a=e.focusNode;a;a=nf(a))t.add(a);for(let a=e.anchorNode;a;a=nf(a))if(t.has(a)){n=a;break}let i=n&&this.view.docView.nearestDesc(n);if(i&&i.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let n=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&J1(e)&&!this.ignoreSelectionChange(n),a=-1,s=-1,u=!1,f=[];if(e.editable)for(let y=0;y<t.length;y++){let T=this.registerMutation(t[y],f);T&&(a=a<0?T.from:Math.min(T.from,a),s=s<0?T.to:Math.max(T.to,s),T.typeOver&&(u=!0))}if(Za&&f.length){let y=f.filter(T=>T.nodeName=="BR");if(y.length==2){let[T,N]=y;T.parentNode&&T.parentNode.parentNode==N.parentNode?N.remove():T.remove()}else{let{focusNode:T}=this.currentSelection;for(let N of y){let O=N.parentNode;O&&O.nodeName=="LI"&&(!T||jte(e,T)!=O)&&N.remove()}}}let p=null;a<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Sm(n)&&(p=K0(e))&&p.eq(ir.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Os(e),this.currentSelection.set(n),e.scrollToSelection()):(a>-1||i)&&(a>-1&&(e.docView.markDirty(a,s),Ute(e)),this.handleDOMChange(a,s,u,f),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||Os(e),this.currentSelection.set(n))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let y=0;y<e.addedNodes.length;y++){let T=e.addedNodes[y];t.push(T),T.nodeType==3&&(this.lastChangedTextNode=T)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let i=e.previousSibling,a=e.nextSibling;if(Ji&&vl<=11&&e.addedNodes.length)for(let y=0;y<e.addedNodes.length;y++){let{previousSibling:T,nextSibling:N}=e.addedNodes[y];(!T||Array.prototype.indexOf.call(e.addedNodes,T)<0)&&(i=T),(!N||Array.prototype.indexOf.call(e.addedNodes,N)<0)&&(a=N)}let s=i&&i.parentNode==e.target?Jn(i)+1:0,u=n.localPosFromDOM(e.target,s,-1),f=a&&a.parentNode==e.target?Jn(a):e.target.childNodes.length,p=n.localPosFromDOM(e.target,f,1);return{from:u,to:p}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let ib=new WeakMap,ab=!1;function Ute(r){if(!ib.has(r)&&(ib.set(r,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(r.dom).whiteSpace)!==-1)){if(r.requiresGeckoHackNode=Za,ab)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),ab=!0}}function ob(r,e){let t=e.startContainer,n=e.startOffset,i=e.endContainer,a=e.endOffset,s=r.domAtPos(r.state.selection.anchor);return Eu(s.node,s.offset,i,a)&&([t,n,i,a]=[i,a,t,n]),{anchorNode:t,anchorOffset:n,focusNode:i,focusOffset:a}}function Wte(r,e){if(e.getComposedRanges){let i=e.getComposedRanges(r.root)[0];if(i)return ob(r,i)}let t;function n(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return r.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),r.dom.removeEventListener("beforeinput",n,!0),t?ob(r,t):null}function jte(r,e){for(let t=e.parentNode;t&&t!=r.dom;t=t.parentNode){let n=r.docView.nearestDesc(t,!0);if(n&&n.node.isBlock)return t}return null}function Gte(r,e,t){let{node:n,fromOffset:i,toOffset:a,from:s,to:u}=r.docView.parseRange(e,t),f=r.domSelectionRange(),p,y=f.anchorNode;if(y&&r.dom.contains(y.nodeType==1?y:y.parentNode)&&(p=[{node:y,offset:f.anchorOffset}],Sm(f)||p.push({node:f.focusNode,offset:f.focusOffset})),pi&&r.input.lastKeyCode===8)for(let H=a;H>i;H--){let j=n.childNodes[H-1],ie=j.pmViewDesc;if(j.nodeName=="BR"&&!ie){a=H;break}if(!ie||ie.size)break}let T=r.state.doc,N=r.someProp("domParser")||Su.fromSchema(r.state.schema),O=T.resolve(s),A=null,z=N.parse(n,{topNode:O.parent,topMatch:O.parent.contentMatchAt(O.index()),topOpen:!0,from:i,to:a,preserveWhitespace:O.parent.type.whitespace=="pre"?"full":!0,findPositions:p,ruleFromNode:Kte,context:O});if(p&&p[0].pos!=null){let H=p[0].pos,j=p[1]&&p[1].pos;j==null&&(j=H),A={anchor:H+s,head:j+s}}return{doc:z,sel:A,from:s,to:u}}function Kte(r){let e=r.pmViewDesc;if(e)return e.parseRule();if(r.nodeName=="BR"&&r.parentNode){if(Di&&/^(ul|ol)$/i.test(r.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(r.parentNode.lastChild==r||Di&&/^(tr|table)$/i.test(r.parentNode.nodeName))return{ignore:!0}}else if(r.nodeName=="IMG"&&r.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Jte=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Qte(r,e,t,n,i){let a=r.input.compositionPendingChanges||(r.composing?r.input.compositionID:0);if(r.input.compositionPendingChanges=0,e<0){let Ce=r.input.lastSelectionTime>Date.now()-50?r.input.lastSelectionOrigin:null,_e=K0(r,Ce);if(_e&&!r.state.selection.eq(_e)){if(pi&&Ms&&r.input.lastKeyCode===13&&Date.now()-100<r.input.lastKeyCodeTime&&r.someProp("handleKeyDown",Mt=>Mt(r,pu(13,"Enter"))))return;let We=r.state.tr.setSelection(_e);Ce=="pointer"?We.setMeta("pointer",!0):Ce=="key"&&We.scrollIntoView(),a&&We.setMeta("composition",a),r.dispatch(We)}return}let s=r.state.doc.resolve(e),u=s.sharedDepth(t);e=s.before(u+1),t=r.state.doc.resolve(t).after(u+1);let f=r.state.selection,p=Gte(r,e,t),y=r.state.doc,T=y.slice(p.from,p.to),N,O;r.input.lastKeyCode===8&&Date.now()-100<r.input.lastKeyCodeTime?(N=r.state.selection.to,O="end"):(N=r.state.selection.from,O="start"),r.input.lastKeyCode=null;let A=Zte(T.content,p.doc.content,p.from,N,O);if(A&&r.input.domChangeCount++,(af&&r.input.lastIOSEnter>Date.now()-225||Ms)&&i.some(Ce=>Ce.nodeType==1&&!Jte.test(Ce.nodeName))&&(!A||A.endA>=A.endB)&&r.someProp("handleKeyDown",Ce=>Ce(r,pu(13,"Enter")))){r.input.lastIOSEnter=0;return}if(!A)if(n&&f instanceof ur&&!f.empty&&f.$head.sameParent(f.$anchor)&&!r.composing&&!(p.sel&&p.sel.anchor!=p.sel.head))A={start:f.from,endA:f.to,endB:f.to};else{if(p.sel){let Ce=sb(r,r.state.doc,p.sel);if(Ce&&!Ce.eq(r.state.selection)){let _e=r.state.tr.setSelection(Ce);a&&_e.setMeta("composition",a),r.dispatch(_e)}}return}r.state.selection.from<r.state.selection.to&&A.start==A.endB&&r.state.selection instanceof ur&&(A.start>r.state.selection.from&&A.start<=r.state.selection.from+2&&r.state.selection.from>=p.from?A.start=r.state.selection.from:A.endA<r.state.selection.to&&A.endA>=r.state.selection.to-2&&r.state.selection.to<=p.to&&(A.endB+=r.state.selection.to-A.endA,A.endA=r.state.selection.to)),Ji&&vl<=11&&A.endB==A.start+1&&A.endA==A.start&&A.start>p.from&&p.doc.textBetween(A.start-p.from-1,A.start-p.from+1)==" "&&(A.start--,A.endA--,A.endB--);let z=p.doc.resolveNoCache(A.start-p.from),H=p.doc.resolveNoCache(A.endB-p.from),j=y.resolve(A.start),ie=z.sameParent(H)&&z.parent.inlineContent&&j.end()>=A.endA,le;if((af&&r.input.lastIOSEnter>Date.now()-225&&(!ie||i.some(Ce=>Ce.nodeName=="DIV"||Ce.nodeName=="P"))||!ie&&z.pos<p.doc.content.size&&(!z.sameParent(H)||!z.parent.inlineContent)&&!/\S/.test(p.doc.textBetween(z.pos,H.pos,"",""))&&(le=ir.findFrom(p.doc.resolve(z.pos+1),1,!0))&&le.head>z.pos)&&r.someProp("handleKeyDown",Ce=>Ce(r,pu(13,"Enter")))){r.input.lastIOSEnter=0;return}if(r.state.selection.anchor>A.start&&Yte(y,A.start,A.endA,z,H)&&r.someProp("handleKeyDown",Ce=>Ce(r,pu(8,"Backspace")))){Ms&&pi&&r.domObserver.suppressSelectionUpdates();return}pi&&A.endB==A.start&&(r.input.lastChromeDelete=Date.now()),Ms&&!ie&&z.start()!=H.start()&&H.parentOffset==0&&z.depth==H.depth&&p.sel&&p.sel.anchor==p.sel.head&&p.sel.head==A.endA&&(A.endB-=2,H=p.doc.resolveNoCache(A.endB-p.from),setTimeout(()=>{r.someProp("handleKeyDown",function(Ce){return Ce(r,pu(13,"Enter"))})},20));let ve=A.start,be=A.endA,me=Ce=>{let _e=Ce||r.state.tr.replace(ve,be,p.doc.slice(A.start-p.from,A.endB-p.from));if(p.sel){let We=sb(r,_e.doc,p.sel);We&&!(pi&&r.composing&&We.empty&&(A.start!=A.endB||r.input.lastChromeDelete<Date.now()-100)&&(We.head==ve||We.head==_e.mapping.map(be)-1)||Ji&&We.empty&&We.head==ve)&&_e.setSelection(We)}return a&&_e.setMeta("composition",a),_e.scrollIntoView()},Ee;if(ie){if(z.pos==H.pos){Ji&&vl<=11&&z.parentOffset==0&&(r.domObserver.suppressSelectionUpdates(),setTimeout(()=>Os(r),20));let Ce=me(r.state.tr.delete(ve,be)),_e=y.resolve(A.start).marksAcross(y.resolve(A.endA));_e&&Ce.ensureMarks(_e),r.dispatch(Ce)}else if(A.endA==A.endB&&(Ee=Xte(z.parent.content.cut(z.parentOffset,H.parentOffset),j.parent.content.cut(j.parentOffset,A.endA-j.start())))){let Ce=me(r.state.tr);Ee.type=="add"?Ce.addMark(ve,be,Ee.mark):Ce.removeMark(ve,be,Ee.mark),r.dispatch(Ce)}else if(z.parent.child(z.index()).isText&&z.index()==H.index()-(H.textOffset?0:1)){let Ce=z.parent.textBetween(z.parentOffset,H.parentOffset),_e=()=>me(r.state.tr.insertText(Ce,ve,be));r.someProp("handleTextInput",We=>We(r,ve,be,Ce,_e))||r.dispatch(_e())}}else r.dispatch(me())}function sb(r,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:J0(r,e.resolve(t.anchor),e.resolve(t.head))}function Xte(r,e){let t=r.firstChild.marks,n=e.firstChild.marks,i=t,a=n,s,u,f;for(let y=0;y<n.length;y++)i=n[y].removeFromSet(i);for(let y=0;y<t.length;y++)a=t[y].removeFromSet(a);if(i.length==1&&a.length==0)u=i[0],s="add",f=y=>y.mark(u.addToSet(y.marks));else if(i.length==0&&a.length==1)u=a[0],s="remove",f=y=>y.mark(u.removeFromSet(y.marks));else return null;let p=[];for(let y=0;y<e.childCount;y++)p.push(f(e.child(y)));if(Xe.from(p).eq(r))return{mark:u,type:s}}function Yte(r,e,t,n,i){if(t-e<=i.pos-n.pos||by(n,!0,!1)<i.pos)return!1;let a=r.resolve(e);if(!n.parent.isTextblock){let u=a.nodeAfter;return u!=null&&t==e+u.nodeSize}if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let s=r.resolve(by(a,!0,!0));return!s.parent.isTextblock||s.pos>t||by(s,!0,!1)<t?!1:n.parent.content.cut(n.parentOffset).eq(s.parent.content)}function by(r,e,t){let n=r.depth,i=e?r.end():r.pos;for(;n>0&&(e||r.indexAfter(n)==r.node(n).childCount);)n--,i++,e=!1;if(t){let a=r.node(n).maybeChild(r.indexAfter(n));for(;a&&!a.isLeaf;)a=a.firstChild,i++}return i}function Zte(r,e,t,n,i){let a=r.findDiffStart(e,t);if(a==null)return null;let{a:s,b:u}=r.findDiffEnd(e,t+r.size,t+e.size);if(i=="end"){let f=Math.max(0,a-Math.min(s,u));n-=s+f-a}if(s<a&&r.size<e.size){let f=n<=a&&n>=s?a-n:0;a-=f,a&&a<e.size&&lb(e.textBetween(a-1,a+1))&&(a+=f?1:-1),u=a+(u-s),s=a}else if(u<a){let f=n<=a&&n>=u?a-n:0;a-=f,a&&a<r.size&&lb(r.textBetween(a-1,a+1))&&(a+=f?1:-1),s=a+(s-u),u=a}return{start:a,endA:s,endB:u}}function lb(r){if(r.length!=2)return!1;let e=r.charCodeAt(0),t=r.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class Mm{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new yte,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(hb),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=fb(this),cb(this),this.nodeViews=db(this),this.docView=$1(this.state.doc,ub(this),wy(this),this.dom,this),this.domObserver=new $te(this,(n,i,a,s)=>Qte(this,n,i,a,s)),this.domObserver.start(),kte(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&h0(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(hb),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let n in this._props)t[n]=this._props[n];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var n;let i=this.state,a=!1,s=!1;e.storedMarks&&this.composing&&(GS(this),s=!0),this.state=e;let u=i.plugins!=e.plugins||this._props.plugins!=t.plugins;if(u||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let O=db(this);tre(O,this.nodeViews)&&(this.nodeViews=O,a=!0)}(u||t.handleDOMEvents!=this._props.handleDOMEvents)&&h0(this),this.editable=fb(this),cb(this);let f=wy(this),p=ub(this),y=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",T=a||!this.docView.matchesNode(e.doc,p,f);(T||!e.selection.eq(i.selection))&&(s=!0);let N=y=="preserve"&&s&&this.dom.style.overflowAnchor==null&&Ree(this);if(s){this.domObserver.stop();let O=T&&(Ji||pi)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&ere(i.selection,e.selection);if(T){let A=pi?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Lte(this)),(a||!this.docView.update(e.doc,p,f,this))&&(this.docView.updateOuterDeco(p),this.docView.destroy(),this.docView=$1(e.doc,p,f,this.dom,this)),A&&!this.trackWrites&&(O=!0)}O||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&nte(this))?Os(this,O):(PS(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((n=this.dragging)===null||n===void 0)&&n.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),y=="reset"?this.dom.scrollTop=0:y=="to selection"?this.scrollToSelection():N&&Iee(N)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof Gt){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&F1(this,t.getBoundingClientRect(),e)}else F1(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let n=this.directPlugins[t];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let n=this.state.plugins[t];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}}updateDraggedNode(e,t){let n=e.node,i=-1;if(this.state.doc.nodeAt(n.from)==n.node)i=n.from;else{let a=n.from+(this.state.doc.content.size-t.doc.content.size);(a>0&&this.state.doc.nodeAt(a))==n.node&&(i=a)}this.dragging=new JS(e.slice,e.move,i<0?void 0:Gt.create(this.state.doc,i))}someProp(e,t){let n=this._props&&this._props[e],i;if(n!=null&&(i=t?t(n):n))return i;for(let s=0;s<this.directPlugins.length;s++){let u=this.directPlugins[s].props[e];if(u!=null&&(i=t?t(u):u))return i}let a=this.state.plugins;if(a)for(let s=0;s<a.length;s++){let u=a[s].props[e];if(u!=null&&(i=t?t(u):u))return i}}hasFocus(){if(Ji){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Pee(this.dom),Os(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return zee(this,e)}coordsAtPos(e,t=1){return MS(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let i=this.docView.posFromDOM(e,t,n);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return Wee(this,t||this.state,e)}pasteHTML(e,t){return mh(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return mh(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return Q0(this,e)}destroy(){this.docView&&(wte(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],wy(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Cee())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return Cte(this,e)}domSelectionRange(){let e=this.domSelection();return e?Di&&this.root.nodeType===11&&Mee(this.dom.ownerDocument)==this.dom&&Wte(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}Mm.prototype.dispatch=function(r){let e=this._props.dispatchTransaction;e?e.call(this,r):this.updateState(this.state.apply(r))};function ub(r){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(r.editable),r.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(r.state)),t)for(let n in t)n=="class"?e.class+=" "+t[n]:n=="style"?e.style=(e.style?e.style+";":"")+t[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(t[n]))}),e.translate||(e.translate="no"),[Ki.node(0,r.state.doc.content.size,e)]}function cb(r){if(r.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),r.cursorWrapper={dom:e,deco:Ki.widget(r.state.selection.from,e,{raw:!0,marks:r.markCursor})}}else r.cursorWrapper=null}function fb(r){return!r.someProp("editable",e=>e(r.state)===!1)}function ere(r,e){let t=Math.min(r.$anchor.sharedDepth(r.head),e.$anchor.sharedDepth(e.head));return r.$anchor.start(t)!=e.$anchor.start(t)}function db(r){let e=Object.create(null);function t(n){for(let i in n)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=n[i])}return r.someProp("nodeViews",t),r.someProp("markViews",t),e}function tre(r,e){let t=0,n=0;for(let i in r){if(r[i]!=e[i])return!0;t++}for(let i in e)n++;return t!=n}function hb(r){if(r.spec.state||r.spec.filterTransaction||r.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var bl={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},tm={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},rre=typeof navigator<"u"&&/Mac/.test(navigator.platform),nre=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Qn=0;Qn<10;Qn++)bl[48+Qn]=bl[96+Qn]=String(Qn);for(var Qn=1;Qn<=24;Qn++)bl[Qn+111]="F"+Qn;for(var Qn=65;Qn<=90;Qn++)bl[Qn]=String.fromCharCode(Qn+32),tm[Qn]=String.fromCharCode(Qn);for(var Cy in bl)tm.hasOwnProperty(Cy)||(tm[Cy]=bl[Cy]);function ire(r){var e=rre&&r.metaKey&&r.shiftKey&&!r.ctrlKey&&!r.altKey||nre&&r.shiftKey&&r.key&&r.key.length==1||r.key=="Unidentified",t=!e&&r.key||(r.shiftKey?tm:bl)[r.keyCode]||r.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const are=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),ore=typeof navigator<"u"&&/Win/.test(navigator.platform);function sre(r){let e=r.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let n,i,a,s;for(let u=0;u<e.length-1;u++){let f=e[u];if(/^(cmd|meta|m)$/i.test(f))s=!0;else if(/^a(lt)?$/i.test(f))n=!0;else if(/^(c|ctrl|control)$/i.test(f))i=!0;else if(/^s(hift)?$/i.test(f))a=!0;else if(/^mod$/i.test(f))are?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+f)}return n&&(t="Alt-"+t),i&&(t="Ctrl-"+t),s&&(t="Meta-"+t),a&&(t="Shift-"+t),t}function lre(r){let e=Object.create(null);for(let t in r)e[sre(t)]=r[t];return e}function Ty(r,e,t=!0){return e.altKey&&(r="Alt-"+r),e.ctrlKey&&(r="Ctrl-"+r),e.metaKey&&(r="Meta-"+r),t&&e.shiftKey&&(r="Shift-"+r),r}function yh(r){return new Xi({props:{handleKeyDown:ure(r)}})}function ure(r){let e=lre(r);return function(t,n){let i=ire(n),a,s=e[Ty(i,n)];if(s&&s(t.state,t.dispatch,t))return!0;if(i.length==1&&i!=" "){if(n.shiftKey){let u=e[Ty(i,n,!1)];if(u&&u(t.state,t.dispatch,t))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(ore&&n.ctrlKey&&n.altKey)&&(a=bl[n.keyCode])&&a!=i){let u=e[Ty(a,n)];if(u&&u(t.state,t.dispatch,t))return!0}}return!1}}const rk=(r,e)=>r.selection.empty?!1:(e&&e(r.tr.deleteSelection().scrollIntoView()),!0);function cre(r,e){let{$cursor:t}=r.selection;return!t||(e?!e.endOfTextblock("backward",r):t.parentOffset>0)?null:t}const fre=(r,e,t)=>{let n=cre(r,t);if(!n)return!1;let i=ex(n);if(!i){let s=n.blockRange(),u=s&&Cm(s);return u==null?!1:(e&&e(r.tr.lift(s,u).scrollIntoView()),!0)}let a=i.nodeBefore;if(ax(r,i,e,-1))return!0;if(n.parent.content.size==0&&(of(a,"end")||Gt.isSelectable(a)))for(let s=n.depth;;s--){let u=W0(r.doc,n.before(s),n.after(s),ht.empty);if(u&&u.slice.size<u.to-u.from){if(e){let f=r.tr.step(u);f.setSelection(of(a,"end")?ir.findFrom(f.doc.resolve(f.mapping.map(i.pos,-1)),-1):Gt.create(f.doc,i.pos-a.nodeSize)),e(f.scrollIntoView())}return!0}if(s==1||n.node(s-1).childCount>1)break}return a.isAtom&&i.depth==n.depth-1?(e&&e(r.tr.delete(i.pos-a.nodeSize,i.pos).scrollIntoView()),!0):!1};function of(r,e,t=!1){for(let n=r;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(t&&n.childCount!=1)return!1}return!1}const dre=(r,e,t)=>{let{$head:n,empty:i}=r.selection,a=n;if(!i)return!1;if(n.parent.isTextblock){if(t?!t.endOfTextblock("backward",r):n.parentOffset>0)return!1;a=ex(n)}let s=a&&a.nodeBefore;return!s||!Gt.isSelectable(s)?!1:(e&&e(r.tr.setSelection(Gt.create(r.doc,a.pos-s.nodeSize)).scrollIntoView()),!0)};function ex(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){if(r.index(e)>0)return r.doc.resolve(r.before(e+1));if(r.node(e).type.spec.isolating)break}return null}function hre(r,e){let{$cursor:t}=r.selection;return!t||(e?!e.endOfTextblock("forward",r):t.parentOffset<t.parent.content.size)?null:t}const tx=(r,e,t)=>{let n=hre(r,t);if(!n)return!1;let i=rx(n);if(!i)return!1;let a=i.nodeAfter;if(ax(r,i,e,1))return!0;if(n.parent.content.size==0&&(of(a,"start")||Gt.isSelectable(a))){let s=W0(r.doc,n.before(),n.after(),ht.empty);if(s&&s.slice.size<s.to-s.from){if(e){let u=r.tr.step(s);u.setSelection(of(a,"start")?ir.findFrom(u.doc.resolve(u.mapping.map(i.pos)),1):Gt.create(u.doc,u.mapping.map(i.pos))),e(u.scrollIntoView())}return!0}}return a.isAtom&&i.depth==n.depth-1?(e&&e(r.tr.delete(i.pos,i.pos+a.nodeSize).scrollIntoView()),!0):!1},pre=(r,e,t)=>{let{$head:n,empty:i}=r.selection,a=n;if(!i)return!1;if(n.parent.isTextblock){if(t?!t.endOfTextblock("forward",r):n.parentOffset<n.parent.content.size)return!1;a=rx(n)}let s=a&&a.nodeAfter;return!s||!Gt.isSelectable(s)?!1:(e&&e(r.tr.setSelection(Gt.create(r.doc,a.pos)).scrollIntoView()),!0)};function rx(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){let t=r.node(e);if(r.index(e)+1<t.childCount)return r.doc.resolve(r.after(e+1));if(t.type.spec.isolating)break}return null}const nx=(r,e)=>{let{$head:t,$anchor:n}=r.selection;return!t.parent.type.spec.code||!t.sameParent(n)?!1:(e&&e(r.tr.insertText(`
`).scrollIntoView()),!0)};function nk(r){for(let e=0;e<r.edgeCount;e++){let{type:t}=r.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const ik=(r,e)=>{let{$head:t,$anchor:n}=r.selection;if(!t.parent.type.spec.code||!t.sameParent(n))return!1;let i=t.node(-1),a=t.indexAfter(-1),s=nk(i.contentMatchAt(a));if(!s||!i.canReplaceWith(a,a,s))return!1;if(e){let u=t.after(),f=r.tr.replaceWith(u,u,s.createAndFill());f.setSelection(ir.near(f.doc.resolve(u),1)),e(f.scrollIntoView())}return!0},vre=(r,e)=>{let t=r.selection,{$from:n,$to:i}=t;if(t instanceof Oi||n.parent.inlineContent||i.parent.inlineContent)return!1;let a=nk(i.parent.contentMatchAt(i.indexAfter()));if(!a||!a.isTextblock)return!1;if(e){let s=(!n.parentOffset&&i.index()<i.parent.childCount?n:i).pos,u=r.tr.insert(s,a.createAndFill());u.setSelection(ur.create(u.doc,s+1)),e(u.scrollIntoView())}return!0},mre=(r,e)=>{let{$cursor:t}=r.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let a=t.before();if(Zc(r.doc,a))return e&&e(r.tr.split(a).scrollIntoView()),!0}let n=t.blockRange(),i=n&&Cm(n);return i==null?!1:(e&&e(r.tr.lift(n,i).scrollIntoView()),!0)};function gre(r){return(e,t)=>{let{$from:n,$to:i}=e.selection;if(e.selection instanceof Gt&&e.selection.node.isBlock)return!n.parentOffset||!Zc(e.doc,n.pos)?!1:(t&&t(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let a=[],s,u,f=!1,p=!1;for(let O=n.depth;;O--)if(n.node(O).isBlock){f=n.end(O)==n.pos+(n.depth-O),p=n.start(O)==n.pos-(n.depth-O),u=nk(n.node(O-1).contentMatchAt(n.indexAfter(O-1))),a.unshift(f&&u?{type:u}:null),s=O;break}else{if(O==1)return!1;a.unshift(null)}let y=e.tr;(e.selection instanceof ur||e.selection instanceof Oi)&&y.deleteSelection();let T=y.mapping.map(n.pos),N=Zc(y.doc,T,a.length,a);if(N||(a[0]=u?{type:u}:null,N=Zc(y.doc,T,a.length,a)),!N)return!1;if(y.split(T,a.length,a),!f&&p&&n.node(s).type!=u){let O=y.mapping.map(n.before(s)),A=y.doc.resolve(O);u&&n.node(s-1).canReplaceWith(A.index(),A.index()+1,u)&&y.setNodeMarkup(y.mapping.map(n.before(s)),u)}return t&&t(y.scrollIntoView()),!0}}const yre=gre(),ix=(r,e)=>(e&&e(r.tr.setSelection(new Oi(r.doc))),!0);function kre(r,e,t){let n=e.nodeBefore,i=e.nodeAfter,a=e.index();return!n||!i||!n.type.compatibleContent(i.type)?!1:!n.content.size&&e.parent.canReplace(a-1,a)?(t&&t(r.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(a,a+1)||!(i.isTextblock||hS(r.doc,e.pos))?!1:(t&&t(r.tr.join(e.pos).scrollIntoView()),!0)}function ax(r,e,t,n){let i=e.nodeBefore,a=e.nodeAfter,s,u,f=i.type.spec.isolating||a.type.spec.isolating;if(!f&&kre(r,e,t))return!0;let p=!f&&e.parent.canReplace(e.index(),e.index()+1);if(p&&(s=(u=i.contentMatchAt(i.childCount)).findWrapping(a.type))&&u.matchType(s[0]||a.type).validEnd){if(t){let O=e.pos+a.nodeSize,A=Xe.empty;for(let j=s.length-1;j>=0;j--)A=Xe.from(s[j].create(null,A));A=Xe.from(i.copy(A));let z=r.tr.step(new In(e.pos-1,O,e.pos,O,new ht(A,1,0),s.length,!0)),H=z.doc.resolve(O+2*s.length);H.nodeAfter&&H.nodeAfter.type==i.type&&hS(z.doc,H.pos)&&z.join(H.pos),t(z.scrollIntoView())}return!0}let y=a.type.spec.isolating||n>0&&f?null:ir.findFrom(e,1),T=y&&y.$from.blockRange(y.$to),N=T&&Cm(T);if(N!=null&&N>=e.depth)return t&&t(r.tr.lift(T,N).scrollIntoView()),!0;if(p&&of(a,"start",!0)&&of(i,"end")){let O=i,A=[];for(;A.push(O),!O.isTextblock;)O=O.lastChild;let z=a,H=1;for(;!z.isTextblock;z=z.firstChild)H++;if(O.canReplace(O.childCount,O.childCount,z.content)){if(t){let j=Xe.empty;for(let le=A.length-1;le>=0;le--)j=Xe.from(A[le].copy(j));let ie=r.tr.step(new In(e.pos-A.length,e.pos+a.nodeSize,e.pos+H,e.pos+a.nodeSize-H,new ht(j,A.length,0),0,!0));t(ie.scrollIntoView())}return!0}}return!1}function ox(r){return function(e,t){let n=e.selection,i=r<0?n.$from:n.$to,a=i.depth;for(;i.node(a).isInline;){if(!a)return!1;a--}return i.node(a).isTextblock?(t&&t(e.tr.setSelection(ur.create(e.doc,r<0?i.start(a):i.end(a)))),!0):!1}}const wre=ox(-1),bre=ox(1);function Cre(r,e=null){return function(t,n){let{$from:i,$to:a}=t.selection,s=i.blockRange(a),u=s&&ZZ(s,r,e);return u?(n&&n(t.tr.wrap(s,u).scrollIntoView()),!0):!1}}function ak(r,e=null){return function(t,n){let i=!1;for(let a=0;a<t.selection.ranges.length&&!i;a++){let{$from:{pos:s},$to:{pos:u}}=t.selection.ranges[a];t.doc.nodesBetween(s,u,(f,p)=>{if(i)return!1;if(!(!f.isTextblock||f.hasMarkup(r,e)))if(f.type==r)i=!0;else{let y=t.doc.resolve(p),T=y.index();i=y.parent.canReplaceWith(T,T+1,r)}})}if(!i)return!1;if(n){let a=t.tr;for(let s=0;s<t.selection.ranges.length;s++){let{$from:{pos:u},$to:{pos:f}}=t.selection.ranges[s];a.setBlockType(u,f,r,e)}n(a.scrollIntoView())}return!0}}function Tre(r,e,t,n){for(let i=0;i<e.length;i++){let{$from:a,$to:s}=e[i],u=a.depth==0?r.inlineContent&&r.type.allowsMarkType(t):!1;if(r.nodesBetween(a.pos,s.pos,(f,p)=>{if(u)return!1;u=f.inlineContent&&f.type.allowsMarkType(t)}),u)return!0}return!1}function xh(r,e=null,t){return function(n,i){let{empty:a,$cursor:s,ranges:u}=n.selection;if(a&&!s||!Tre(n.doc,u,r))return!1;if(i)if(s)r.isInSet(n.storedMarks||s.marks())?i(n.tr.removeStoredMark(r)):i(n.tr.addStoredMark(r.create(e)));else{let f,p=n.tr;f=!u.some(y=>n.doc.rangeHasMark(y.$from.pos,y.$to.pos,r));for(let y=0;y<u.length;y++){let{$from:T,$to:N}=u[y];if(!f)p.removeMark(T.pos,N.pos,r);else{let O=T.pos,A=N.pos,z=T.nodeAfter,H=N.nodeBefore,j=z&&z.isText?/^\s*/.exec(z.text)[0].length:0,ie=H&&H.isText?/\s*$/.exec(H.text)[0].length:0;O+j<A&&(O+=j,A-=ie),p.addMark(O,A,r.create(e))}}i(p.scrollIntoView())}return!0}}function Nm(...r){return function(e,t,n){for(let i=0;i<r.length;i++)if(r[i](e,t,n))return!0;return!1}}let Sy=Nm(rk,fre,dre),pb=Nm(rk,tx,pre);const xs={Enter:Nm(nx,vre,mre,yre),"Mod-Enter":ik,Backspace:Sy,"Mod-Backspace":Sy,"Shift-Backspace":Sy,Delete:pb,"Mod-Delete":pb,"Mod-a":ix},sx={"Ctrl-h":xs.Backspace,"Alt-Backspace":xs["Mod-Backspace"],"Ctrl-d":xs.Delete,"Ctrl-Alt-Backspace":xs["Mod-Delete"],"Alt-Delete":xs["Mod-Delete"],"Alt-d":xs["Mod-Delete"],"Ctrl-a":wre,"Ctrl-e":bre};for(let r in xs)sx[r]=xs[r];const Sre=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,vb=Sre?sx:xs;class Sl{constructor(e,t,n={}){this.match=e,this.match=e,this.handler=typeof t=="string"?xre(t):t,this.undoable=n.undoable!==!1,this.inCode=n.inCode||!1,this.inCodeMark=n.inCodeMark!==!1}}function xre(r){return function(e,t,n,i){let a=r;if(t[1]){let s=t[0].lastIndexOf(t[1]);a+=t[0].slice(s+t[1].length),n+=s;let u=n-i;u>0&&(a=t[0].slice(s-u,s)+a,n=i)}return e.tr.insertText(a,n,i)}}const Ere=500;function lx({rules:r}){let e=new Xi({state:{init(){return null},apply(t,n){let i=t.getMeta(this);return i||(t.selectionSet||t.docChanged?null:n)}},props:{handleTextInput(t,n,i,a){return mb(t,n,i,a,r,e)},handleDOMEvents:{compositionend:t=>{setTimeout(()=>{let{$cursor:n}=t.state.selection;n&&mb(t,n.pos,n.pos,"",r,e)})}}},isInputRules:!0});return e}function mb(r,e,t,n,i,a){if(r.composing)return!1;let s=r.state,u=s.doc.resolve(e),f=u.parent.textBetween(Math.max(0,u.parentOffset-Ere),u.parentOffset,null,"")+n;for(let p=0;p<i.length;p++){let y=i[p];if(!y.inCodeMark&&u.marks().some(O=>O.type.spec.code))continue;if(u.parent.type.spec.code){if(!y.inCode)continue}else if(y.inCode==="only")continue;let T=y.match.exec(f),N=T&&T[0].length>=n.length&&y.handler(s,T,e-(T[0].length-n.length),t);if(N)return y.undoable&&N.setMeta(a,{transform:N,from:e,to:t,text:n}),r.dispatch(N),!0}return!1}const Mre=(r,e)=>{let t=r.plugins;for(let n=0;n<t.length;n++){let i=t[n],a;if(i.spec.isInputRules&&(a=i.getState(r))){if(e){let s=r.tr,u=a.transform;for(let f=u.steps.length-1;f>=0;f--)s.step(u.steps[f].invert(u.docs[f]));if(a.text){let f=s.doc.resolve(a.from).marks();s.replaceWith(a.from,a.to,r.schema.text(a.text,f))}else s.delete(a.from,a.to);e(s)}return!0}}return!1};new Sl(/--$/,"",{inCodeMark:!1});new Sl(/\.\.\.$/,"",{inCodeMark:!1});new Sl(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"",{inCodeMark:!1});new Sl(/"$/,"",{inCodeMark:!1});new Sl(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"",{inCodeMark:!1});new Sl(/'$/,"",{inCodeMark:!1});var rm=200,Pn=function(){};Pn.prototype.append=function(e){return e.length?(e=Pn.from(e),!this.length&&e||e.length<rm&&this.leafAppend(e)||this.length<rm&&e.leafPrepend(this)||this.appendInner(e)):this};Pn.prototype.prepend=function(e){return e.length?Pn.from(e).append(this):this};Pn.prototype.appendInner=function(e){return new Nre(this,e)};Pn.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?Pn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};Pn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Pn.prototype.forEach=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)};Pn.prototype.map=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length);var i=[];return this.forEach(function(a,s){return i.push(e(a,s))},t,n),i};Pn.from=function(e){return e instanceof Pn?e:e&&e.length?new ux(e):Pn.empty};var ux=(function(r){function e(n){r.call(this),this.values=n}r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,a){return i==0&&a==this.length?this:new e(this.values.slice(i,a))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,a,s,u){for(var f=a;f<s;f++)if(i(this.values[f],u+f)===!1)return!1},e.prototype.forEachInvertedInner=function(i,a,s,u){for(var f=a-1;f>=s;f--)if(i(this.values[f],u+f)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=rm)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=rm)return new e(i.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e})(Pn);Pn.empty=new ux([]);var Nre=(function(r){function e(t,n){r.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,i,a,s){var u=this.left.length;if(i<u&&this.left.forEachInner(n,i,Math.min(a,u),s)===!1||a>u&&this.right.forEachInner(n,Math.max(i-u,0),Math.min(this.length,a)-u,s+u)===!1)return!1},e.prototype.forEachInvertedInner=function(n,i,a,s){var u=this.left.length;if(i>u&&this.right.forEachInvertedInner(n,i-u,Math.max(a,u)-u,s+u)===!1||a<u&&this.left.forEachInvertedInner(n,Math.min(i,u),a,s)===!1)return!1},e.prototype.sliceInner=function(n,i){if(n==0&&i==this.length)return this;var a=this.left.length;return i<=a?this.left.slice(n,i):n>=a?this.right.slice(n-a,i-a):this.left.slice(n,a).append(this.right.slice(0,i-a))},e.prototype.leafAppend=function(n){var i=this.right.leafAppend(n);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(n){var i=this.left.leafPrepend(n);if(i)return new e(i,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e})(Pn);const Ore=500;class Ja{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let i,a;t&&(i=this.remapping(n,this.items.length),a=i.maps.length);let s=e.tr,u,f,p=[],y=[];return this.items.forEach((T,N)=>{if(!T.step){i||(i=this.remapping(n,N+1),a=i.maps.length),a--,y.push(T);return}if(i){y.push(new Ro(T.map));let O=T.step.map(i.slice(a)),A;O&&s.maybeStep(O).doc&&(A=s.mapping.maps[s.mapping.maps.length-1],p.push(new Ro(A,void 0,void 0,p.length+y.length))),a--,A&&i.appendMap(A,a)}else s.maybeStep(T.step);if(T.selection)return u=i?T.selection.map(i.slice(a)):T.selection,f=new Ja(this.items.slice(0,n).append(y.reverse().concat(p)),this.eventCount-1),!1},this.items.length,0),{remaining:f,transform:s,selection:u}}addTransform(e,t,n,i){let a=[],s=this.eventCount,u=this.items,f=!i&&u.length?u.get(u.length-1):null;for(let y=0;y<e.steps.length;y++){let T=e.steps[y].invert(e.docs[y]),N=new Ro(e.mapping.maps[y],T,t),O;(O=f&&f.merge(N))&&(N=O,y?a.pop():u=u.slice(0,u.length-1)),a.push(N),t&&(s++,t=void 0),i||(f=N)}let p=s-n.depth;return p>Are&&(u=Dre(u,p),s-=p),new Ja(u.append(a),s)}remapping(e,t){let n=new hh;return this.items.forEach((i,a)=>{let s=i.mirrorOffset!=null&&a-i.mirrorOffset>=e?n.maps.length-i.mirrorOffset:void 0;n.appendMap(i.map,s)},e,t),n}addMaps(e){return this.eventCount==0?this:new Ja(this.items.append(e.map(t=>new Ro(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],i=Math.max(0,this.items.length-t),a=e.mapping,s=e.steps.length,u=this.eventCount;this.items.forEach(N=>{N.selection&&u--},i);let f=t;this.items.forEach(N=>{let O=a.getMirror(--f);if(O==null)return;s=Math.min(s,O);let A=a.maps[O];if(N.step){let z=e.steps[O].invert(e.docs[O]),H=N.selection&&N.selection.map(a.slice(f+1,O));H&&u++,n.push(new Ro(A,z,H))}else n.push(new Ro(A))},i);let p=[];for(let N=t;N<s;N++)p.push(new Ro(a.maps[N]));let y=this.items.slice(0,i).append(p).append(n),T=new Ja(y,u);return T.emptyItemCount()>Ore&&(T=T.compress(this.items.length-n.length)),T}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,i=[],a=0;return this.items.forEach((s,u)=>{if(u>=e)i.push(s),s.selection&&a++;else if(s.step){let f=s.step.map(t.slice(n)),p=f&&f.getMap();if(n--,p&&t.appendMap(p,n),f){let y=s.selection&&s.selection.map(t.slice(n));y&&a++;let T=new Ro(p.invert(),f,y),N,O=i.length-1;(N=i.length&&i[O].merge(T))?i[O]=N:i.push(T)}}else s.map&&n--},this.items.length,0),new Ja(Pn.from(i.reverse()),a)}}Ja.empty=new Ja(Pn.empty,0);function Dre(r,e){let t;return r.forEach((n,i)=>{if(n.selection&&e--==0)return t=i,!1}),r.slice(t)}class Ro{constructor(e,t,n,i){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Ro(t.getMap().invert(),t,this.selection)}}}class ll{constructor(e,t,n,i,a){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=i,this.prevComposition=a}}const Are=20;function Lre(r,e,t,n){let i=t.getMeta(yl),a;if(i)return i.historyState;t.getMeta(Pre)&&(r=new ll(r.done,r.undone,null,0,-1));let s=t.getMeta("appendedTransaction");if(t.steps.length==0)return r;if(s&&s.getMeta(yl))return s.getMeta(yl).redo?new ll(r.done.addTransform(t,void 0,n,Fv(e)),r.undone,gb(t.mapping.maps),r.prevTime,r.prevComposition):new ll(r.done,r.undone.addTransform(t,void 0,n,Fv(e)),null,r.prevTime,r.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let u=t.getMeta("composition"),f=r.prevTime==0||!s&&r.prevComposition!=u&&(r.prevTime<(t.time||0)-n.newGroupDelay||!Rre(t,r.prevRanges)),p=s?xy(r.prevRanges,t.mapping):gb(t.mapping.maps);return new ll(r.done.addTransform(t,f?e.selection.getBookmark():void 0,n,Fv(e)),Ja.empty,p,t.time,u??r.prevComposition)}else return(a=t.getMeta("rebased"))?new ll(r.done.rebased(t,a),r.undone.rebased(t,a),xy(r.prevRanges,t.mapping),r.prevTime,r.prevComposition):new ll(r.done.addMaps(t.mapping.maps),r.undone.addMaps(t.mapping.maps),xy(r.prevRanges,t.mapping),r.prevTime,r.prevComposition)}function Rre(r,e){if(!e)return!1;if(!r.docChanged)return!0;let t=!1;return r.mapping.maps[0].forEach((n,i)=>{for(let a=0;a<e.length;a+=2)n<=e[a+1]&&i>=e[a]&&(t=!0)}),t}function gb(r){let e=[];for(let t=r.length-1;t>=0&&e.length==0;t--)r[t].forEach((n,i,a,s)=>e.push(a,s));return e}function xy(r,e){if(!r)return null;let t=[];for(let n=0;n<r.length;n+=2){let i=e.map(r[n],1),a=e.map(r[n+1],-1);i<=a&&t.push(i,a)}return t}function Ire(r,e,t){let n=Fv(e),i=yl.get(e).spec.config,a=(t?r.undone:r.done).popEvent(e,n);if(!a)return null;let s=a.selection.resolve(a.transform.doc),u=(t?r.done:r.undone).addTransform(a.transform,e.selection.getBookmark(),i,n),f=new ll(t?u:a.remaining,t?a.remaining:u,null,0,-1);return a.transform.setSelection(s).setMeta(yl,{redo:t,historyState:f})}let Ey=!1,yb=null;function Fv(r){let e=r.plugins;if(yb!=e){Ey=!1,yb=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){Ey=!0;break}}return Ey}const yl=new bh("history"),Pre=new bh("closeHistory");function cx(r={}){return r={depth:r.depth||100,newGroupDelay:r.newGroupDelay||500},new Xi({key:yl,state:{init(){return new ll(Ja.empty,Ja.empty,null,0,-1)},apply(e,t,n){return Lre(t,n,e,r)}},config:r,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,i=n=="historyUndo"?uh:n=="historyRedo"?ok:null;return i?(t.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function fx(r,e){return(t,n)=>{let i=yl.getState(t);if(!i||(r?i.undone:i.done).eventCount==0)return!1;if(n){let a=Ire(i,t,r);a&&n(e?a.scrollIntoView():a)}return!0}}const uh=fx(!1,!0),ok=fx(!0,!0);function Bre(r){let e=yl.getState(r);return e?e.done.eventCount:0}/**
 * @toast-ui/editor
 * @version 3.2.2 | Fri Feb 17 2023
 * @author NHN Cloud FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var p0=function(r,e){return p0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},p0(r,e)};function wt(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");p0(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Fe=function(){return Fe=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Fe.apply(this,arguments)};function Qi(r,e,t){if(arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return r.concat(a||Array.prototype.slice.call(e))}function fr(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function Fre(r,e,t){var n;t=t||null;for(n in r)if(r.hasOwnProperty(n)&&e.call(t,r[n],n,r)===!1)break}var sf=Fre;function _re(r,e){var t=Object.prototype.hasOwnProperty,n,i,a,s;for(a=1,s=arguments.length;a<s;a+=1){n=arguments[a];for(i in n)t.call(n,i)&&(r[i]=n[i])}return r}var sk=_re;function qre(r){return typeof r=="string"||r instanceof String}var Rs=qre;function zre(r){return r instanceof Array}var kf=zre;function Hre(r,e,t){var n=0,i=r.length;for(t=t||null;n<i&&e.call(t,r[n],n,r)!==!1;n+=1);}var lf=Hre,Vre=kf,$re=lf,Ure=sf;function Wre(r,e,t){Vre(r)?$re(r,e,t):Ure(r,e,t)}var Om=Wre,jre=Rs,Gre=Om;function Kre(r,e,t){var n=r.style;if(jre(e)){n[e]=t;return}Gre(e,function(i,a){n[a]=i})}var qo=Kre,Jre=kf;function Qre(r,e,t){var n,i;if(t=t||0,!Jre(e))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,r,t);for(i=e.length,n=t;t>=0&&n<i;n+=1)if(e[n]===r)return n;return-1}var Nu=Qre;function Xre(r){return r===void 0}var eo=Xre,Yre=eo;function Zre(r){return!r||!r.className?"":Yre(r.className.baseVal)?r.className:r.className.baseVal}var lk=Zre,ene=kf,tne=eo;function rne(r,e){if(e=ene(e)?e.join(" "):e,e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),tne(r.className.baseVal)){r.className=e;return}r.className.baseVal=e}var dx=rne,kb=Om,nne=Nu,ine=lk,ane=dx;function one(r){var e=Array.prototype.slice.call(arguments,1),t=r.classList,n=[],i;if(t){kb(e,function(a){r.classList.add(a)});return}i=ine(r),i&&(e=[].concat(i.split(/\s+/),e)),kb(e,function(a){nne(a,n)<0&&n.push(a)}),ane(r,n)}var Po=one,wb=lf,sne=Nu,lne=lk,une=dx;function cne(r){var e=Array.prototype.slice.call(arguments,1),t=r.classList,n,i;if(t){wb(e,function(a){t.remove(a)});return}n=lne(r).split(/\s+/),i=[],wb(n,function(a){sne(a,e)<0&&i.push(a)}),une(r,i)}var Qa=cne;function fne(r){return typeof r=="number"||r instanceof Number}var Es=fne;function dne(r){return r===null}var nm=dne,hne=sf;function pne(r,e){var t=document.createElement("img"),n="";return hne(e,function(i,a){n+="&"+a+"="+i}),n=n.substring(1),t.src=r+"?"+n,t.style.display="none",document.body.appendChild(t),document.body.removeChild(t),t}var vne=pne,mne=eo,gne=vne,yne=10080*60*1e3;function kne(r){var e=new Date().getTime();return e-r>yne}function wne(r,e){var t="https://www.google-analytics.com/collect",n=location.hostname,i="event",a="use",s="TOAST UI "+r+" for "+n+": Statistics",u=window.localStorage.getItem(s);!mne(window.tui)&&window.tui.usageStatistics===!1||u&&!kne(u)||(window.localStorage.setItem(s,new Date().getTime()),setTimeout(function(){(document.readyState==="interactive"||document.readyState==="complete")&&gne(t,{v:1,t:i,tid:e,cid:n,dp:n,dh:r,el:r,ec:a})},1e3))}var bne=wne,Cne=/[\u0020]+/g,Tne=/[>(){}[\]+-.!#|]/g,bb=/<([a-zA-Z_][a-zA-Z0-9\-._]*)(\s|[^\\>])*\/?>|<(\/)([a-zA-Z_][a-zA-Z0-9\-._]*)\s*\/?>|<!--[^-]+-->|<([a-zA-Z_][a-zA-Z0-9\-.:/]*)>/g,Cb=/\\[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~\\]/g,Sne=/[*_~`]/g,Tb=/!\[.*\]\(.*\)/g,xne=/[[\]]/g,Sb=/(?:^|[^\\])\\(?!\\)/g,Ene='[&<>"]',xb=new RegExp(Ene,"g");function Mne(r){switch(r){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return r}}function Qc(r){return xb.test(r)?r.replace(xb,Mne):r}function Nne(){bne("editor","UA-129966929-1")}function Yn(r,e){return r.indexOf(e)!==-1}var One=["rel","target","hreflang","type"],Dne={codeblock:/(^ {4}[^\n]+\n*)+/,thematicBreak:/^ *((\* *){3,}|(- *){3,} *|(_ *){3,}) */,atxHeading:/^(#{1,6}) +[\s\S]+/,seTextheading:/^([^\n]+)\n *(=|-){2,} */,blockquote:/^( *>[^\n]+.*)+/,list:/^ *(\*+|-+|\d+\.) [\s\S]+/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? */,link:/!?\[.*\]\(.*\)/,reflink:/!?\[.*\]\s*\[([^\]]*)\]/,verticalBar:/\u007C/,fencedCodeblock:/^((`|~){3,})/};function hx(r){if(!r)return null;var e={};return One.forEach(function(t){eo(r[t])||(e[t]=r[t])}),e}function im(r,e){for(var t="",n=0;n<e;n+=1)t+=r;return t}function Ane(r){var e=!1;return sf(Dne,function(t){return t.test(r)&&(e=!0),!e}),e}function am(r){for(var e=[],t=Tb.exec(r);t;)e.push([t.index,t.index+t[0].length]),t=Tb.exec(r);return r.replace(xne,function(n,i){var a=e.some(function(s){return i>s[0]&&i<s[1]});return a?n:"\\"+n})}function Lne(r){var e=function(i){return"\\"+i},t=function(i){return i+"\\"},n=r.replace(Cne," ");return Cb.test(n)&&(n=n.replace(Cb,e)),Sb.test(n)&&(n=n.replace(Sb,t)),n=n.replace(Sne,e),bb.test(n)&&(n=n.replace(bb,e)),Ane(n)&&(n=n.replace(Tne,e)),n}function Rne(r){var e;return r.indexOf('"')===-1?e='""':e=r.indexOf("'")===-1?"''":"()",e[0]+r+e[1]}function v0(r){return nm(r)||eo(r)}function uk(r,e){if(r===null&&r===e)return!0;if(typeof r!="object"||typeof e!="object"||v0(r)||v0(e))return r===e;for(var t in r)if(r[t]!==e[t])return!1;for(var t in e)if(!(t in r))return!1;return!0}function vi(r){return r[r.length-1]}function Ine(r,e,t){return r>=e&&r<=t}function ck(r){return typeof r=="object"&&r!==null}function om(r,e){var t=Fe({},r);return r&&e&&Object.keys(e).forEach(function(n){ck(t[n])?Array.isArray(e[n])?t[n]=fk(e[n]):t.hasOwnProperty(n)?t[n]=om(t[n],e[n]):t[n]=dk(e[n]):t[n]=e[n]}),t}function fk(r){return r.map(function(e){return ck(e)?Array.isArray(e)?fk(e):dk(e):e})}function dk(r){var e=Object.keys(r);return e.length?e.reduce(function(t,n){return ck(r[n])?t[n]=Array.isArray(r[n])?fk(r[n]):dk(r[n]):t[n]=r[n],t},{}):r}function hk(r,e){return e===void 0&&(e={}),Object.keys(e).forEach(function(t){r.hasOwnProperty(t)&&typeof r[t]=="object"?Array.isArray(e[t])?r[t]=e[t]:hk(r[t],e[t]):r[t]=e[t]}),r}function Eb(r,e){return r>e?[e,r]:[r,e]}var Pne=lf;function Bne(r){var e;try{e=Array.prototype.slice.call(r)}catch{e=[],Pne(r,function(n){e.push(n)})}return e}var zo=Bne;function sm(r,e){var t=r.nodes.paragraph;return e?t.create(null,Rs(e)?r.text(e):e):t.createAndFill()}function Xn(r,e,t){return r.text(e,t)}function jr(r,e,t){t===void 0&&(t=e);var n=r.doc.content.size,i=n>0?n-1:1;return ur.create(r.doc,Math.min(e,i),Math.min(t,i))}function pk(r,e,t){var n=e.pos;return r.replaceWith(n,n,sm(t)),r.setSelection(jr(r,n+1))}function lm(r){for(var e=r.state,t=r.from,n=r.startIndex,i=r.endIndex,a=r.createText,s=e.tr,u=e.doc,f=e.schema,p=n;p<=i;p+=1){var y=u.child(p),T=y.nodeSize,N=y.textContent,O=y.content,A=a(N),z=A?Xn(f,A):Xe.empty,H=s.mapping.map(t),j=H+O.size;s.replaceWith(H,j,z),t+=T}return s}function vk(r,e,t,n){var i=t.length;r.split(e).delete(e-i,e).insert(r.mapping.map(e),n).setSelection(jr(r,r.mapping.map(e)-i))}function Eh(r){return r.sourcepos[0][0]}function Dm(r){return r.sourcepos[1][0]}function Am(r){return r.sourcepos[0][1]}function kl(r){return r.sourcepos[1][1]}function Fne(r){var e=r.type;return e==="htmlBlock"||e==="htmlInline"}function _ne(r){var e=r.type;return e==="strike"||e==="strong"||e==="emph"||e==="code"||e==="link"||e==="image"}function qne(r){return r&&r.type==="codeBlock"}function Ou(r){return r&&(r.type==="item"||r.type==="list")}function px(r){return Ou(r)&&r.listData.type==="ordered"}function zne(r){return Ou(r)&&r.listData.type!=="ordered"}function Mb(r){return r&&(r.type==="tableCell"||r.type==="tableDelimCell")}function Hne(r){switch(r.type){case"code":case"text":case"emph":case"strong":case"strike":case"link":case"image":case"htmlInline":case"linebreak":case"softbreak":case"customInline":return!0;default:return!1}}function uf(r,e,t){for(t===void 0&&(t=!0),r=t?r:r.parent;r&&r.type!=="document";){if(e(r))return r;r=r.parent}return null}function Vne(r,e,t){for(t===void 0&&(t=!0),r=t?r:r.parent;r&&r.type!=="document";)e(r),r=r.parent}function Rn(r,e){return[r[0],r[1]+e]}function wl(r,e){return[r[0],e]}function $ne(r){var e=r.firstChild.literal;switch(r.type){case"emph":return"*"+e+"*";case"strong":return"**"+e+"**";case"strike":return"~~"+e+"~~";case"code":return"`"+e+"`";case"link":case"image":var t=r,n=t.destination,i=t.title,a=r.type==="link"?"":"!";return a+"["+e+"]("+n+(i?' "'+i+'"':"")+")";default:return null}}function Une(r){switch(r.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}function Wne(r){for(var e=[],t=r.walker(),n=null;n=t.next();){var i=n.node;i.type==="text"&&e.push(i.literal)}return e.join("")}var kh=[],vx={},Nb=/\$\$widget\d+\s/;function Lm(r){var e=r.search(Nb);if(e!==-1){var t=r.substring(e),n=t.replace(Nb,"").replace("$$","");r=r.substring(0,e),r+=Lm(n)}return r}function mx(r,e){return"$$"+r+" "+e+"$$"}function gx(r,e){var t=vx[r],n=t.rule,i=t.toDOM,a=Lm(e).match(n);return a&&(e=a[0]),i(e)}function jne(){return kh}function Gne(r){kh=r,kh.forEach(function(e,t){vx["widget"+t]=e})}function My(r,e,t,n){return r.concat(Cu(e,t,n))}function Cu(r,e,t){t===void 0&&(t=0);var n=[],i=(kh[t]||{}).rule,a=t+1;if(r=Lm(r),i&&i.test(r)){for(var s=void 0;(s=r.search(i))!==-1;){var u=r.substring(0,s);u&&(n=My(n,u,e,a)),r=r.substring(s);var f=r.match(i)[0],p="widget"+t;n.push(e.nodes.widget.create({info:p},e.text(mx(p,f)))),r=r.substring(f.length)}r&&(n=My(n,r,e,a))}else r&&(n=t<kh.length-1?My(n,r,e,a):[e.text(r)]);return n}function yx(r){for(var e,t="",n=r.walker();e=n.next();){var i=e.node,a=e.entering;a&&(i!==r&&i.type!=="text"?(t+=$ne(i),n.resumeAt(r,!1),n.next()):i.type==="text"&&(t+=i.literal))}return t}function kx(){return{deleteSelection:function(){return rk},selectAll:function(){return ix},undo:function(){return uh},redo:function(){return ok}}}function Kne(r){return new Xi({props:{decorations:function(e){var t=e.doc;if(r.text&&t.childCount===1&&t.firstChild.isTextblock&&t.firstChild.content.size===0){var n=document.createElement("span");return Po(n,"placeholder"),r.className&&Po(n,r.className),n.textContent=r.text,sn.create(t,[Ki.widget(1,n)])}return null}}})}var Jne=Nu,Qne=lk;function Xne(r,e){var t;return r.classList?r.classList.contains(e):(t=Qne(r).split(/\s+/),Jne(e,t)>-1)}var wx=Xne,Yne=Nu,Zne=zo,Tv=Element.prototype,eie=Tv.matches||Tv.webkitMatchesSelector||Tv.mozMatchesSelector||Tv.msMatchesSelector||function(r){var e=this.document||this.ownerDocument;return Yne(this,Zne(e.querySelectorAll(r)))>-1};function tie(r,e){return eie.call(r,e)}var rie=tie,bx="[A-Za-z][A-Za-z0-9-]*",nie="[a-zA-Z_:][a-zA-Z0-9:._-]*",iie="[^\"'=<>`\\x00-\\x20]+",aie="'[^']*'",oie='"[^"]*"',sie="(?:"+iie+"|"+aie+"|"+oie+")",lie="(?:\\s*=\\s*"+sie+")",Cx="(?:\\s+"+nie+lie+"?)",Tx="<("+bx+")("+Cx+")*\\s*/?>",uie="</("+bx+")\\s*[>]",Sx="(?:"+Tx+"|"+uie+")",cf=new RegExp("^"+Sx,"i"),m0=/<br\s*\/*>/i,cie=/<! ---->|<!--(?:-?[^>-])(?:-?[^-])*-->/,xx="</p><p>";function mk(r,e,t){var n=parseInt(r.left,10),i=parseInt(r.top,10),a=parseInt(r.width,10)+parseInt(r.paddingLeft,10)+parseInt(r.paddingRight,10),s=parseInt(r.height,10)+parseInt(r.paddingTop,10)+parseInt(r.paddingBottom,10);return e>=n&&e<=n+a&&t>=i&&t<=i+s}var Ex="toastui-editor-";function Et(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];for(var t=[],n=0,i=r;n<i.length;n++){var a=i[n],s=void 0;Array.isArray(a)?s=a[0]?a[1]:null:s=a,s&&t.push(""+Ex+s)}return t.join(" ")}function Tn(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return r.map(function(t){return Ex+"md-"+t}).join(" ")}function fie(r){return r?.nodeType===Node.TEXT_NODE}function Rm(r){return r&&r.nodeType===Node.ELEMENT_NODE}function die(r,e){var t=zo(r.querySelectorAll(e));return t.length?t:[]}function hie(r,e){e=kf(e)?zo(e):[e],e.forEach(function(t){r.appendChild(t)})}function pie(r,e){e.parentNode&&e.parentNode.insertBefore(r,e)}function Du(r){r.parentNode&&r.parentNode.removeChild(r)}function vie(r){for(var e=[];r.firstChild;)e.push(r.firstChild),r.parentNode&&r.parentNode.insertBefore(r.firstChild,r);return Du(r),e}function gk(r,e,t){eo(t)&&(t=!wx(r,e));var n=t?Po:Qa;n(r,e)}function Mx(r,e){var t=document.createElement("div");Rs(r)?t.innerHTML=r:t.appendChild(r);var n=t.firstChild;return e&&e.appendChild(n),n}function yk(r){var e=window.getComputedStyle(r);return["margin-left","margin-right"].reduce(function(t,n){return t+parseInt(e.getPropertyValue(n),10)},0)+r.offsetWidth}function Bo(r,e){var t;for(Rs(e)?t=function(n){return rie(n,e)}:t=function(n){return n===e};r&&r!==document;){if(Rm(r)&&t(r))return r;r=r.parentNode}return null}function Nx(r,e){for(var t=0,n=0;r&&r!==e;){var i=r.offsetTop,a=r.offsetLeft,s=r.offsetParent;if(t+=i,n+=a,s===e.offsetParent)break;r=r.offsetParent}return{offsetTop:t,offsetLeft:n}}function kk(r,e){Object.keys(r).forEach(function(t){v0(r[t])?e.removeAttribute(t):e.setAttribute(t,r[t])})}function mie(r){var e=r.replace(/<p><br\s*\/*><\/p>/gi,"<p></p>"),t=new RegExp(Sx,"ig"),n=e.match(t);return n?.forEach(function(i,a){if(m0.test(i)){var s=xx;if(a){var u=n[a-1],f=u.match(Tx);if(f&&!/br/i.test(f[1])){var p=f[1];s="</"+p+"><"+p+">"}}e=e.replace(m0,s)}}),e}function wk(r){var e=/<img class="ProseMirror-separator" alt="">/g,t=/ class="ProseMirror-trailingBreak"/g,n=r;return n=n.replace(e,""),n=n.replace(t,""),n}var Ox=new bh("widget"),Ob=5,gie=(function(){function r(e,t){var n=this;this.popup=null,this.removeWidget=function(){n.popup&&(n.rootEl.removeChild(n.popup),n.popup=null)},this.rootEl=e.dom.parentElement,this.eventEmitter=t,this.eventEmitter.listen("blur",this.removeWidget),this.eventEmitter.listen("loadUI",function(){n.rootEl=Bo(e.dom.parentElement,"."+Et("defaultUI"))}),this.eventEmitter.listen("removePopupWidget",this.removeWidget)}return r.prototype.update=function(e){var t=Ox.getState(e.state);if(this.removeWidget(),t){var n=t.node,i=t.style,a=e.coordsAtPos(t.pos),s=a.top,u=a.left,f=a.bottom,p=f-s,y=this.rootEl.getBoundingClientRect(),T=s-y.top;qo(n,{opacity:"0"}),this.rootEl.appendChild(n),qo(n,{position:"absolute",left:u-y.left+Ob+"px",top:(i==="bottom"?T+p-Ob:T-p)+"px",opacity:"1"}),this.popup=n,e.focus()}},r.prototype.destroy=function(){this.eventEmitter.removeEventHandler("blur",this.removeWidget)},r})();function yie(r){return new Xi({key:Ox,state:{init:function(){return null},apply:function(e){return e.getMeta("widget")}},view:function(e){return new gie(e,r)}})}function kie(r){r.listen("addImageBlobHook",function(e,t){var n=new FileReader;n.onload=function(i){var a=i.target;return t(a.result)},n.readAsDataURL(e)})}function bk(r,e,t){var n=function(i,a){r.emit("command","addImage",{imageUrl:i,altText:a||e.name||"image"})};r.emit("addImageBlobHook",e,n,t)}function Dx(r){var e=zo(r).filter(function(n){var i=n.type;return i.indexOf("image")!==-1});if(e.length===1){var t=e[0];if(t)return t.getAsFile()}return null}function wie(r){var e=r.eventEmitter;return new Xi({props:{handleDOMEvents:{drop:function(t,n){var i,a=(i=n.dataTransfer)===null||i===void 0?void 0:i.files;return a&&lf(a,function(s){return s.type.indexOf("image")!==-1?(n.preventDefault(),n.stopPropagation(),bk(e,s,n.type),!1):!0}),!0}}}})}var Hr=(function(){function r(){}return Object.defineProperty(r.prototype,"type",{get:function(){return"node"},enumerable:!1,configurable:!0}),r.prototype.setContext=function(e){this.context=e},r})();function Ax(r){var e=document.createElement("span"),t=gx(r.attrs.info,r.textContent);return e.className="tui-widget",e.appendChild(t),{dom:e}}function g0(r){return r.type.name==="widget"}var Lx=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"widget"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{info:{default:null}},group:"inline",inline:!0,content:"text*",selectable:!1,atom:!0,toDOM:function(){return["span",{class:"tui-widget"},0]},parseDOM:[{tag:"span.tui-widget",getAttrs:function(t){var n=t.textContent,i=n.match(/\$\$(widget\d+)/),a=i[1];return{info:a}}}]}},enumerable:!1,configurable:!0}),e})(Hr),Rx=(function(){function r(e){this.timer=null,this.el=document.createElement("div"),this.el.className="toastui-editor",this.eventEmitter=e,this.placeholder={text:""}}return r.prototype.createState=function(){return vu.create({schema:this.schema,plugins:this.createPlugins()})},r.prototype.initEvent=function(){var e=this,t=e.eventEmitter,n=e.view,i=e.editorType;n.dom.addEventListener("focus",function(){return t.emit("focus",i)}),n.dom.addEventListener("blur",function(){return t.emit("blur",i)})},r.prototype.emitChangeEvent=function(e){this.eventEmitter.emit("caretChange",this.editorType),e.docChanged&&this.eventEmitter.emit("change",this.editorType)},Object.defineProperty(r.prototype,"defaultPlugins",{get:function(){var e=this.createInputRules(),t=Qi(Qi([],this.keymaps),[yh(Fe({"Shift-Enter":vb.Enter},vb)),cx(),Kne(this.placeholder),yie(this.eventEmitter),wie(this.context)]);return e?t.concat(e):t},enumerable:!1,configurable:!0}),r.prototype.createInputRules=function(){var e=jne(),t=e.map(function(n){var i=n.rule;return new Sl(i,function(a,s,u,f){var p=a.schema,y=a.tr,T=a.doc,N=s.input.match(new RegExp(i,"g")),O=T.resolve(u),A=O.parent,z=0;if(g0(A)&&(A=O.node(O.depth-1)),A.forEach(function(ie){return g0(ie)&&(z+=1)}),N.length>z){var H=vi(N),j=Cu(H,p);return y.replaceWith(f-H.length+1,f,j)}return null})});return t.length?lx({rules:t}):null},r.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},r.prototype.createSchema=function(){return new nS({nodes:this.specs.nodes,marks:this.specs.marks})},r.prototype.createKeymaps=function(e){var t=kx(),n=t.undo,i=t.redo,a=this.specs.keymaps(e),s={"Mod-z":n(),"Shift-Mod-z":i()};return e?a.concat(yh(s)):a},r.prototype.createCommands=function(){return this.specs.commands(this.view)},r.prototype.createPluginProps=function(){var e=this;return this.extraPlugins.map(function(t){return t(e.eventEmitter)})},r.prototype.focus=function(){var e=this;this.clearTimer(),this.timer=setTimeout(function(){e.view.focus(),e.view.dispatch(e.view.state.tr.scrollIntoView())})},r.prototype.blur=function(){this.view.dom.blur()},r.prototype.destroy=function(){var e=this;this.clearTimer(),this.view.destroy(),Object.keys(this).forEach(function(t){delete e[t]})},r.prototype.moveCursorToStart=function(e){var t=this.view.state.tr;this.view.dispatch(t.setSelection(jr(t,1)).scrollIntoView()),e&&this.focus()},r.prototype.moveCursorToEnd=function(e){var t=this.view.state.tr;this.view.dispatch(t.setSelection(jr(t,t.doc.content.size-1)).scrollIntoView()),e&&this.focus()},r.prototype.setScrollTop=function(e){this.view.dom.scrollTop=e},r.prototype.getScrollTop=function(){return this.view.dom.scrollTop},r.prototype.setPlaceholder=function(e){this.placeholder.text=e,this.view.dispatch(this.view.state.tr.scrollIntoView())},r.prototype.setHeight=function(e){qo(this.el,{height:e+"px"})},r.prototype.setMinHeight=function(e){qo(this.el,{minHeight:e+"px"})},r.prototype.getElement=function(){return this.el},r})();function bie(r){return r instanceof Function}var Ea=bie,Cie=["Enter","Shift-Enter","Mod-Enter","Tab","Shift-Tab","Delete","Backspace","Mod-Delete","Mod-Backspace","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Mod-d","Mod-D","Alt-ArrowUp","Alt-ArrowDown"];function Sv(r,e,t){return r.focus(),e(t)(r.state,r.dispatch,r)}var Ix=(function(){function r(e){this.specs=e}return Object.defineProperty(r.prototype,"nodes",{get:function(){return this.specs.filter(function(e){return e.type==="node"}).reduce(function(e,t){var n,i=t.name,a=t.schema;return Fe(Fe({},e),(n={},n[i]=a,n))},{})},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"marks",{get:function(){return this.specs.filter(function(e){return e.type==="mark"}).reduce(function(e,t){var n,i=t.name,a=t.schema;return Fe(Fe({},e),(n={},n[i]=a,n))},{})},enumerable:!1,configurable:!0}),r.prototype.commands=function(e,t){var n=this.specs.filter(function(a){var s=a.commands;return s}).reduce(function(a,s){var u={},f=s.commands();return Ea(f)?u[s.name]=function(p){return Sv(e,f,p)}:Object.keys(f).forEach(function(p){u[p]=function(y){return Sv(e,f[p],y)}}),Fe(Fe({},a),u)},{}),i=kx();return Object.keys(i).forEach(function(a){n[a]=function(s){return Sv(e,i[a],s)}}),t&&Object.keys(t).forEach(function(a){n[a]=function(s){return Sv(e,t[a],s)}}),n},r.prototype.keymaps=function(e){var t=this.specs.filter(function(n){return n.keymaps}).map(function(n){return n.keymaps()});return t.map(function(n){return e||Object.keys(n).forEach(function(i){Yn(Cie,i)||delete n[i]}),yh(n)})},r.prototype.setContext=function(e){this.specs.forEach(function(t){t.setContext(e)})},r})();function Px(r){var e=r.from,t=r.to;return r instanceof Oi?[e+1,t-1]:[e,t]}function Db(r){return r.index(0)+1}function ff(r,e,t){t===void 0&&(t=1);var n=0;return r.forEach(function(i,a){g0(i)&&a+2<e&&(n+=2*t)}),n}function _v(r,e,t){t===void 0&&(t=e);var n=e===t,i=r.resolve(e),a=Db(i),s=a,u=i.start(1),f=u;if(!n){var p=r.resolve(t===r.content.size?t-1:t);f=p.start(1),s=Db(p),p.pos===r.content.size&&(t=r.content.size-2)}var y=Math.max(e-u+1,1),T=Math.max(t-f+1,1);return[[a,y+ff(r.child(a-1),y,-1)],[s,T+ff(r.child(s-1),T,-1)]]}function Bx(r,e){for(var t=[],n=0,i=0;n<e;n+=1){var a=r.child(n);t[n]=i,i+=a.nodeSize}return t}function du(r,e,t){var n=Bx(r,t[0]),i=e[0]-1,a=t[0]-1,s=r.child(i),u=r.child(a),f=n[i],p=n[a];return f+=e[1]+ff(s,e[1]-1),p+=t[1]+ff(u,t[1]-1),[f,Math.min(p,r.content.size)]}function Cn(r){var e=r.$from,t=r.$to,n=r.from,i=r.to,a=e.doc;return r instanceof Oi&&(e=a.resolve(n+1),t=a.resolve(i-1)),e.depth===0&&(e=a.resolve(n-1),t=e),{startFromOffset:e.start(1),endFromOffset:t.start(1),startToOffset:e.end(1),endToOffset:t.end(1),startIndex:e.index(0),endIndex:t.index(0),from:e.pos,to:t.pos}}function um(r,e){for(var t=1,n=1,i=0,a=0;i<r.childCount;i+=1){var s=r.child(i).nodeSize;if(t=a+1,n=a+s-1,i===e)break;a+=s}return{startOffset:t,endOffset:n}}var Ab="heading",Tie="blockQuote",Sie="listItem",xie="table",Eie="tableCell",Mie="codeBlock",Nie="thematicBreak",qv="link",xv="code",Im="meta",Au="delimiter",Oie="taskDelimiter",Ck="markedText",Die="html",Aie="customBlock",Lb={strong:2,emph:1,strike:2};function wr(r,e,t,n){return{start:r,end:e,spec:{type:t,attrs:n}}}function Lie(r,e,t){var n=r.level,i=r.headingType,a=[wr(e,t,Ab,{level:n})];return i==="atx"?a.push(wr(e,Rn(e,n),Au)):a.push(wr(wl(t,0),t,Ab,{seText:!0})),a}function Ny(r,e,t){var n=r.type,i=Rn(e,Lb[n]),a=Rn(t,-Lb[n]);return[wr(i,a,n),wr(e,i,Au),wr(a,t,Au)]}function Fx(r,e,t,n){return[wr(r,e,qv),wr(wl(r,t[1]+1),wl(e,n),qv,{desc:!0}),wr(wl(e,n+2),Rn(e,-1),qv,{url:!0})]}function Rie(r,e,t){var n=r.lastChild,i=n?kl(n)+1:3,a=Rn(e,1);return Qi([wr(e,a,Im)],Fx(e,t,a,i))}function Iie(r,e,t){var n=r.lastChild,i=r.extendedAutolink,a=n?kl(n)+1:2;return i?[wr(e,t,qv,{desc:!0})]:Fx(e,t,e,a)}function Pie(r,e,t){var n=r.tickCount,i=Rn(e,n),a=Rn(t,-n);return[wr(e,t,xv),wr(e,i,xv,{start:!0}),wr(i,a,xv,{marked:!0}),wr(a,t,xv,{end:!0})]}function _x(r,e,t,n){var i={start:e,end:t,spec:{attrs:{className:n+"-line-background",codeStart:e[0],codeEnd:t[0]}},lineBackground:!0};return r.type!=="item"&&r.type!=="blockQuote"?[Fe(Fe({},i),{end:e,spec:{attrs:{className:n+"-line-background start"}}}),Fe(Fe({},i),{start:[Math.min(e[0]+1,t[0]),e[1]]})]:null}function Bie(r,e,t,n){var i=r.fenceOffset,a=r.fenceLength,s=r.fenceChar,u=r.info,f=r.infoPadding,p=r.parent,y=i+a,T=[wr(wl(e,1),t,Mie)];s&&T.push(wr(e,Rn(e,y),Au)),u&&T.push(wr(Rn(e,a),Rn(e,a+f+u.length),Im));var N="^(\\s{0,4})("+s+"{"+a+",})",O=new RegExp(N);O.test(n)&&T.push(wr(wl(t,1),t,Au));var A=_x(p,e,t,"code-block");return A?T.concat(A):T}function Fie(r,e,t){var n=r,i=n.offset,a=n.syntaxLength,s=n.info,u=n.parent,f=i+a,p=[wr(wl(e,1),t,Aie)];p.push(wr(e,Rn(e,f),Au)),s&&p.push(wr(Rn(e,f),Rn(e,a+s.length),Im)),p.push(wr(wl(t,1),t,Au));var y=_x(u,e,t,"custom-block");return y?p.concat(y):p}function qx(r,e){for(var t=[];r;){var n=r.type;(n==="paragraph"||n==="codeBlock")&&t.push(wr([Eh(r),Am(r)-1],[Dm(r),kl(r)+1],e)),r=r.next}return t}function _ie(r){for(var e=[];r;)e.push(wr([Eh(r),Am(r)],[Dm(r),kl(r)+1],Ck)),r=r.next;return e}function qie(r,e,t){var n=r.parent&&r.parent.type!=="blockQuote"?[wr(e,t,Tie)]:[];if(r.firstChild){var i=[];r.firstChild.type==="paragraph"?i=_ie(r.firstChild.firstChild):r.firstChild.type==="list"&&(i=qx(r.firstChild,Ck)),n=Qi(Qi([],n),i)}return n}function zie(r){for(var e=0;r.parent.parent&&r.parent.parent.type==="item";)r=r.parent.parent,e+=1;var t=[{odd:!0},{even:!0}][e%2];return[Sie,Fe(Fe({},t),{listStyle:!0})]}function Hie(r,e){var t=r.listData,n=t.padding,i=t.task,a=zie(r),s=[wr.apply(void 0,Qi([e,Rn(e,n)],a))];return i&&(s.push(wr(Rn(e,n),Rn(e,n+3),Oie)),s.push(wr(Rn(e,n+1),Rn(e,n+2),Im))),s.concat(qx(r.firstChild,Ck))}var Rb={heading:Lie,strong:Ny,emph:Ny,strike:Ny,link:Iie,image:Rie,code:Pie,codeBlock:Bie,blockQuote:qie,item:Hie,customBlock:Fie},Ib={thematicBreak:Nie,table:xie,tableCell:Eie,htmlInline:Die};function Vie(r,e,t,n){var i=r.type;return Ea(Rb[i])?Rb[i](r,e,t,n):Ib[i]?[wr(e,t,Ib[i])]:null}var wh={};function $ie(r){var e=r.schema,t=r.toastMark;return new Xi({appendTransaction:function(n,i,a){var s=n[0],u=a.tr;if(s.docChanged){var f=[],p=s.getMeta("editResult");p.forEach(function(y){var T=y.nodes,N=y.removedNodeRange;if(T.length){f=f.concat(Jie(u,T));for(var O=0,A=T;O<A.length;O++)for(var z=A[O],H=z.walker(),j=H.next();j;){var ie=j.node,le=j.entering;le&&(f=f.concat(Qie(ie,t))),j=H.next()}}else if(N)for(var ve=u.doc.childCount-1,be=N.line,me=be[0],Ee=be[1],Ce=Math.min(me,ve),_e=Math.min(Ee,ve),We=Ce;We<=_e;We+=1)wh[We]=!0}),jie(u,e,f)}return u.setMeta("widget",s.getMeta("widget"))}})}function Uie(r,e,t){return Object.keys(t).some(function(n){return t[n]!==r.child(e).attrs[n]})}function Wie(r,e,t,n,i){i===void 0&&(i={});for(var a=n.startIndex,s=n.endIndex,u=n.from,f=n.to,p=!1,y=a;y<=s;y+=1)delete wh[y],p=Uie(e,y,i);p&&r.setBlockType(u,f,t,i)}function jie(r,e,t){var n=r.doc,i=e.nodes.paragraph,a=Bx(n,n.childCount);t.forEach(function(s){var u=s.start,f=s.end,p=s.spec,y=s.lineBackground,T=Math.min(u[0],n.childCount)-1,N=Math.min(f[0],n.childCount)-1,O=n.child(T),A=n.child(N),z=a[T],H=a[N];if(z+=u[1]+ff(O,u[1]-1),H+=f[1]+ff(A,f[1]-1),p)if(y){var j={from:z,to:H,startIndex:T,endIndex:N};Wie(r,n,i,j,p.attrs)}else r.addMark(z,H,e.mark(p.type,p.attrs));else r.removeMark(z,H)}),Gie(r,a,i)}function Gie(r,e,t){Object.keys(wh).forEach(function(n){var i=Number(n),a=Math.min(Number(n)+1,r.doc.childCount-1),s=e[i],u=e[a]-1;i===a&&(u+=2),r.setBlockType(s,u,t)})}function Kie(r,e,t){var n=[];wh={};for(var i=e[0]-1;i<t[0];i+=1){var a=r.child(i),s=a.attrs.codeEnd,u=a.attrs.codeStart;if(u&&s&&!Yn(n,u)){n.push(u),s=Math.min(s,r.childCount);for(var f=u-1,p=t[0],y=f;y<p;y+=1)wh[y]=!0}}}function Jie(r,e){var t=r.doc,n=e[0].sourcepos[0],i=vi(e).sourcepos,a=i[1],s=[n[0],n[1]],u=[a[0],a[1]+1],f=[];return Kie(t,n,a),f.push({start:s,end:u}),f}function Qie(r,e){var t=e.getLineTexts(),n=[Eh(r),Am(r)],i=[Dm(r),kl(r)+1],a=Vie(r,n,i,t[i[0]-1]);return a??[]}var Xie=["taskList","orderedList","bulletList","table","strong","emph","strike","heading","thematicBreak","blockQuote","code","codeBlock","indent","outdent"];function Yie(r){var e=r.type;return Ou(r)?r.listData.task?"taskList":r.listData.type==="ordered"?"orderedList":"bulletList":e.indexOf("table")!==-1?"table":Yn(Xie,e)?e:null}function Zie(r){var e={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}},t=!0;return Vne(r,function(n){var i=Yie(n);i&&(i==="bulletList"||i==="orderedList"?t&&(e[i]={active:!0},e.indent.disabled=!1,e.outdent.disabled=!1,t=!1):e[i]={active:!0})}),e}function eae(r){var e=r.toastMark,t=r.eventEmitter;return new Xi({view:function(){return{update:function(n,i){var a=n.state,s=a.doc,u=a.selection;if(!(i&&i.doc.eq(s)&&i.selection.eq(u))){var f=u.from,p=a.doc.resolve(f).start(),y=a.doc.content.findIndex(f).index+1,T=f-p;f===p&&(T+=1);var N=[y,T],O=e.findNodeAtPosition(N),A=Zie(O);t.emit("changeToolbarState",{cursorPos:N,mdNode:O,toolbarState:A}),t.emit("setFocusedNode",O)}}}}})}var tae=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e})(Hr),Gr=(function(){function r(){}return Object.defineProperty(r.prototype,"type",{get:function(){return"mark"},enumerable:!1,configurable:!0}),r.prototype.setContext=function(e){this.context=e},r})();function fa(r,e){return Cl(r,e-1)}function Cl(r,e){return r.child(e).textContent}var nh=/^\s*> ?/,rae=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Tn("block-quote")},0]}}},enumerable:!1,configurable:!0}),e.prototype.createBlockQuoteText=function(t,n){return n?t.replace(nh,"").trim():"> "+t.trim()},e.prototype.extendBlockQuote=function(){var t=this;return function(n,i){var a=n.selection,s=n.doc,u=n.tr,f=n.schema,p=Cn(a),y=p.endFromOffset,T=p.endToOffset,N=p.endIndex,O=p.to,A=Cl(s,N),z=nh.test(A);if(z&&O>y&&a.empty){var H=!A.replace(nh,"").trim();if(H)u.deleteRange(y,T).split(u.mapping.map(T));else{var j=A.slice(O-y).trim(),ie=Xn(f,t.createBlockQuoteText(j));vk(u,T,j,ie)}return i(u),!0}return!1}},e.prototype.commands=function(){var t=this;return function(){return function(n,i){var a=n.selection,s=n.doc,u=Cn(a),f=u.startFromOffset,p=u.endToOffset,y=u.startIndex,T=u.endIndex,N=nh.test(Cl(s,y)),O=lm({state:n,startIndex:y,endIndex:T,from:f,createText:function(A){return t.createBlockQuoteText(A,N)}});return i(O.setSelection(jr(O,O.mapping.map(p)))),!0}}},e.prototype.keymaps=function(){var t=this.commands()();return{"alt-q":t,"alt-Q":t,Enter:this.extendBlockQuote()}},e})(Gr),Lu=/(^\s*)([-*+] |[\d]+\. )/,Tk=/(^\s*)([\d])+\.( \[[ xX]])? /,Ds=/^(\s*)((\d+)([.)]\s(?:\[(?:x|\s)\]\s)?))(.*)/,cm=/(^\s*)([-*+]|[\d]+\.)( \[[ xX]])? /,nae=/^(\s*)([-*+]+(\s(?:\[(?:x|\s)\]\s)?))(.*)/,iae=/(^\s*)([-*+] |[\d]+\. )(\[[ xX]] )/,aae=/(^\s*)([-*+])( \[[ xX]]) /;function Sk(r){return Tk.test(r)?"ordered":"bullet"}function xk(r){for(var e=0;r&&r.type!=="document";)r.type==="list"&&(e+=1),r=r.parent;return e}function y0(r,e,t,n){for(var i=r.getLineTexts(),a=i.length,s=[],u=e;n?u<a:u>1;){u=n?u+1:u-1;var f=r.findFirstNodeAtLine(u),p=xk(f);if(p===t)s.push({line:u,depth:t,mdNode:f});else if(p<t)break}return s}function oae(r){var e=r.toastMark,t=r.mdNode,n=r.line,i=xk(t),a=y0(e,n,i,!1).reverse(),s=y0(e,n,i,!0);return a.concat([{line:n,depth:i,mdNode:t}]).concat(s)}function sae(r){if(!Lu.test(r))return"* "+r;var e=Sk(r);return e==="bullet"&&cm.test(r)?r=r.replace(aae,"$1$2 "):e==="ordered"&&(r=r.replace(Tk,"$1* ")),r}function lae(r,e){if(!Lu.test(r))return e+". "+r;var t=Sk(r);if(t==="bullet"||t==="ordered"&&cm.test(r))r=r.replace(cm,"$1"+e+". ");else if(t==="ordered"){var n=Ds.exec(r)[3];Number(n)!==e&&(r=r.replace(Tk,"$1"+e+". "))}return r}function zx(r,e,t,n){n===void 0&&(n=0);var i=Number.MAX_VALUE,a=0,s=e.map(function(u,f){var p=u.line;i=Math.min(p-1,i),a=Math.max(p-1,a);var y=fa(r,p);return y=t==="bullet"?sae(y):lae(y,f+1+n),{text:y,line:p}});return{changedResults:s,firstIndex:i,lastIndex:a}}function Pb(r,e){var t=oae(e);return zx(e.doc,t,r)}var uae={bullet:function(r){return Pb("bullet",r)},ordered:function(r){return Pb("ordered",r)},task:function(r){var e=r.mdNode,t=r.doc,n=r.line,i=fa(t,n);return e.listData.task?i=i.replace(iae,"$1$2"):Ou(e)&&(i=i.replace(Lu,"$1$2[ ] ")),{changedResults:[{text:i,line:n}]}}},cae={bullet:function(r){var e=r.doc,t=r.line,n=fa(e,t),i=[{text:"* "+n,line:t}];return{changedResults:i}},ordered:function(r){for(var e=r.toastMark,t=r.doc,n=r.line,i=r.startLine,a=fa(t,n),s=1,u=i,f=0,p=i-1;p>0;p-=1){var y=e.findFirstNodeAtLine(p),T=fa(t,p),N=T&&!!uf(y,function(le){return Ou(le)}),O=Ds.exec(fa(t,p));if(!O&&!N)break;if(!O&&N){f+=1;continue}var A=O,z=A[1],H=A[3];if(!z){s=Number(H),u=p;break}}var j=s+n-u-f,ie=[{text:j+". "+a,line:n}];return{changedResults:ie}},task:function(r){var e=r.doc,t=r.line,n=fa(e,t),i=[{text:"* [ ] "+n,line:t}];return{changedResults:i}}},fae={bullet:function(r){var e=r.line,t=r.doc,n=fa(t,e),i=nae.exec(n),a=i[1],s=i[2];return{listSyntax:""+a+s}},ordered:function(r){var e=r.toastMark,t=r.line,n=r.mdNode,i=r.doc,a=xk(n),s=fa(i,t),u=Ds.exec(s),f=u[1],p=u[3],y=u[4],T=Number(p)+1,N=""+f+T+y,O=y0(e,t,a,!0),A=O.filter(function(z){var H=Ds.exec(fa(i,z.line));return H&&H[1].length===f.length&&!!uf(z.mdNode,function(j){return px(j)})});return Fe({listSyntax:N},zx(i,A,"ordered",T))}};function Hx(r,e,t,n,i){for(var a=[],s=fa(r,t),u=Ds.exec(s);u;){var f=u[1],p=u[4],y=u[5],T=f.length;if(T===i)a.push(Xn(e,""+f+n+p+y)),n+=1,t+=1;else if(T>i){var N=Hx(r,e,t,1,T);t=N.line,a=a.concat(N.nodes)}if(T<i||t>r.childCount)break;s=fa(r,t),u=Ds.exec(s)}return{nodes:a,line:t}}var Bb=/(^\s{1,4})(.*)/;function Fb(r,e,t){return r<e||Lu.test(t)||nh.test(t)}function _b(r,e,t){var n=t.$from;n.depth===0&&(n=r.resolve(n.pos-1));var i=n.node(1),a=n.start(1),s=i.content.size;return i.rangeHasMark(0,s,e.marks.table)&&n.pos-a!==s&&n.pos!==a}function qb(r,e){var t=e.from,n=e.to;if(e.type==="indent"){var i=4;t+=i,n+=(e.lineLen+1)*i}else{var a=e.spaceLenList;t-=a[0];for(var s=0;s<a.length;s+=1)n-=a[s]}return jr(r,t,n)}var dae=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",attrs:{className:{default:null},codeStart:{default:null},codeEnd:{default:null}},selectable:!1,group:"block",parseDOM:[{tag:"div"}],toDOM:function(t){var n=t.attrs;return n.className?["div",{class:Tn(n.className)},0]:["div",0]}}},enumerable:!1,configurable:!0}),e.prototype.reorderList=function(t,n){for(var i=this.context,a=i.view,s=i.toastMark,u=i.schema,f=a.state,p=f.tr,y=f.selection,T=f.doc,N=s.findFirstNodeAtLine(t),O=N;N&&!zne(N)&&N.parent.type!=="document";)if(N=N.parent,px(N)){O=N;break}O&&(t=O.sourcepos[0][0]);var A=Ds.exec(fa(T,t)),z=A[1],H=A[3],j=z.length,ie=Hx(T,u,t,Number(H),j),le=ie.line,ve=ie.nodes;n=Math.max(n,le-1);for(var be=um(T,t-1).startOffset,me=t-1;me<=n-1;me+=1){var Ee=T.child(me),Ce=Ee.nodeSize,_e=Ee.content,We=p.mapping.map(be),Mt=We+_e.size;p.replaceWith(We,Mt,ve[me-t+1]),be+=Ce}var tt=jr(p,y.from,y.to);a.dispatch(p.setSelection(tt))},e.prototype.indent=function(t){var n=this;return t===void 0&&(t=!1),function(){return function(i,a){var s=i.schema,u=i.selection,f=i.doc,p=Cn(u),y=p.from,T=p.to,N=p.startFromOffset,O=p.startIndex,A=p.endIndex;if(t&&_b(f,s,u))return!1;var z=Cl(f,O);if(t&&Fb(y,T,z)||!t&&Lu.test(z)){var H=lm({state:i,from:N,startIndex:O,endIndex:A,createText:function(ie){return"    "+ie}}),j={type:"indent",from:y,to:T,lineLen:A-O};a(H.setSelection(qb(H,j))),Ds.test(z)&&n.reorderList(O+1,A+1)}else t&&a(i.tr.insert(T,Xn(s,"    ")));return!0}}},e.prototype.outdent=function(t){var n=this;return t===void 0&&(t=!1),function(){return function(i,a){var s=i.selection,u=i.doc,f=i.schema,p=Cn(s),y=p.from,T=p.to,N=p.startFromOffset,O=p.startIndex,A=p.endIndex;if(t&&_b(u,f,s))return!1;var z=Cl(u,O);if(t&&Fb(y,T,z)||!t&&Lu.test(z)){var H=[],j=lm({state:i,from:N,startIndex:O,endIndex:A,createText:function(me){var Ee=Bb.exec(me);return H.push(Ee?Ee[1].length:0),me.replace(Bb,"$2")}}),ie={type:"outdent",from:y,to:T,spaceLenList:H};a(j.setSelection(qb(j,ie))),Ds.test(z)&&n.reorderList(O+1,A+1)}else if(t){var le=z.slice(0,T-N),ve=le.replace(/\s{1,4}$/,""),be=T-(le.length-ve.length);a(i.tr.delete(be,T))}return!0}}},e.prototype.deleteLines=function(){var t=this;return function(n,i){var a=t.context.view,s=Cn(n.selection),u=s.startFromOffset,f=s.endToOffset,p=function(){return i(n.tr.deleteRange(u,f)),!0};return Nm(p,tx)(n,i,a)}},e.prototype.moveDown=function(){return function(t,n){var i=t.doc,a=t.tr,s=t.selection,u=t.schema,f=Cn(s),p=f.startFromOffset,y=f.endToOffset,T=f.endIndex;if(T<i.content.childCount-1){var N=i.child(T+1),O=N.nodeSize,A=N.textContent;return a.delete(y,y+O).split(p).insert(a.mapping.map(p)-2,Xn(u,A)),n(a),!0}return!1}},e.prototype.moveUp=function(){return function(t,n){var i=t.tr,a=t.doc,s=t.selection,u=t.schema,f=Cn(s),p=f.startFromOffset,y=f.endToOffset,T=f.startIndex;if(T>0){var N=a.child(T-1),O=N.nodeSize,A=N.textContent;return i.delete(p-O,p).split(i.mapping.map(y)).insert(i.mapping.map(y),Xn(u,A)),n(i),!0}return!1}},e.prototype.commands=function(){return{indent:this.indent(),outdent:this.outdent()}},e.prototype.keymaps=function(){return{Tab:this.indent(!0)(),"Shift-Tab":this.outdent(!0)(),"Mod-d":this.deleteLines(),"Mod-D":this.deleteLines(),"Alt-ArrowUp":this.moveUp(),"Alt-ArrowDown":this.moveDown()}},e})(Hr),hae=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e})(Hr),pae=/^#{1,6}\s/,vae=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{level:{default:1},seText:{default:!1}},toDOM:function(t){var n=t.attrs,i=n.level,a=n.seText,s="heading|heading"+i;return a&&(s+="|delimiter|setext"),["span",{class:Tn.apply(void 0,s.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.createHeadingText=function(t,n,i){for(var a=n.replace(i,"").trim(),s="";t>0;)s+="#",t-=1;return s+" "+a},e.prototype.commands=function(){var t=this;return function(n){return function(i,a){var s=n.level,u=Cn(i.selection),f=u.startFromOffset,p=u.endToOffset,y=u.startIndex,T=u.endIndex,N=lm({state:i,from:f,startIndex:y,endIndex:T,createText:function(O){var A=O.match(pae),z=A?A[0]:"";return t.createHeadingText(s,O,z)}});return a(N.setSelection(jr(N,N.mapping.map(p)))),!0}}},e})(Gr),Oy="```",mae=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Tn("code-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){var i=t.selection,a=t.schema,s=t.tr,u=Cn(i),f=u.startFromOffset,p=u.endToOffset,y=Xn(a,Oy);return s.insert(f,y).split(f+Oy.length),s.split(s.mapping.map(p)).insert(s.mapping.map(p),y),n(s.setSelection(jr(s,s.mapping.map(p)-(Oy.length+2)))),!0}}},e.prototype.keepIndentation=function(){var t=this;return function(n,i){var a=n.selection,s=n.tr,u=n.doc,f=n.schema,p=t.context.toastMark,y=Cn(a),T=y.startFromOffset,N=y.endToOffset,O=y.endIndex,A=y.from,z=y.to,H=Cl(u,O);if(A===z&&H.trim()){var j=H.match(/^\s+/),ie=p.findFirstNodeAtLine(O+1);if(qne(ie)&&j){var le=j[0],ve=H.slice(z-T),be=Xn(f,le+ve);return vk(s,N,ve,be),i(s),!0}}return!1}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-p":t,"Shift-Mod-P":t,Enter:this.keepIndentation()}},e})(Gr),gae=/\||\s/g;function yae(r){return[fm(r),fm(r,!0)]}function kae(r,e){for(var t=[],n=0;n<e;n+=1)t.push(fm(r));return t}function fm(r,e){for(var t="|",n=0;n<r;n+=1)t+=e?" --- |":"  |";return t}function wae(r){return r?{type:"next",parentType:"tableHead",childType:"firstChild"}:{type:"prev",parentType:"tableBody",childType:"lastChild"}}var bae=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Tn("table")},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendTable=function(){var t=this;return function(n,i){var a=n.selection,s=n.doc,u=n.tr,f=n.schema;if(!a.empty)return!1;var p=Cn(a),y=p.endFromOffset,T=p.endToOffset,N=p.endIndex,O=p.to,A=Cl(s,N),z=[N+1,O-y+1],H=t.context.toastMark.findNodeAtPosition(z),j=uf(H,function(me){return Mb(me)&&(me.parent.type==="tableDelimRow"||me.parent.parent.type==="tableBody")});if(j){var ie=!A.replace(gae,"").trim(),le=j.parent,ve=le.parent.parent.columns.length,be=fm(ve);return ie?u.deleteRange(y,T).split(u.mapping.map(T)):u.split(T).insert(u.mapping.map(T),Xn(f,be)).setSelection(jr(u,u.mapping.map(T)-2)),i(u),!0}return!1}},e.prototype.moveTableCell=function(t){var n=this;return function(i,a){var s=i.selection,u=i.tr,f=Cn(s),p=f.endFromOffset,y=f.endIndex,T=f.to,N=[y+1,T-p],O=n.context.toastMark.findNodeAtPosition(N),A=uf(O,function(Ee){return Mb(Ee)});if(A){var z=A.parent,H=wae(t),j=H.type,ie=H.parentType,le=H.childType,ve=kl(A);if(A[j])ve=kl(A[j])-1;else{var be=!z[j]&&z.parent.type===ie?z.parent[j][le]:z[j];if(j==="next"){var me=be?kl(be[le]):0;ve+=me+2}else j==="prev"&&(ve=be?-4:0)}return a(u.setSelection(jr(u,p+ve))),!0}return!1}},e.prototype.addTable=function(){return function(t){return function(n,i){var a=n.selection,s=n.tr,u=n.schema,f=t,p=f.columnCount,y=f.rowCount,T=Cn(a).endToOffset,N=yae(p),O=kae(p,y-1),A=Qi(Qi([],N),O);return A.forEach(function(z){s.split(s.mapping.map(T)).insert(s.mapping.map(T),Xn(u,z))}),i(s.setSelection(jr(s,T+4))),!0}}},e.prototype.commands=function(){return{addTable:this.addTable()}},e.prototype.keymaps=function(){return{Enter:this.extendTable(),Tab:this.moveTableCell(!0),"Shift-Tab":this.moveTableCell(!1)}},e})(Gr),Cae="***",Tae=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Tn("thematic-break")},0]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){return function(){return function(t,n){var i=t.selection,a=t.schema,s=t.tr,u=Cn(i),f=u.from,p=u.to,y=u.endToOffset,T=Xn(a,Cae);return s.split(f).replaceWith(s.mapping.map(f),s.mapping.map(p),T).split(s.mapping.map(p)).setSelection(jr(s,s.mapping.map(y))),n(s),!0}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var t=this.hr()();return{"Mod-l":t,"Mod-L":t}},e})(Gr);function Sae(r,e){var t=r.type,n=r.sourcepos,i=n[0][0];return e<=i&&(t==="codeBlock"||t==="heading"||t.match("table"))}var xae=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{odd:{default:!1},even:{default:!1},listStyle:{default:!1}},toDOM:function(t){var n=t.attrs,i=n.odd,a=n.even,s=n.listStyle,u="list-item";return s&&(u+="|list-item-style"),i&&(u+="|list-item-odd"),a&&(u+="|list-item-even"),["span",{class:Tn.apply(void 0,u.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendList=function(){var t=this;return function(n,i){var a=n.selection,s=n.doc,u=n.schema,f=n.tr,p=t.context.toastMark,y=Cn(a),T=y.to,N=y.startFromOffset,O=y.endFromOffset,A=y.endIndex,z=y.endToOffset,H=Cl(s,A),j=Lu.test(H);if(!j||a.from===N||!a.empty)return!1;var ie=!H.replace(cm,"").trim();if(ie)f.deleteRange(O,z).split(f.mapping.map(z));else{var le=Sk(H),ve=p.findFirstNodeAtLine(A+1),be=H.slice(T-O),me={toastMark:p,mdNode:ve,doc:s,line:A+1},Ee=fae[le](me),Ce=Ee.listSyntax,_e=Ee.changedResults;if(_e?.length){f.split(T),_e.unshift({text:Ce+be,line:A+1}),t.changeToListPerLine(f,_e,{from:T,startLine:_e[0].line,endLine:vi(_e).line});var We=f.mapping.map(z)-be.length;f.setSelection(jr(f,We))}else{var Mt=Xn(u,Ce+be);vk(f,z,be,Mt)}}return i(f),!0}},e.prototype.toList=function(t){var n=this;return function(){return function(i,a){for(var s=i.doc,u=i.tr,f=i.selection,p=n.context.toastMark,y=Cn(f),T=y.startIndex+1,N=y.endIndex+1,O=y.endToOffset,A=[],z=T;z<=N;z+=1){var H=p.findFirstNodeAtLine(z);if(H&&Sae(H,z))break;if(A.indexOf(z)===-1){var j={toastMark:p,mdNode:H,doc:s,line:z,startLine:T},ie=(Ou(H)?uae[t](j):cae[t](j)).changedResults,le=n.changeToListPerLine(u,ie,{from:um(s,ie[0].line-1).startOffset,startLine:ie[0].line,endLine:vi(ie).line,indexDiff:1});O=Math.max(le,O),ie&&(A=A.concat(ie.map(function(ve){return ve.line})))}}return a(u.setSelection(jr(u,u.mapping.map(O)))),!0}}},e.prototype.changeToListPerLine=function(t,n,i){for(var a=i.from,s=i.startLine,u=i.endLine,f=i.indexDiff,p=f===void 0?0:f,y=0,T=function(A){var z=t.doc.child(A),H=z.nodeSize,j=z.content,ie=t.mapping.map(a),le=ie+j.size,ve=n.filter(function(be){return be.line-p===A})[0];ve&&(t.replaceWith(ie,le,Xn(N.context.schema,ve.text)),y=Math.max(y,a+j.size)),a+=H},N=this,O=s-p;O<=u-p;O+=1)T(O);return y},e.prototype.toggleTask=function(){var t=this;return function(n,i){for(var a=n.selection,s=n.tr,u=n.doc,f=n.schema,p=t.context.toastMark,y=Cn(a),T=y.startIndex,N=y.endIndex,O=null,A=T;A<=N;A+=1){var z=p.findFirstNodeAtLine(A+1);if(Ou(z)&&z.listData.task){var H=z.listData,j=H.checked,ie=H.padding,le=j?" ":"x",ve=z.sourcepos[0],be=um(u,ve[0]-1).startOffset;be+=ve[1]+ie,O=s.replaceWith(be,be+1,f.text(le))}}return O?(i(O),!0):!1}},e.prototype.commands=function(){return{bulletList:this.toList("bullet"),orderedList:this.toList("ordered"),taskList:this.toList("task")}},e.prototype.keymaps=function(){var t=this.toList("bullet")(),n=this.toList("ordered")(),i=this.toList("task")(),a=this.toggleTask();return{"Mod-u":t,"Mod-U":t,"Mod-o":n,"Mod-O":n,"alt-t":i,"alt-T":i,"Shift-Ctrl-x":a,"Shift-Ctrl-X":a,Enter:this.extendList()}},e})(Gr);function Pm(r,e){return function(){return function(t,n){var i=t.tr,a=t.selection,s=Ea(r)?r:function(le){return r.test(le)},u=e.length,f=i.doc,p=Px(a),y=p[0],T=p[1],N=Math.max(y-u,1),O=Math.min(T+u,f.content.size-1),A=a.content(),z=A.content.textBetween(0,A.content.size,`
`),H=f.textBetween(N,y,`
`),j=f.textBetween(T,O,`
`);if(z=""+H+z+j,H&&j&&s(z))i.delete(O-u,O).delete(N,N+u);else{i.insertText(e,T).insertText(e,y);var ie=a.empty?jr(i,y+u):jr(i,y+u,T+u);i.setSelection(ie)}return n(i),!0}}}var Eae=/^(\*{2}|_{2}).*([\s\S]*)\1$/m,Mae="**",Nae=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Tn("strong")},0]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return Pm(Eae,Mae)},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var t=this.bold()();return{"Mod-b":t,"Mod-B":t}},e})(Gr),Oae=/^(~{2}).*([\s\S]*)\1$/m,Dae="~~",Aae=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Tn("strike")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return Pm(Oae,Dae)},e.prototype.keymaps=function(){var t=this.commands()();return{"Mod-s":t,"Mod-S":t}},e})(Gr),Lae=/^(\*|_).*([\s\S]*)\1$/m,Rae="*",Iae=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Tn("emph")},0]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return Pm(Lae,Rae)},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var t=this.italic()();return{"Mod-i":t,"Mod-I":t}},e})(Gr),Pae=/^(`).*([\s\S]*)\1$/m,Bae="`",Fae=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{start:{default:!1},end:{default:!1},marked:{default:!1}},toDOM:function(t){var n=t.attrs,i=n.start,a=n.end,s=n.marked,u="code";return i&&(u+="|delimiter|start"),a&&(u+="|delimiter|end"),s&&(u+="|marked-text"),["span",{class:Tn.apply(void 0,u.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return Pm(Pae,Bae)},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-c":t,"Shift-Mod-C":t}},e})(Gr),_ae=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{url:{default:!1},desc:{default:!1}},toDOM:function(t){var n=t.attrs,i=n.url,a=n.desc,s="link";return i&&(s+="|link-url|marked-text"),a&&(s+="|link-desc|marked-text"),["span",{class:Tn.apply(void 0,s.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.addLinkOrImage=function(t){return function(n){return function(i,a){var s=i.selection,u=i.tr,f=i.schema,p=Px(s),y=p[0],T=p[1],N=n,O=N.linkText,A=N.altText,z=N.linkUrl,H=N.imageUrl,j=O,ie=z,le="";return t==="image"&&(j=A,ie=H,le="!"),j=am(j),le+="["+j+"]("+ie+")",a(u.replaceWith(y,T,Xn(f,le))),!0}}},e.prototype.commands=function(){return{addImage:this.addLinkOrImage("image"),addLink:this.addLinkOrImage("link")}},e})(Gr),qae=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"taskDelimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Tn("delimiter","list-item")},0]}}},enumerable:!1,configurable:!0}),e})(Gr),zae=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"delimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Tn("delimiter")},0]}}},enumerable:!1,configurable:!0}),e})(Gr),Hae=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"meta"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Tn("meta")},0]}}},enumerable:!1,configurable:!0}),e})(Gr),Vae=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"markedText"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Tn("marked-text")},0]}}},enumerable:!1,configurable:!0}),e})(Gr),$ae=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Tn("table-cell")},0]}}},enumerable:!1,configurable:!0}),e})(Gr),Uae=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"html"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Tn("html")},0]}}},enumerable:!1,configurable:!0}),e})(Gr),Dy="$$",Wae=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Tn("custom-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(n,i){var a=n.selection,s=n.schema,u=n.tr,f=Cn(a),p=f.startFromOffset,y=f.endToOffset;if(!t?.info)return!1;var T=""+Dy+t.info,N=Xn(s,T),O=Xn(s,Dy);return u.insert(p,N).split(p+T.length),u.split(u.mapping.map(y)).insert(u.mapping.map(y),O),i(u.setSelection(jr(u,u.mapping.map(y)-(Dy.length+2)))),!0}}},e})(Gr),jae=/x|backspace/i,Gae=/^\[(\s*)(x?)(\s*)\](?:\s+)/i;function Kae(r){var e=r.schema,t=r.toastMark;return new Xi({props:{handleDOMEvents:{keyup:function(n,i){var a,s=n.state,u=s.doc,f=s.tr,p=s.selection;if(p.empty&&jae.test(i.key)){var y=Cn(p),T=y.startIndex,N=y.startFromOffset,O=y.from,A=[T+1,O-N+1],z=t.findNodeAtPosition(A),H=uf(z,function(Mt){var tt;return Mt.type==="paragraph"&&((tt=Mt.parent)===null||tt===void 0?void 0:tt.type)==="item"});if(!((a=H?.firstChild)===null||a===void 0)&&a.literal){var j=H.firstChild,ie=j.literal.match(Gae);if(ie){var le=j.sourcepos[0],ve=ie[1],be=ie[2],me=ie[3],Ee=ve.length+me.length,Ce=um(u,le[0]-1).startOffset,_e=le[1]+Ce;if(be){var We=Ee?Ee+1:0;f.replaceWith(_e,We+_e,e.text(be)),n.dispatch(f)}else Ee||(f.insertText(" ",_e),n.dispatch(f))}}}return!1}}}})}var Ay="cut",zb=/\r\n|\n|\r/,Jae=(function(r){wt(e,r);function e(t,n){var i=r.call(this,t)||this,a=n.toastMark,s=n.useCommandShortcut,u=s===void 0?!0:s,f=n.mdPlugins,p=f===void 0?[]:f;return i.editorType="markdown",i.el.classList.add("md-mode"),i.toastMark=a,i.extraPlugins=p,i.specs=i.createSpecs(),i.schema=i.createSchema(),i.context=i.createContext(),i.keymaps=i.createKeymaps(u),i.view=i.createView(),i.commands=i.createCommands(),i.specs.setContext(Fe(Fe({},i.context),{view:i.view})),i.createClipboard(),i.eventEmitter.listen("changePreviewTabWrite",function(y){return i.toggleActive(!0,y)}),i.eventEmitter.listen("changePreviewTabPreview",function(){return i.toggleActive(!1)}),i.initEvent(),i}return e.prototype.toggleActive=function(t,n){gk(this.el,"active",t),t?n||this.focus():this.blur()},e.prototype.createClipboard=function(){var t=this;this.clipboard=document.createElement("textarea"),this.clipboard.className=Et("pseudo-clipboard"),this.clipboard.addEventListener("paste",function(n){var i=n.clipboardData||window.clipboardData,a=i&&i.items;if(a){var s=zo(a).some(function(f){return f.kind==="string"&&f.type==="text/rtf"});if(!s){var u=Dx(a);u&&(n.preventDefault(),bk(t.eventEmitter,u,n.type))}}}),this.clipboard.addEventListener("input",function(n){var i=n.target.value;t.replaceSelection(i),n.preventDefault(),n.target.value=""}),this.el.insertBefore(this.clipboard,this.view.dom)},e.prototype.createContext=function(){return{toastMark:this.toastMark,schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSpecs=function(){return new Ix([new tae,new dae,new Lx,new hae,new vae,new rae,new mae,new Wae,new bae,new $ae,new Tae,new xae,new Nae,new Aae,new Iae,new Fae,new _ae,new zae,new qae,new Vae,new Hae,new Uae])},e.prototype.createPlugins=function(){return Qi([$ie(this.context),eae(this.context),Kae(this.context)],this.createPluginProps()).concat(this.defaultPlugins)},e.prototype.createView=function(){var t=this;return new Mm(this.el,{state:this.createState(),dispatchTransaction:function(n){t.updateMarkdown(n);var i=t.view.state.applyTransaction(n).state;t.view.updateState(i),t.emitChangeEvent(n)},handleKeyDown:function(n,i){return(i.metaKey||i.ctrlKey)&&i.key.toUpperCase()==="V"&&t.clipboard.focus(),t.eventEmitter.emit("keydown",t.editorType,i),!1},handleDOMEvents:{copy:function(n,i){return t.captureCopy(i)},cut:function(n,i){return t.captureCopy(i,Ay)},scroll:function(){return t.eventEmitter.emit("scroll","editor"),!0},keyup:function(n,i){return t.eventEmitter.emit("keyup",t.editorType,i),!1}},nodeViews:{widget:Ax}})},e.prototype.createCommands=function(){return this.specs.commands(this.view)},e.prototype.captureCopy=function(t,n){t.preventDefault();var i=this.view.state,a=i.selection,s=i.tr;if(a.empty)return!0;var u=this.getChanged(a.content());return t.clipboardData?t.clipboardData.setData("text/plain",u):window.clipboardData.setData("Text",u),n===Ay&&this.view.dispatch(s.deleteSelection().scrollIntoView().setMeta("uiEvent",Ay)),!0},e.prototype.updateMarkdown=function(t){var n=this;t.docChanged&&t.steps.forEach(function(i,a){if(i.slice&&!(i instanceof In)){var s=t.docs[a],u=[i.from,i.to],f=u[0],p=u[1],y=_v(s,f,p),T=y[0],N=y[1],O=n.getChanged(i.slice);T[0]===N[0]&&T[1]===N[1]&&O===""&&(O=`
`);var A=n.toastMark.editMarkdown(T,N,O);n.eventEmitter.emit("updatePreview",A),t.setMeta("editResult",A).scrollIntoView()}})},e.prototype.getChanged=function(t){var n="",i=0,a=t.content.size;return t.content.nodesBetween(i,a,function(s,u){s.isText?n+=s.text.slice(Math.max(i,u)-u,a-u):s.isBlock&&u>0&&(n+=`
`)}),n},e.prototype.setSelection=function(t,n){n===void 0&&(n=t);var i=this.view.state.tr,a=du(i.doc,t,n),s=a[0],u=a[1];this.view.dispatch(i.setSelection(jr(i,s,u)).scrollIntoView())},e.prototype.replaceSelection=function(t,n,i){var a,s=this.view.state,u=s.tr,f=s.schema,p=s.doc,y=t.split(zb),T=y.map(function(H){return sm(f,Cu(H,f))}),N=new ht(Xe.from(T),1,1);if(this.focus(),n&&i){var O=du(p,n,i),A=O[0],z=O[1];a=u.replaceRange(A,z,N)}else a=u.replaceSelection(N);this.view.dispatch(a.scrollIntoView())},e.prototype.deleteSelection=function(t,n){var i,a=this.view.state,s=a.tr,u=a.doc;if(t&&n){var f=du(u,t,n),p=f[0],y=f[1];i=s.deleteRange(p,y)}else i=s.deleteSelection();this.view.dispatch(i.scrollIntoView())},e.prototype.getSelectedText=function(t,n){var i=this.view.state,a=i.doc,s=i.selection,u=s.from,f=s.to;if(t&&n){var p=du(a,t,n);u=p[0],f=p[1]}return a.textBetween(u,f,`
`)},e.prototype.getSelection=function(){var t=this.view.state.selection,n=t.from,i=t.to;return _v(this.view.state.tr.doc,n,i)},e.prototype.setMarkdown=function(t,n){n===void 0&&(n=!0);var i=t.split(zb),a=this.view.state,s=a.tr,u=a.doc,f=a.schema,p=i.map(function(y){return sm(f,Cu(y,f))});this.view.dispatch(s.replaceWith(0,u.content.size,p)),n&&this.moveCursorToEnd(!0)},e.prototype.addWidget=function(t,n,i){var a=this.view.state,s=a.tr,u=a.doc,f=a.selection,p=i?du(u,i,i)[0]:f.to;this.view.dispatch(s.setMeta("widget",{pos:p,node:t,style:n}))},e.prototype.replaceWithWidget=function(t,n,i){var a=this.view.state,s=a.tr,u=a.schema,f=a.doc,p=du(f,t,n),y=Cu(i,u);this.view.dispatch(s.replaceWith(p[0],p[1],y))},e.prototype.getRangeInfoOfNode=function(t){var n=this.view.state,i=n.doc,a=n.selection,s=t||_v(i,a.from)[0],u=this.toastMark.findNodeAtPosition(s);return u.type==="text"&&u.parent.type!=="paragraph"&&(u=u.parent),u.sourcepos[1][1]+=1,{range:u.sourcepos,type:u.type}},e.prototype.getMarkdown=function(){return this.toastMark.getLineTexts().map(function(t){return Lm(t)}).join(`
`)},e.prototype.getToastMark=function(){return this.toastMark},e})(Rx),Hb="_feEventKey";function Qae(r,e){var t=r[Hb],n;return t||(t=r[Hb]={}),n=t[e],n||(n=t[e]=[]),n}var Vx=Qae,Xae=Rs,dm=Om,Yae=Vx;function Zae(r,e,t){if(Xae(e)){dm(e.split(/\s+/g),function(n){Vb(r,n,t)});return}dm(e,function(n,i){Vb(r,i,n)})}function Vb(r,e,t){var n=Yae(r,e),i;t?(dm(n,function(a,s){return t===a.handler?($b(r,e,a.wrappedHandler),i=s,!1):!0}),n.splice(i,1)):(dm(n,function(a){$b(r,e,a.wrappedHandler)}),n.splice(0,n.length))}function $b(r,e,t){"removeEventListener"in r?r.removeEventListener(e,t):"detachEvent"in r&&r.detachEvent("on"+e,t)}var $x=Zae,eoe=Rs,k0=Om,toe=Vx;function roe(r,e,t,n){if(eoe(e)){k0(e.split(/\s+/g),function(i){Ub(r,i,t,n)});return}k0(e,function(i,a){Ub(r,a,i,t)})}function Ub(r,e,t,n){function i(a){t.call(n||r,a||window.event)}"addEventListener"in r?r.addEventListener(e,i):"attachEvent"in r&&r.attachEvent("on"+e,i),noe(r,e,t,i)}function noe(r,e,t,n){var i=toe(r,e),a=!1;k0(i,function(s){return s.handler===t?(a=!0,!1):!0}),a||i.push({handler:t,wrappedHandler:n})}var Ux=roe;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var w0=function(r,e){return w0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},w0(r,e)};function Ma(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");w0(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Kn=function(){return Kn=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Kn.apply(this,arguments)};function b0(r,e,t){if(arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return r.concat(a||Array.prototype.slice.call(e))}var df=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Wb={};function ioe(r){var e,t,n=Wb[r];if(n)return n;for(n=Wb[r]=[],e=0;e<128;e++)t=String.fromCharCode(e),/^[0-9a-z]$/i.test(t)?n.push(t):n.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2));for(e=0;e<r.length;e++)n[r.charCodeAt(e)]=r[e];return n}function Bm(r,e,t){var n,i,a,s,u,f="";for(typeof e!="string"&&(t=e,e=Bm.defaultChars),typeof t>"u"&&(t=!0),u=ioe(e),n=0,i=r.length;n<i;n++){if(a=r.charCodeAt(n),t&&a===37&&n+2<i&&/^[0-9a-f]{2}$/i.test(r.slice(n+1,n+3))){f+=r.slice(n,n+3),n+=2;continue}if(a<128){f+=u[a];continue}if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&n+1<i&&(s=r.charCodeAt(n+1),s>=56320&&s<=57343)){f+=encodeURIComponent(r[n]+r[n+1]),n++;continue}f+="%EF%BF%BD";continue}f+=encodeURIComponent(r[n])}return f}Bm.defaultChars=";/?:@&=+$,-_.!~*'()#";Bm.componentChars="-_.!~*'()";var aoe=Bm,Ek={},As={},ooe="",soe="",loe="",uoe="",coe="",foe="",doe="",hoe="",poe="",voe="",moe="",goe="",yoe="",koe="",woe="",boe="",Coe="",Toe="",Soe="",xoe="",Eoe="",Moe="",Noe="",Ooe="",Doe="",Aoe="",Loe="&",Roe="&",Ioe="",Poe="",Boe="",Foe="",_oe="",qoe="",zoe="",Hoe="",Voe="",$oe="",Uoe="",Woe="",joe="",Goe="",Koe="",Joe="",Qoe="",Xoe="",Yoe="",Zoe="",ese="",tse="",rse="",nse="",ise="",ase="",ose="",sse="",lse="",use="",cse="",fse="",dse="",hse="'",pse="",vse="",mse="",gse="",yse="",kse="",wse="",bse="",Cse="*",Tse="",Sse="",xse="",Ese="",Mse="",Nse="",Ose="",Dse="",Ase="",Lse="",Rse="",Ise="",Pse="",Bse="",Fse="",_se="",qse="",zse="",Hse="",Vse="",$se="",Use="",Wse="",jse="",Gse="",Kse="",Jse="",Qse="",Xse="",Yse="",Zse="",ele="",tle="",rle="",nle="",ile="",ale="",ole="",sle="",lle="",ule="",cle="",fle="",dle="",hle="",ple="",vle="",mle="",gle="",yle="",kle="",wle="",ble="",Cle="",Tle="",Sle="",xle="",Ele="",Mle="",Nle="",Ole="",Dle="",Ale="",Lle="=",Rle="",Ile="",Ple="",Ble="",Fle="",_le="",qle="",zle="",Hle="",Vle="",$le="",Ule="",Wle="",jle="",Gle="",Kle="",Jle="",Qle="",Xle="",Yle="",Zle="",eue="",tue="",rue="",nue="",iue="",aue="",oue="",sue="",lue="",uue="",cue="",fue="",due="",hue="",pue="",vue="",mue="",gue="",yue="",kue="",wue="",bue="",Cue="",Tue="",Sue="",xue="",Eue="",Mue="",Nue="",Oue="",Due="",Aue="",Lue="",Rue="",Iue="",Pue="",Bue="",Fue="",_ue="",que="",zue="",Hue="\\",Vue="",$ue="",Uue="",Wue="",jue="",Gue="",Kue="",Jue="",Que="",Xue="",Yue="",Zue="",ece="",tce="",rce="",nce="",ice="",ace="",oce="",sce="",lce="",uce="",cce="",fce="",dce="",hce="",pce="",vce="",mce="",gce="",yce="",kce="",wce="",bce="",Cce="",Tce="",Sce="",xce="",Ece="",Mce="",Nce="",Oce="",Dce="",Ace="",Lce="",Rce="",Ice="",Pce="",Bce="",Fce="",_ce="",qce="",zce="",Hce="",Vce="",$ce="",Uce="",Wce="",jce="",Gce="",Kce="",Jce="",Qce="",Xce="",Yce="",Zce="",efe="",tfe="",rfe="",nfe="",ife="",afe="",ofe=":",sfe="",lfe="",ufe="",cfe="",ffe=",",dfe="@",hfe="",pfe="",vfe="",mfe="",gfe="",yfe="",kfe="",wfe="",bfe="",Cfe="",Tfe="",Sfe="",xfe="",Efe="",Mfe="",Nfe="",Ofe="",Dfe="",Afe="",Lfe="",Rfe="",Ife="",Pfe="",Bfe="",Ffe="",_fe="",qfe="",zfe="",Hfe="",Vfe="",$fe="",Ufe="",Wfe="",jfe="",Gfe="",Kfe="",Jfe="",Qfe="",Xfe="",Yfe="",Zfe="",ede="",tde="",rde="",nde="",ide="",ade="",ode="",sde="",lde="",ude="",cde="",fde="",dde="",hde="",pde="",vde="",mde="",gde="",yde="",kde="",wde="",bde="",Cde="",Tde="",Sde="",xde="",Ede="",Mde="",Nde="",Ode="",Dde="",Ade="",Lde="",Rde="",Ide="",Pde="",Bde="",Fde="",_de="",qde="",zde="",Hde="",Vde="",$de="",Ude="",Wde="",jde="",Gde="",Kde="",Jde="",Qde="",Xde="`",Yde="",Zde="",ehe="",the="",rhe="",nhe="",ihe="",ahe="",ohe="",she="",lhe="",uhe="",che="",fhe="",dhe="",hhe="",phe="",vhe="",mhe="$",ghe="",yhe="",khe="",whe="",bhe="",Che="",The="",She="",xhe="",Ehe="",Mhe="",Nhe="",Ohe="",Dhe="",Ahe="",Lhe="",Rhe="",Ihe="",Phe="",Bhe="",Fhe="",_he="",qhe="",zhe="",Hhe="",Vhe="",$he="",Uhe="",Whe="",jhe="",Ghe="",Khe="",Jhe="",Qhe="",Xhe="",Yhe="",Zhe="",epe="",tpe="",rpe="",npe="",ipe="",ape="",ope="",spe="",lpe="",upe="",cpe="",fpe="",dpe="",hpe="",ppe="",vpe="",mpe="",gpe="",ype="",kpe="",wpe="",bpe="",Cpe="",Tpe="",Spe="",xpe="",Epe="",Mpe="",Npe="",Ope="",Dpe="",Ape="",Lpe="",Rpe="",Ipe="",Ppe="",Bpe="",Fpe="",_pe="",qpe="",zpe="",Hpe="",Vpe="",$pe="",Upe="",Wpe="",jpe="",Gpe="",Kpe="",Jpe="",Qpe="",Xpe="",Ype="",Zpe="",eve="",tve="",rve="",nve="",ive="",ave="",ove="",sve="",lve="",uve="",cve="",fve="",dve="",hve="",pve="",vve="",mve="",gve="",yve="",kve="",wve="",bve="",Cve="",Tve="",Sve="",xve="",Eve="",Mve="",Nve="",Ove="",Dve="",Ave="",Lve="=",Rve="",Ive="",Pve="",Bve="",Fve="",_ve="",qve="",zve="",Hve="",Vve="",$ve="",Uve="",Wve="",jve="",Gve="",Kve="",Jve="",Qve="",Xve="",Yve="",Zve="!",eme="",tme="",rme="",nme="",ime="",ame="",ome="",sme="",lme="",ume="",cme="",fme="",dme="",hme="",pme="",vme="",mme="",gme="fj",yme="",kme="",wme="",bme="",Cme="",Tme="",Sme="",xme="",Eme="",Mme="",Nme="",Ome="",Dme="",Ame="",Lme="",Rme="",Ime="",Pme="",Bme="",Fme="",_me="",qme="",zme="",Hme="",Vme="",$me="",Ume="",Wme="",jme="",Gme="",Kme="",Jme="",Qme="",Xme="",Yme="",Zme="",ege="",tge="",rge="",nge="",ige="",age="",oge="",sge="",lge="",uge="",cge="",fge="",dge="",hge="",pge="",vge="",mge="",gge="",yge="",kge="",wge="",bge="",Cge="",Tge="",Sge="",xge="",Ege="",Mge="",Nge="",Oge="",Dge="",Age="",Lge="",Rge="",Ige="",Pge="",Bge="",Fge="",_ge="",qge="",zge="",Hge="",Vge="",$ge="",Uge="",Wge="`",jge="",Gge="",Kge="",Jge="",Qge="",Xge="",Yge="",Zge="",eye="",tye="",rye="",nye="",iye="",aye="",oye=">",sye=">",lye="",uye="",cye="",fye="",dye="",hye="",pye="",vye="",mye="",gye="",yye="",kye="",wye="",bye="",Cye="",Tye="",Sye="",xye="",Eye="",Mye="",Nye="",Oye="",Dye="",Aye="^",Lye="",Rye="",Iye="",Pye="",Bye="",Fye="",_ye="",qye="",zye="",Hye="",Vye="",$ye="",Uye="",Wye="",jye="",Gye="",Kye="",Jye="",Qye="",Xye="",Yye="",Zye="",e0e="",t0e="",r0e="",n0e="",i0e="",a0e="",o0e="",s0e="",l0e="",u0e="",c0e="",f0e="",d0e="",h0e="",p0e="",v0e="",m0e="",g0e="",y0e="",k0e="",w0e="",b0e="",C0e="",T0e="",S0e="",x0e="",E0e="",M0e="",N0e="",O0e="",D0e="",A0e="",L0e="",R0e="",I0e="",P0e="",B0e="",F0e="",_0e="",q0e="",z0e="",H0e="",V0e="",$0e="",U0e="",W0e="",j0e="",G0e="",K0e="",J0e="",Q0e="",X0e="",Y0e="",Z0e="",eke="",tke="",rke="",nke="",ike="",ake="",oke="",ske="",lke="",uke="",cke="",fke="",dke="",hke="",pke="",vke="",mke="",gke="",yke="",kke="",wke="",bke="",Cke="",Tke="",Ske="",xke="",Eke="",Mke="",Nke="",Oke="",Dke="",Ake="",Lke="",Rke="",Ike="",Pke="",Bke="",Fke="",_ke="",qke="",zke="",Hke="",Vke="",$ke="",Uke="",Wke="",jke="",Gke="",Kke="",Jke="",Qke="",Xke="",Yke="",Zke="",ewe="",twe="",rwe="",nwe="",iwe="",awe="",owe="",swe="",lwe="",uwe="",cwe="",fwe="",dwe="",hwe="",pwe="",vwe="",mwe="",gwe="",ywe="",kwe="",wwe="",bwe="",Cwe="",Twe="",Swe="",xwe="",Ewe="",Mwe="",Nwe="",Owe="",Dwe="",Awe="",Lwe="",Rwe="",Iwe="",Pwe="",Bwe="",Fwe="",_we="",qwe="{",zwe="[",Hwe="",Vwe="",$we="",Uwe="",Wwe="",jwe="",Gwe="",Kwe="",Jwe="{",Qwe="",Xwe="",Ywe="",Zwe="",e1e="",t1e="",r1e="",n1e="",i1e="",a1e="",o1e="",s1e="",l1e="",u1e="",c1e="",f1e="",d1e="",h1e="",p1e="",v1e="",m1e="",g1e="",y1e="",k1e="",w1e="",b1e="",C1e="",T1e="",S1e="",x1e="",E1e="",M1e="",N1e="",O1e="",D1e="",A1e="",L1e="",R1e="",I1e="",P1e="",B1e="",F1e="",_1e="",q1e="",z1e="",H1e="",V1e="",$1e="",U1e="",W1e="",j1e="",G1e="",K1e="",J1e="",Q1e="",X1e="",Y1e="",Z1e="",ebe="",tbe="",rbe="",nbe="",ibe="",abe="",obe="",sbe="",lbe="",ube="",cbe="",fbe="",dbe="",hbe="",pbe="",vbe="",mbe="",gbe="",ybe="",kbe="",wbe="",bbe="",Cbe="",Tbe="",Sbe="",xbe="",Ebe="",Mbe="",Nbe="",Obe="",Dbe="",Abe="",Lbe="",Rbe="",Ibe="",Pbe="",Bbe="",Fbe="",_be="",qbe="",zbe="",Hbe="",Vbe="",$be="",Ube="",Wbe="",jbe="",Gbe="",Kbe="",Jbe="",Qbe="",Xbe="",Ybe="",Zbe="",eCe="",tCe="",rCe="",nCe="",iCe="",aCe="",oCe="",sCe="",lCe="",uCe="",cCe="_",fCe="",dCe="",hCe="",pCe="",vCe="",mCe="(",gCe="",yCe="",kCe="",wCe="",bCe="",CCe="",TCe="",SCe="",xCe="",ECe="",MCe="",NCe="",OCe="",DCe="",ACe="",LCe="[",RCe="",ICe="",PCe="",BCe="",FCe="",_Ce="",qCe="<",zCe="<",HCe="",VCe="",$Ce="",UCe="",WCe="",jCe="",GCe="",KCe="",JCe="",QCe="",XCe="",YCe="",ZCe="",eTe="",tTe="",rTe="",nTe="",iTe="",aTe="",oTe="",sTe="",lTe="",uTe="",cTe="",fTe="",dTe="",hTe="",pTe="",vTe="",mTe="",gTe="",yTe="",kTe="",wTe="",bTe="",CTe="",TTe="*",STe="",xTe="",ETe="",MTe="",NTe="",OTe="",DTe="",ATe="",LTe="",RTe="",ITe="",PTe="",BTe="",FTe="",_Te="",qTe="",zTe="",HTe="",VTe="",$Te="",UTe="",WTe="",jTe="",GTe="",KTe="",JTe="",QTe="",XTe="",YTe="",ZTe="",eSe="",tSe="",rSe="",nSe="",iSe="",aSe="",oSe="",sSe="",lSe="",uSe="",cSe="",fSe="",dSe="",hSe="",pSe="",vSe="",mSe="",gSe="",ySe="",kSe="",wSe="",bSe="",CSe="",TSe="",SSe="",xSe="",ESe="",MSe="",NSe="",OSe="",DSe="",ASe="",LSe="",RSe=`
`,ISe="",PSe="",BSe="",FSe="",_Se="",qSe="",zSe="",HSe="",VSe="",$Se="",USe="",WSe="",jSe="",GSe="",KSe="",JSe="",QSe="",XSe="",YSe="",ZSe="",exe="",txe="",rxe="",nxe="",ixe="",axe="",oxe="",sxe="",lxe="",uxe="",cxe="",fxe="",dxe="",hxe="",pxe="",vxe="",mxe="",gxe="",yxe="",kxe="",wxe="",bxe="",Cxe="",Txe="",Sxe="",xxe="",Exe="",Mxe="",Nxe="",Oxe="",Dxe="",Axe="",Lxe="",Rxe="",Ixe="",Pxe="",Bxe="",Fxe="",_xe="",qxe="",zxe="",Hxe="",Vxe="",$xe="",Uxe="",Wxe="",jxe="",Gxe="",Kxe="",Jxe="",Qxe="",Xxe="",Yxe="",Zxe="",eEe="",tEe="",rEe="",nEe="",iEe="",aEe="",oEe="",sEe="",lEe="",uEe="",cEe="",fEe="",dEe="",hEe="",pEe="",vEe="",mEe="",gEe="",yEe="",kEe="",wEe="",bEe="",CEe="",TEe="",SEe="",xEe="",EEe="",MEe="",NEe="",OEe="",DEe="",AEe="",LEe="",REe="",IEe="",PEe="",BEe="",FEe="",_Ee="",qEe="",zEe="",HEe="",VEe="",$Ee="",UEe="",WEe="",jEe="",GEe="",KEe="",JEe="",QEe="",XEe="",YEe="",ZEe="",eMe="",tMe="",rMe="",nMe="",iMe="",aMe="",oMe="",sMe="",lMe="",uMe="",cMe="",fMe="",dMe="",hMe="",pMe="",vMe="",mMe="",gMe="",yMe="",kMe="",wMe="",bMe="",CMe="",TMe="",SMe="",xMe="",EMe="",MMe="",NMe="",OMe="",DMe="",AMe="",LMe="",RMe="",IMe="",PMe="",BMe="",FMe="",_Me="",qMe="",zMe="",HMe="",VMe="#",$Me="",UMe="",WMe="",jMe="",GMe="",KMe="",JMe="",QMe="",XMe=">",YMe="",ZMe="",eNe="",tNe="",rNe="<",nNe="",iNe="",aNe="",oNe="",sNe="",lNe="",uNe="",cNe="",fNe="",dNe="",hNe="",pNe="",vNe="",mNe="",gNe="",yNe="",kNe="",wNe="",bNe="",CNe="",TNe="",SNe="",xNe="",ENe="",MNe="",NNe="",ONe="",DNe="",ANe="",LNe="",RNe="",INe="",PNe="",BNe="",FNe="",_Ne="",qNe="",zNe="",HNe="",VNe="",$Ne="",UNe="",WNe="",jNe="",GNe="",KNe="",JNe="",QNe="",XNe="",YNe="",ZNe="",eOe="",tOe="",rOe="",nOe="",iOe="",aOe="",oOe="",sOe="",lOe="",uOe="",cOe="",fOe="",dOe="",hOe="",pOe="",vOe="",mOe="",gOe="",yOe="",kOe="",wOe="",bOe="",COe="",TOe="",SOe="",xOe="",EOe="",MOe="",NOe="",OOe="",DOe="",AOe="",LOe="",ROe="",IOe="",POe="",BOe="",FOe="",_Oe="",qOe="",zOe="",HOe="",VOe="",$Oe="%",UOe=".",WOe="",jOe="",GOe="",KOe="",JOe="",QOe="",XOe="",YOe="",ZOe="",eDe="",tDe="",rDe="",nDe="",iDe="",aDe="",oDe="",sDe="",lDe="",uDe="",cDe="",fDe="+",dDe="",hDe="",pDe="",vDe="",mDe="",gDe="",yDe="",kDe="",wDe="",bDe="",CDe="",TDe="",SDe="",xDe="",EDe="",MDe="",NDe="",ODe="",DDe="",ADe="",LDe="",RDe="",IDe="",PDe="",BDe="",FDe="",_De="",qDe="",zDe="",HDe="",VDe="",$De="",UDe="",WDe="",jDe="",GDe="",KDe="",JDe="",QDe="",XDe="",YDe="",ZDe="",eAe="",tAe="",rAe="",nAe="",iAe="",aAe="",oAe="",sAe="",lAe="",uAe="",cAe="",fAe="",dAe="",hAe="",pAe="",vAe="",mAe="",gAe="",yAe="",kAe="",wAe="",bAe="?",CAe="",TAe='"',SAe='"',xAe="",EAe="",MAe="",NAe="",OAe="",DAe="",AAe="",LAe="",RAe="",IAe="",PAe="",BAe="",FAe="",_Ae="",qAe="",zAe="",HAe="",VAe="",$Ae="",UAe="",WAe="",jAe="",GAe="",KAe="",JAe="",QAe="",XAe="",YAe="",ZAe="",eLe="",tLe="",rLe="",nLe="",iLe="",aLe="",oLe="}",sLe="]",lLe="",uLe="",cLe="",fLe="",dLe="",hLe="",pLe="",vLe="",mLe="}",gLe="",yLe="",kLe="",wLe="",bLe="",CLe="",TLe="",SLe="",xLe="",ELe="",MLe="",NLe="",OLe="",DLe="",ALe="",LLe="",RLe="",ILe="",PLe="",BLe="",FLe="",_Le="",qLe="",zLe="",HLe="",VLe="",$Le="",ULe="",WLe="",jLe="",GLe="",KLe="",JLe="",QLe="",XLe="",YLe="",ZLe="",eRe="",tRe="",rRe="",nRe="",iRe="",aRe="",oRe="",sRe="",lRe="",uRe="",cRe="",fRe="",dRe="",hRe="",pRe="",vRe="",mRe="",gRe="",yRe="",kRe="",wRe="",bRe="",CRe="",TRe="",SRe="",xRe="",ERe="",MRe="",NRe="",ORe="",DRe="",ARe="",LRe="",RRe="",IRe="",PRe="",BRe="",FRe="",_Re="",qRe="",zRe="",HRe=")",VRe="",$Re="",URe="",WRe="",jRe="",GRe="",KRe="",JRe="",QRe="",XRe="]",YRe="",ZRe="",eIe="",tIe="",rIe="",nIe="",iIe="",aIe="",oIe="",sIe="",lIe="",uIe="",cIe="",fIe="",dIe="",hIe="",pIe="",vIe="",mIe="",gIe="",yIe="",kIe="",wIe="",bIe="",CIe="",TIe="",SIe="",xIe="",EIe="",MIe="",NIe="",OIe="",DIe="",AIe="",LIe="",RIe="",IIe="",PIe="",BIe="",FIe="",_Ie="",qIe=";",zIe="",HIe="",VIe="",$Ie="",UIe="",WIe="",jIe="",GIe="",KIe="",JIe="",QIe="",XIe="",YIe="",ZIe="",ePe="",tPe="",rPe="",nPe="",iPe="",aPe="",oPe="",sPe="",lPe="",uPe="",cPe="",fPe="",dPe="",hPe="",pPe="",vPe="",mPe="",gPe="",yPe="",kPe="",wPe="",bPe="",CPe="",TPe="",SPe="",xPe="",EPe="",MPe="",NPe="",OPe="",DPe="",APe="",LPe="",RPe="",IPe="/",PPe="",BPe="",FPe="",_Pe="",qPe="",zPe="",HPe="",VPe="",$Pe="",UPe="",WPe="",jPe="",GPe="",KPe="",JPe="",QPe="",XPe="",YPe="",ZPe="",eBe="",tBe="",rBe="",nBe="",iBe="",aBe="",oBe="",sBe="",lBe="",uBe="",cBe="",fBe="",dBe="",hBe="",pBe="",vBe="",mBe="",gBe="",yBe="",kBe="",wBe="",bBe="",CBe="",TBe="",SBe="",xBe="",EBe="",MBe="",NBe="",OBe="",DBe="",ABe="",LBe="",RBe="",IBe="",PBe="",BBe="",FBe="",_Be="",qBe="",zBe="",HBe="",VBe="",$Be="",UBe="",WBe="",jBe="",GBe="",KBe="",JBe="",QBe="",XBe="",YBe="",ZBe="",eFe="",tFe="",rFe="",nFe="",iFe="",aFe="",oFe="",sFe="",lFe="",uFe="",cFe="",fFe="",dFe="",hFe="",pFe="",vFe="",mFe="",gFe="",yFe="",kFe="",wFe="",bFe="",CFe="",TFe="",SFe="",xFe="",EFe="",MFe="",NFe="",OFe="",DFe="",AFe="",LFe="",RFe="",IFe="",PFe="",BFe="",FFe="",_Fe="",qFe="	",zFe="",HFe="",VFe="",$Fe="",UFe="",WFe="",jFe="",GFe="",KFe="",JFe="",QFe="",XFe="",YFe="",ZFe="",e_e="",t_e="",r_e="",n_e="",i_e="",a_e="",o_e="",s_e="",l_e="",u_e="",c_e="",f_e="",d_e="",h_e="",p_e="",v_e="",m_e="",g_e="",y_e="",k_e="",w_e="",b_e="",C_e="",T_e="",S_e="",x_e="",E_e="",M_e="",N_e="",O_e="",D_e="",A_e="",L_e="",R_e="",I_e="",P_e="",B_e="",F_e="",__e="",q_e="",z_e="",H_e="",V_e="",$_e="",U_e="",W_e="",j_e="",G_e="",K_e="",J_e="",Q_e="",X_e="",Y_e="",Z_e="",e2e="",t2e="",r2e="",n2e="",i2e="",a2e="",o2e="",s2e="",l2e="",u2e="",c2e="",f2e="",d2e="",h2e="",p2e="",v2e="",m2e="",g2e="",y2e="",k2e="",w2e="",b2e="",C2e="",T2e="",S2e="",x2e="",E2e="",M2e="",N2e="",O2e="",D2e="",A2e="",L2e="",R2e="",I2e="",P2e="",B2e="",F2e="",_2e="",q2e="",z2e="",H2e="",V2e="",$2e="_",U2e="",W2e="",j2e="",G2e="",K2e="",J2e="",Q2e="",X2e="",Y2e="",Z2e="",eqe="",tqe="",rqe="",nqe="",iqe="",aqe="",oqe="",sqe="",lqe="",uqe="",cqe="",fqe="",dqe="",hqe="",pqe="",vqe="",mqe="",gqe="",yqe="",kqe="",wqe="",bqe="",Cqe="",Tqe="",Sqe="",xqe="",Eqe="",Mqe="",Nqe="",Oqe="",Dqe="",Aqe="",Lqe="",Rqe="",Iqe="",Pqe="",Bqe="",Fqe="",_qe="",qqe="",zqe="",Hqe="",Vqe="",$qe="",Uqe="",Wqe="",jqe="",Gqe="",Kqe="",Jqe="",Qqe="",Xqe="",Yqe="",Zqe="",eze="",tze="",rze="",nze="",ize="",aze="",oze="",sze="",lze="",uze="",cze="",fze="",dze="",hze="",pze="",vze="",mze="",gze="|",yze="",kze="|",wze="",bze="",Cze="|",Tze="",Sze="",xze="",Eze="",Mze="",Nze="",Oze="",Dze="",Aze="",Lze="",Rze="",Ize="",Pze="",Bze="",Fze="",_ze="",qze="",zze="",Hze="",Vze="",$ze="",Uze="",Wze="",jze="",Gze="",Kze="",Jze="",Qze="",Xze="",Yze="",Zze="",eHe="",tHe="",rHe="",nHe="",iHe="",aHe="",oHe="",sHe="",lHe="",uHe="",cHe="",fHe="",dHe="",hHe="",pHe="",vHe="",mHe="",gHe="",yHe="",kHe="",wHe="",bHe="",CHe="",THe="",SHe="",xHe="",EHe="",MHe="",NHe="",OHe="",DHe="",AHe="",LHe="",RHe="",IHe="",PHe="",BHe="",FHe="",_He="",qHe="",zHe="",HHe="",VHe="",$He="",UHe="",WHe="",jHe="",GHe="",KHe="",JHe="",QHe="",XHe="",YHe="",ZHe="",e3e="",t3e="",r3e="",n3e="",i3e="",a3e="",o3e="",s3e="",l3e="",u3e="",c3e="",f3e="",d3e="",h3e="",p3e="",v3e="",m3e="",g3e="",y3e="",k3e="",w3e="",b3e="",C3e="",Wx={Aacute:ooe,aacute:soe,Abreve:loe,abreve:uoe,ac:coe,acd:foe,acE:doe,Acirc:hoe,acirc:poe,acute:voe,Acy:moe,acy:goe,AElig:yoe,aelig:koe,af:woe,Afr:boe,afr:Coe,Agrave:Toe,agrave:Soe,alefsym:xoe,aleph:Eoe,Alpha:Moe,alpha:Noe,Amacr:Ooe,amacr:Doe,amalg:Aoe,amp:Loe,AMP:Roe,andand:Ioe,And:Poe,and:Boe,andd:Foe,andslope:_oe,andv:qoe,ang:zoe,ange:Hoe,angle:Voe,angmsdaa:$oe,angmsdab:Uoe,angmsdac:Woe,angmsdad:joe,angmsdae:Goe,angmsdaf:Koe,angmsdag:Joe,angmsdah:Qoe,angmsd:Xoe,angrt:Yoe,angrtvb:Zoe,angrtvbd:ese,angsph:tse,angst:rse,angzarr:nse,Aogon:ise,aogon:ase,Aopf:ose,aopf:sse,apacir:lse,ap:use,apE:cse,ape:fse,apid:dse,apos:hse,ApplyFunction:pse,approx:vse,approxeq:mse,Aring:gse,aring:yse,Ascr:kse,ascr:wse,Assign:bse,ast:Cse,asymp:Tse,asympeq:Sse,Atilde:xse,atilde:Ese,Auml:Mse,auml:Nse,awconint:Ose,awint:Dse,backcong:Ase,backepsilon:Lse,backprime:Rse,backsim:Ise,backsimeq:Pse,Backslash:Bse,Barv:Fse,barvee:_se,barwed:qse,Barwed:zse,barwedge:Hse,bbrk:Vse,bbrktbrk:$se,bcong:Use,Bcy:Wse,bcy:jse,bdquo:Gse,becaus:Kse,because:Jse,Because:Qse,bemptyv:Xse,bepsi:Yse,bernou:Zse,Bernoullis:ele,Beta:tle,beta:rle,beth:nle,between:ile,Bfr:ale,bfr:ole,bigcap:sle,bigcirc:lle,bigcup:ule,bigodot:cle,bigoplus:fle,bigotimes:dle,bigsqcup:hle,bigstar:ple,bigtriangledown:vle,bigtriangleup:mle,biguplus:gle,bigvee:yle,bigwedge:kle,bkarow:wle,blacklozenge:ble,blacksquare:Cle,blacktriangle:Tle,blacktriangledown:Sle,blacktriangleleft:xle,blacktriangleright:Ele,blank:Mle,blk12:Nle,blk14:Ole,blk34:Dle,block:Ale,bne:Lle,bnequiv:Rle,bNot:Ile,bnot:Ple,Bopf:Ble,bopf:Fle,bot:_le,bottom:qle,bowtie:zle,boxbox:Hle,boxdl:Vle,boxdL:$le,boxDl:Ule,boxDL:Wle,boxdr:jle,boxdR:Gle,boxDr:Kle,boxDR:Jle,boxh:Qle,boxH:Xle,boxhd:Yle,boxHd:Zle,boxhD:eue,boxHD:tue,boxhu:rue,boxHu:nue,boxhU:iue,boxHU:aue,boxminus:oue,boxplus:sue,boxtimes:lue,boxul:uue,boxuL:cue,boxUl:fue,boxUL:due,boxur:hue,boxuR:pue,boxUr:vue,boxUR:mue,boxv:gue,boxV:yue,boxvh:kue,boxvH:wue,boxVh:bue,boxVH:Cue,boxvl:Tue,boxvL:Sue,boxVl:xue,boxVL:Eue,boxvr:Mue,boxvR:Nue,boxVr:Oue,boxVR:Due,bprime:Aue,breve:Lue,Breve:Rue,brvbar:Iue,bscr:Pue,Bscr:Bue,bsemi:Fue,bsim:_ue,bsime:que,bsolb:zue,bsol:Hue,bsolhsub:Vue,bull:$ue,bullet:Uue,bump:Wue,bumpE:jue,bumpe:Gue,Bumpeq:Kue,bumpeq:Jue,Cacute:Que,cacute:Xue,capand:Yue,capbrcup:Zue,capcap:ece,cap:tce,Cap:rce,capcup:nce,capdot:ice,CapitalDifferentialD:ace,caps:oce,caret:sce,caron:lce,Cayleys:uce,ccaps:cce,Ccaron:fce,ccaron:dce,Ccedil:hce,ccedil:pce,Ccirc:vce,ccirc:mce,Cconint:gce,ccups:yce,ccupssm:kce,Cdot:wce,cdot:bce,cedil:Cce,Cedilla:Tce,cemptyv:Sce,cent:xce,centerdot:Ece,CenterDot:Mce,cfr:Nce,Cfr:Oce,CHcy:Dce,chcy:Ace,check:Lce,checkmark:Rce,Chi:Ice,chi:Pce,circ:Bce,circeq:Fce,circlearrowleft:_ce,circlearrowright:qce,circledast:zce,circledcirc:Hce,circleddash:Vce,CircleDot:$ce,circledR:Uce,circledS:Wce,CircleMinus:jce,CirclePlus:Gce,CircleTimes:Kce,cir:Jce,cirE:Qce,cire:Xce,cirfnint:Yce,cirmid:Zce,cirscir:efe,ClockwiseContourIntegral:tfe,CloseCurlyDoubleQuote:rfe,CloseCurlyQuote:nfe,clubs:ife,clubsuit:afe,colon:ofe,Colon:sfe,Colone:lfe,colone:ufe,coloneq:cfe,comma:ffe,commat:dfe,comp:hfe,compfn:pfe,complement:vfe,complexes:mfe,cong:gfe,congdot:yfe,Congruent:kfe,conint:wfe,Conint:bfe,ContourIntegral:Cfe,copf:Tfe,Copf:Sfe,coprod:xfe,Coproduct:Efe,copy:Mfe,COPY:Nfe,copysr:Ofe,CounterClockwiseContourIntegral:Dfe,crarr:Afe,cross:Lfe,Cross:Rfe,Cscr:Ife,cscr:Pfe,csub:Bfe,csube:Ffe,csup:_fe,csupe:qfe,ctdot:zfe,cudarrl:Hfe,cudarrr:Vfe,cuepr:$fe,cuesc:Ufe,cularr:Wfe,cularrp:jfe,cupbrcap:Gfe,cupcap:Kfe,CupCap:Jfe,cup:Qfe,Cup:Xfe,cupcup:Yfe,cupdot:Zfe,cupor:ede,cups:tde,curarr:rde,curarrm:nde,curlyeqprec:ide,curlyeqsucc:ade,curlyvee:ode,curlywedge:sde,curren:lde,curvearrowleft:ude,curvearrowright:cde,cuvee:fde,cuwed:dde,cwconint:hde,cwint:pde,cylcty:vde,dagger:mde,Dagger:gde,daleth:yde,darr:kde,Darr:wde,dArr:bde,dash:Cde,Dashv:Tde,dashv:Sde,dbkarow:xde,dblac:Ede,Dcaron:Mde,dcaron:Nde,Dcy:Ode,dcy:Dde,ddagger:Ade,ddarr:Lde,DD:Rde,dd:Ide,DDotrahd:Pde,ddotseq:Bde,deg:Fde,Del:_de,Delta:qde,delta:zde,demptyv:Hde,dfisht:Vde,Dfr:$de,dfr:Ude,dHar:Wde,dharl:jde,dharr:Gde,DiacriticalAcute:Kde,DiacriticalDot:Jde,DiacriticalDoubleAcute:Qde,DiacriticalGrave:Xde,DiacriticalTilde:Yde,diam:Zde,diamond:ehe,Diamond:the,diamondsuit:rhe,diams:nhe,die:ihe,DifferentialD:ahe,digamma:ohe,disin:she,div:lhe,divide:uhe,divideontimes:che,divonx:fhe,DJcy:dhe,djcy:hhe,dlcorn:phe,dlcrop:vhe,dollar:mhe,Dopf:ghe,dopf:yhe,Dot:khe,dot:whe,DotDot:bhe,doteq:Che,doteqdot:The,DotEqual:She,dotminus:xhe,dotplus:Ehe,dotsquare:Mhe,doublebarwedge:Nhe,DoubleContourIntegral:Ohe,DoubleDot:Dhe,DoubleDownArrow:Ahe,DoubleLeftArrow:Lhe,DoubleLeftRightArrow:Rhe,DoubleLeftTee:Ihe,DoubleLongLeftArrow:Phe,DoubleLongLeftRightArrow:Bhe,DoubleLongRightArrow:Fhe,DoubleRightArrow:_he,DoubleRightTee:qhe,DoubleUpArrow:zhe,DoubleUpDownArrow:Hhe,DoubleVerticalBar:Vhe,DownArrowBar:$he,downarrow:Uhe,DownArrow:Whe,Downarrow:jhe,DownArrowUpArrow:Ghe,DownBreve:Khe,downdownarrows:Jhe,downharpoonleft:Qhe,downharpoonright:Xhe,DownLeftRightVector:Yhe,DownLeftTeeVector:Zhe,DownLeftVectorBar:epe,DownLeftVector:tpe,DownRightTeeVector:rpe,DownRightVectorBar:npe,DownRightVector:ipe,DownTeeArrow:ape,DownTee:ope,drbkarow:spe,drcorn:lpe,drcrop:upe,Dscr:cpe,dscr:fpe,DScy:dpe,dscy:hpe,dsol:ppe,Dstrok:vpe,dstrok:mpe,dtdot:gpe,dtri:ype,dtrif:kpe,duarr:wpe,duhar:bpe,dwangle:Cpe,DZcy:Tpe,dzcy:Spe,dzigrarr:xpe,Eacute:Epe,eacute:Mpe,easter:Npe,Ecaron:Ope,ecaron:Dpe,Ecirc:Ape,ecirc:Lpe,ecir:Rpe,ecolon:Ipe,Ecy:Ppe,ecy:Bpe,eDDot:Fpe,Edot:_pe,edot:qpe,eDot:zpe,ee:Hpe,efDot:Vpe,Efr:$pe,efr:Upe,eg:Wpe,Egrave:jpe,egrave:Gpe,egs:Kpe,egsdot:Jpe,el:Qpe,Element:Xpe,elinters:Ype,ell:Zpe,els:eve,elsdot:tve,Emacr:rve,emacr:nve,empty:ive,emptyset:ave,EmptySmallSquare:ove,emptyv:sve,EmptyVerySmallSquare:lve,emsp13:uve,emsp14:cve,emsp:fve,ENG:dve,eng:hve,ensp:pve,Eogon:vve,eogon:mve,Eopf:gve,eopf:yve,epar:kve,eparsl:wve,eplus:bve,epsi:Cve,Epsilon:Tve,epsilon:Sve,epsiv:xve,eqcirc:Eve,eqcolon:Mve,eqsim:Nve,eqslantgtr:Ove,eqslantless:Dve,Equal:Ave,equals:Lve,EqualTilde:Rve,equest:Ive,Equilibrium:Pve,equiv:Bve,equivDD:Fve,eqvparsl:_ve,erarr:qve,erDot:zve,escr:Hve,Escr:Vve,esdot:$ve,Esim:Uve,esim:Wve,Eta:jve,eta:Gve,ETH:Kve,eth:Jve,Euml:Qve,euml:Xve,euro:Yve,excl:Zve,exist:eme,Exists:tme,expectation:rme,exponentiale:nme,ExponentialE:ime,fallingdotseq:ame,Fcy:ome,fcy:sme,female:lme,ffilig:ume,fflig:cme,ffllig:fme,Ffr:dme,ffr:hme,filig:pme,FilledSmallSquare:vme,FilledVerySmallSquare:mme,fjlig:gme,flat:yme,fllig:kme,fltns:wme,fnof:bme,Fopf:Cme,fopf:Tme,forall:Sme,ForAll:xme,fork:Eme,forkv:Mme,Fouriertrf:Nme,fpartint:Ome,frac12:Dme,frac13:Ame,frac14:Lme,frac15:Rme,frac16:Ime,frac18:Pme,frac23:Bme,frac25:Fme,frac34:_me,frac35:qme,frac38:zme,frac45:Hme,frac56:Vme,frac58:$me,frac78:Ume,frasl:Wme,frown:jme,fscr:Gme,Fscr:Kme,gacute:Jme,Gamma:Qme,gamma:Xme,Gammad:Yme,gammad:Zme,gap:ege,Gbreve:tge,gbreve:rge,Gcedil:nge,Gcirc:ige,gcirc:age,Gcy:oge,gcy:sge,Gdot:lge,gdot:uge,ge:cge,gE:fge,gEl:dge,gel:hge,geq:pge,geqq:vge,geqslant:mge,gescc:gge,ges:yge,gesdot:kge,gesdoto:wge,gesdotol:bge,gesl:Cge,gesles:Tge,Gfr:Sge,gfr:xge,gg:Ege,Gg:Mge,ggg:Nge,gimel:Oge,GJcy:Dge,gjcy:Age,gla:Lge,gl:Rge,glE:Ige,glj:Pge,gnap:Bge,gnapprox:Fge,gne:_ge,gnE:qge,gneq:zge,gneqq:Hge,gnsim:Vge,Gopf:$ge,gopf:Uge,grave:Wge,GreaterEqual:jge,GreaterEqualLess:Gge,GreaterFullEqual:Kge,GreaterGreater:Jge,GreaterLess:Qge,GreaterSlantEqual:Xge,GreaterTilde:Yge,Gscr:Zge,gscr:eye,gsim:tye,gsime:rye,gsiml:nye,gtcc:iye,gtcir:aye,gt:oye,GT:sye,Gt:lye,gtdot:uye,gtlPar:cye,gtquest:fye,gtrapprox:dye,gtrarr:hye,gtrdot:pye,gtreqless:vye,gtreqqless:mye,gtrless:gye,gtrsim:yye,gvertneqq:kye,gvnE:wye,Hacek:bye,hairsp:Cye,half:Tye,hamilt:Sye,HARDcy:xye,hardcy:Eye,harrcir:Mye,harr:Nye,hArr:Oye,harrw:Dye,Hat:Aye,hbar:Lye,Hcirc:Rye,hcirc:Iye,hearts:Pye,heartsuit:Bye,hellip:Fye,hercon:_ye,hfr:qye,Hfr:zye,HilbertSpace:Hye,hksearow:Vye,hkswarow:$ye,hoarr:Uye,homtht:Wye,hookleftarrow:jye,hookrightarrow:Gye,hopf:Kye,Hopf:Jye,horbar:Qye,HorizontalLine:Xye,hscr:Yye,Hscr:Zye,hslash:e0e,Hstrok:t0e,hstrok:r0e,HumpDownHump:n0e,HumpEqual:i0e,hybull:a0e,hyphen:o0e,Iacute:s0e,iacute:l0e,ic:u0e,Icirc:c0e,icirc:f0e,Icy:d0e,icy:h0e,Idot:p0e,IEcy:v0e,iecy:m0e,iexcl:g0e,iff:y0e,ifr:k0e,Ifr:w0e,Igrave:b0e,igrave:C0e,ii:T0e,iiiint:S0e,iiint:x0e,iinfin:E0e,iiota:M0e,IJlig:N0e,ijlig:O0e,Imacr:D0e,imacr:A0e,image:L0e,ImaginaryI:R0e,imagline:I0e,imagpart:P0e,imath:B0e,Im:F0e,imof:_0e,imped:q0e,Implies:z0e,incare:H0e,in:"",infin:V0e,infintie:$0e,inodot:U0e,intcal:W0e,int:j0e,Int:G0e,integers:K0e,Integral:J0e,intercal:Q0e,Intersection:X0e,intlarhk:Y0e,intprod:Z0e,InvisibleComma:eke,InvisibleTimes:tke,IOcy:rke,iocy:nke,Iogon:ike,iogon:ake,Iopf:oke,iopf:ske,Iota:lke,iota:uke,iprod:cke,iquest:fke,iscr:dke,Iscr:hke,isin:pke,isindot:vke,isinE:mke,isins:gke,isinsv:yke,isinv:kke,it:wke,Itilde:bke,itilde:Cke,Iukcy:Tke,iukcy:Ske,Iuml:xke,iuml:Eke,Jcirc:Mke,jcirc:Nke,Jcy:Oke,jcy:Dke,Jfr:Ake,jfr:Lke,jmath:Rke,Jopf:Ike,jopf:Pke,Jscr:Bke,jscr:Fke,Jsercy:_ke,jsercy:qke,Jukcy:zke,jukcy:Hke,Kappa:Vke,kappa:$ke,kappav:Uke,Kcedil:Wke,kcedil:jke,Kcy:Gke,kcy:Kke,Kfr:Jke,kfr:Qke,kgreen:Xke,KHcy:Yke,khcy:Zke,KJcy:ewe,kjcy:twe,Kopf:rwe,kopf:nwe,Kscr:iwe,kscr:awe,lAarr:owe,Lacute:swe,lacute:lwe,laemptyv:uwe,lagran:cwe,Lambda:fwe,lambda:dwe,lang:hwe,Lang:pwe,langd:vwe,langle:mwe,lap:gwe,Laplacetrf:ywe,laquo:kwe,larrb:wwe,larrbfs:bwe,larr:Cwe,Larr:Twe,lArr:Swe,larrfs:xwe,larrhk:Ewe,larrlp:Mwe,larrpl:Nwe,larrsim:Owe,larrtl:Dwe,latail:Awe,lAtail:Lwe,lat:Rwe,late:Iwe,lates:Pwe,lbarr:Bwe,lBarr:Fwe,lbbrk:_we,lbrace:qwe,lbrack:zwe,lbrke:Hwe,lbrksld:Vwe,lbrkslu:$we,Lcaron:Uwe,lcaron:Wwe,Lcedil:jwe,lcedil:Gwe,lceil:Kwe,lcub:Jwe,Lcy:Qwe,lcy:Xwe,ldca:Ywe,ldquo:Zwe,ldquor:e1e,ldrdhar:t1e,ldrushar:r1e,ldsh:n1e,le:i1e,lE:a1e,LeftAngleBracket:o1e,LeftArrowBar:s1e,leftarrow:l1e,LeftArrow:u1e,Leftarrow:c1e,LeftArrowRightArrow:f1e,leftarrowtail:d1e,LeftCeiling:h1e,LeftDoubleBracket:p1e,LeftDownTeeVector:v1e,LeftDownVectorBar:m1e,LeftDownVector:g1e,LeftFloor:y1e,leftharpoondown:k1e,leftharpoonup:w1e,leftleftarrows:b1e,leftrightarrow:C1e,LeftRightArrow:T1e,Leftrightarrow:S1e,leftrightarrows:x1e,leftrightharpoons:E1e,leftrightsquigarrow:M1e,LeftRightVector:N1e,LeftTeeArrow:O1e,LeftTee:D1e,LeftTeeVector:A1e,leftthreetimes:L1e,LeftTriangleBar:R1e,LeftTriangle:I1e,LeftTriangleEqual:P1e,LeftUpDownVector:B1e,LeftUpTeeVector:F1e,LeftUpVectorBar:_1e,LeftUpVector:q1e,LeftVectorBar:z1e,LeftVector:H1e,lEg:V1e,leg:$1e,leq:U1e,leqq:W1e,leqslant:j1e,lescc:G1e,les:K1e,lesdot:J1e,lesdoto:Q1e,lesdotor:X1e,lesg:Y1e,lesges:Z1e,lessapprox:ebe,lessdot:tbe,lesseqgtr:rbe,lesseqqgtr:nbe,LessEqualGreater:ibe,LessFullEqual:abe,LessGreater:obe,lessgtr:sbe,LessLess:lbe,lesssim:ube,LessSlantEqual:cbe,LessTilde:fbe,lfisht:dbe,lfloor:hbe,Lfr:pbe,lfr:vbe,lg:mbe,lgE:gbe,lHar:ybe,lhard:kbe,lharu:wbe,lharul:bbe,lhblk:Cbe,LJcy:Tbe,ljcy:Sbe,llarr:xbe,ll:Ebe,Ll:Mbe,llcorner:Nbe,Lleftarrow:Obe,llhard:Dbe,lltri:Abe,Lmidot:Lbe,lmidot:Rbe,lmoustache:Ibe,lmoust:Pbe,lnap:Bbe,lnapprox:Fbe,lne:_be,lnE:qbe,lneq:zbe,lneqq:Hbe,lnsim:Vbe,loang:$be,loarr:Ube,lobrk:Wbe,longleftarrow:jbe,LongLeftArrow:Gbe,Longleftarrow:Kbe,longleftrightarrow:Jbe,LongLeftRightArrow:Qbe,Longleftrightarrow:Xbe,longmapsto:Ybe,longrightarrow:Zbe,LongRightArrow:eCe,Longrightarrow:tCe,looparrowleft:rCe,looparrowright:nCe,lopar:iCe,Lopf:aCe,lopf:oCe,loplus:sCe,lotimes:lCe,lowast:uCe,lowbar:cCe,LowerLeftArrow:fCe,LowerRightArrow:dCe,loz:hCe,lozenge:pCe,lozf:vCe,lpar:mCe,lparlt:gCe,lrarr:yCe,lrcorner:kCe,lrhar:wCe,lrhard:bCe,lrm:CCe,lrtri:TCe,lsaquo:SCe,lscr:xCe,Lscr:ECe,lsh:MCe,Lsh:NCe,lsim:OCe,lsime:DCe,lsimg:ACe,lsqb:LCe,lsquo:RCe,lsquor:ICe,Lstrok:PCe,lstrok:BCe,ltcc:FCe,ltcir:_Ce,lt:qCe,LT:zCe,Lt:HCe,ltdot:VCe,lthree:$Ce,ltimes:UCe,ltlarr:WCe,ltquest:jCe,ltri:GCe,ltrie:KCe,ltrif:JCe,ltrPar:QCe,lurdshar:XCe,luruhar:YCe,lvertneqq:ZCe,lvnE:eTe,macr:tTe,male:rTe,malt:nTe,maltese:iTe,Map:"",map:aTe,mapsto:oTe,mapstodown:sTe,mapstoleft:lTe,mapstoup:uTe,marker:cTe,mcomma:fTe,Mcy:dTe,mcy:hTe,mdash:pTe,mDDot:vTe,measuredangle:mTe,MediumSpace:gTe,Mellintrf:yTe,Mfr:kTe,mfr:wTe,mho:bTe,micro:CTe,midast:TTe,midcir:STe,mid:xTe,middot:ETe,minusb:MTe,minus:NTe,minusd:OTe,minusdu:DTe,MinusPlus:ATe,mlcp:LTe,mldr:RTe,mnplus:ITe,models:PTe,Mopf:BTe,mopf:FTe,mp:_Te,mscr:qTe,Mscr:zTe,mstpos:HTe,Mu:VTe,mu:$Te,multimap:UTe,mumap:WTe,nabla:jTe,Nacute:GTe,nacute:KTe,nang:JTe,nap:QTe,napE:XTe,napid:YTe,napos:ZTe,napprox:eSe,natural:tSe,naturals:rSe,natur:nSe,nbsp:iSe,nbump:aSe,nbumpe:oSe,ncap:sSe,Ncaron:lSe,ncaron:uSe,Ncedil:cSe,ncedil:fSe,ncong:dSe,ncongdot:hSe,ncup:pSe,Ncy:vSe,ncy:mSe,ndash:gSe,nearhk:ySe,nearr:kSe,neArr:wSe,nearrow:bSe,ne:CSe,nedot:TSe,NegativeMediumSpace:SSe,NegativeThickSpace:xSe,NegativeThinSpace:ESe,NegativeVeryThinSpace:MSe,nequiv:NSe,nesear:OSe,nesim:DSe,NestedGreaterGreater:ASe,NestedLessLess:LSe,NewLine:RSe,nexist:ISe,nexists:PSe,Nfr:BSe,nfr:FSe,ngE:_Se,nge:qSe,ngeq:zSe,ngeqq:HSe,ngeqslant:VSe,nges:$Se,nGg:USe,ngsim:WSe,nGt:jSe,ngt:GSe,ngtr:KSe,nGtv:JSe,nharr:QSe,nhArr:XSe,nhpar:YSe,ni:ZSe,nis:exe,nisd:txe,niv:rxe,NJcy:nxe,njcy:ixe,nlarr:axe,nlArr:oxe,nldr:sxe,nlE:lxe,nle:uxe,nleftarrow:cxe,nLeftarrow:fxe,nleftrightarrow:dxe,nLeftrightarrow:hxe,nleq:pxe,nleqq:vxe,nleqslant:mxe,nles:gxe,nless:yxe,nLl:kxe,nlsim:wxe,nLt:bxe,nlt:Cxe,nltri:Txe,nltrie:Sxe,nLtv:xxe,nmid:Exe,NoBreak:Mxe,NonBreakingSpace:Nxe,nopf:Oxe,Nopf:Dxe,Not:Axe,not:Lxe,NotCongruent:Rxe,NotCupCap:Ixe,NotDoubleVerticalBar:Pxe,NotElement:Bxe,NotEqual:Fxe,NotEqualTilde:_xe,NotExists:qxe,NotGreater:zxe,NotGreaterEqual:Hxe,NotGreaterFullEqual:Vxe,NotGreaterGreater:$xe,NotGreaterLess:Uxe,NotGreaterSlantEqual:Wxe,NotGreaterTilde:jxe,NotHumpDownHump:Gxe,NotHumpEqual:Kxe,notin:Jxe,notindot:Qxe,notinE:Xxe,notinva:Yxe,notinvb:Zxe,notinvc:eEe,NotLeftTriangleBar:tEe,NotLeftTriangle:rEe,NotLeftTriangleEqual:nEe,NotLess:iEe,NotLessEqual:aEe,NotLessGreater:oEe,NotLessLess:sEe,NotLessSlantEqual:lEe,NotLessTilde:uEe,NotNestedGreaterGreater:cEe,NotNestedLessLess:fEe,notni:dEe,notniva:hEe,notnivb:pEe,notnivc:vEe,NotPrecedes:mEe,NotPrecedesEqual:gEe,NotPrecedesSlantEqual:yEe,NotReverseElement:kEe,NotRightTriangleBar:wEe,NotRightTriangle:bEe,NotRightTriangleEqual:CEe,NotSquareSubset:TEe,NotSquareSubsetEqual:SEe,NotSquareSuperset:xEe,NotSquareSupersetEqual:EEe,NotSubset:MEe,NotSubsetEqual:NEe,NotSucceeds:OEe,NotSucceedsEqual:DEe,NotSucceedsSlantEqual:AEe,NotSucceedsTilde:LEe,NotSuperset:REe,NotSupersetEqual:IEe,NotTilde:PEe,NotTildeEqual:BEe,NotTildeFullEqual:FEe,NotTildeTilde:_Ee,NotVerticalBar:qEe,nparallel:zEe,npar:HEe,nparsl:VEe,npart:$Ee,npolint:UEe,npr:WEe,nprcue:jEe,nprec:GEe,npreceq:KEe,npre:JEe,nrarrc:QEe,nrarr:XEe,nrArr:YEe,nrarrw:ZEe,nrightarrow:eMe,nRightarrow:tMe,nrtri:rMe,nrtrie:nMe,nsc:iMe,nsccue:aMe,nsce:oMe,Nscr:sMe,nscr:lMe,nshortmid:uMe,nshortparallel:cMe,nsim:fMe,nsime:dMe,nsimeq:hMe,nsmid:pMe,nspar:vMe,nsqsube:mMe,nsqsupe:gMe,nsub:yMe,nsubE:kMe,nsube:wMe,nsubset:bMe,nsubseteq:CMe,nsubseteqq:TMe,nsucc:SMe,nsucceq:xMe,nsup:EMe,nsupE:MMe,nsupe:NMe,nsupset:OMe,nsupseteq:DMe,nsupseteqq:AMe,ntgl:LMe,Ntilde:RMe,ntilde:IMe,ntlg:PMe,ntriangleleft:BMe,ntrianglelefteq:FMe,ntriangleright:_Me,ntrianglerighteq:qMe,Nu:zMe,nu:HMe,num:VMe,numero:$Me,numsp:UMe,nvap:WMe,nvdash:jMe,nvDash:GMe,nVdash:KMe,nVDash:JMe,nvge:QMe,nvgt:XMe,nvHarr:YMe,nvinfin:ZMe,nvlArr:eNe,nvle:tNe,nvlt:rNe,nvltrie:nNe,nvrArr:iNe,nvrtrie:aNe,nvsim:oNe,nwarhk:sNe,nwarr:lNe,nwArr:uNe,nwarrow:cNe,nwnear:fNe,Oacute:dNe,oacute:hNe,oast:pNe,Ocirc:vNe,ocirc:mNe,ocir:gNe,Ocy:yNe,ocy:kNe,odash:wNe,Odblac:bNe,odblac:CNe,odiv:TNe,odot:SNe,odsold:xNe,OElig:ENe,oelig:MNe,ofcir:NNe,Ofr:ONe,ofr:DNe,ogon:ANe,Ograve:LNe,ograve:RNe,ogt:INe,ohbar:PNe,ohm:BNe,oint:FNe,olarr:_Ne,olcir:qNe,olcross:zNe,oline:HNe,olt:VNe,Omacr:$Ne,omacr:UNe,Omega:WNe,omega:jNe,Omicron:GNe,omicron:KNe,omid:JNe,ominus:QNe,Oopf:XNe,oopf:YNe,opar:ZNe,OpenCurlyDoubleQuote:eOe,OpenCurlyQuote:tOe,operp:rOe,oplus:nOe,orarr:iOe,Or:aOe,or:oOe,ord:sOe,order:lOe,orderof:uOe,ordf:cOe,ordm:fOe,origof:dOe,oror:hOe,orslope:pOe,orv:vOe,oS:mOe,Oscr:gOe,oscr:yOe,Oslash:kOe,oslash:wOe,osol:bOe,Otilde:COe,otilde:TOe,otimesas:SOe,Otimes:xOe,otimes:EOe,Ouml:MOe,ouml:NOe,ovbar:OOe,OverBar:DOe,OverBrace:AOe,OverBracket:LOe,OverParenthesis:ROe,para:IOe,parallel:POe,par:BOe,parsim:FOe,parsl:_Oe,part:qOe,PartialD:zOe,Pcy:HOe,pcy:VOe,percnt:$Oe,period:UOe,permil:WOe,perp:jOe,pertenk:GOe,Pfr:KOe,pfr:JOe,Phi:QOe,phi:XOe,phiv:YOe,phmmat:ZOe,phone:eDe,Pi:tDe,pi:rDe,pitchfork:nDe,piv:iDe,planck:aDe,planckh:oDe,plankv:sDe,plusacir:lDe,plusb:uDe,pluscir:cDe,plus:fDe,plusdo:dDe,plusdu:hDe,pluse:pDe,PlusMinus:vDe,plusmn:mDe,plussim:gDe,plustwo:yDe,pm:kDe,Poincareplane:wDe,pointint:bDe,popf:CDe,Popf:TDe,pound:SDe,prap:xDe,Pr:EDe,pr:MDe,prcue:NDe,precapprox:ODe,prec:DDe,preccurlyeq:ADe,Precedes:LDe,PrecedesEqual:RDe,PrecedesSlantEqual:IDe,PrecedesTilde:PDe,preceq:BDe,precnapprox:FDe,precneqq:_De,precnsim:qDe,pre:zDe,prE:HDe,precsim:VDe,prime:$De,Prime:UDe,primes:WDe,prnap:jDe,prnE:GDe,prnsim:KDe,prod:JDe,Product:QDe,profalar:XDe,profline:YDe,profsurf:ZDe,prop:eAe,Proportional:tAe,Proportion:rAe,propto:nAe,prsim:iAe,prurel:aAe,Pscr:oAe,pscr:sAe,Psi:lAe,psi:uAe,puncsp:cAe,Qfr:fAe,qfr:dAe,qint:hAe,qopf:pAe,Qopf:vAe,qprime:mAe,Qscr:gAe,qscr:yAe,quaternions:kAe,quatint:wAe,quest:bAe,questeq:CAe,quot:TAe,QUOT:SAe,rAarr:xAe,race:EAe,Racute:MAe,racute:NAe,radic:OAe,raemptyv:DAe,rang:AAe,Rang:LAe,rangd:RAe,range:IAe,rangle:PAe,raquo:BAe,rarrap:FAe,rarrb:_Ae,rarrbfs:qAe,rarrc:zAe,rarr:HAe,Rarr:VAe,rArr:$Ae,rarrfs:UAe,rarrhk:WAe,rarrlp:jAe,rarrpl:GAe,rarrsim:KAe,Rarrtl:JAe,rarrtl:QAe,rarrw:XAe,ratail:YAe,rAtail:ZAe,ratio:eLe,rationals:tLe,rbarr:rLe,rBarr:nLe,RBarr:iLe,rbbrk:aLe,rbrace:oLe,rbrack:sLe,rbrke:lLe,rbrksld:uLe,rbrkslu:cLe,Rcaron:fLe,rcaron:dLe,Rcedil:hLe,rcedil:pLe,rceil:vLe,rcub:mLe,Rcy:gLe,rcy:yLe,rdca:kLe,rdldhar:wLe,rdquo:bLe,rdquor:CLe,rdsh:TLe,real:SLe,realine:xLe,realpart:ELe,reals:MLe,Re:NLe,rect:OLe,reg:DLe,REG:ALe,ReverseElement:LLe,ReverseEquilibrium:RLe,ReverseUpEquilibrium:ILe,rfisht:PLe,rfloor:BLe,rfr:FLe,Rfr:_Le,rHar:qLe,rhard:zLe,rharu:HLe,rharul:VLe,Rho:$Le,rho:ULe,rhov:WLe,RightAngleBracket:jLe,RightArrowBar:GLe,rightarrow:KLe,RightArrow:JLe,Rightarrow:QLe,RightArrowLeftArrow:XLe,rightarrowtail:YLe,RightCeiling:ZLe,RightDoubleBracket:eRe,RightDownTeeVector:tRe,RightDownVectorBar:rRe,RightDownVector:nRe,RightFloor:iRe,rightharpoondown:aRe,rightharpoonup:oRe,rightleftarrows:sRe,rightleftharpoons:lRe,rightrightarrows:uRe,rightsquigarrow:cRe,RightTeeArrow:fRe,RightTee:dRe,RightTeeVector:hRe,rightthreetimes:pRe,RightTriangleBar:vRe,RightTriangle:mRe,RightTriangleEqual:gRe,RightUpDownVector:yRe,RightUpTeeVector:kRe,RightUpVectorBar:wRe,RightUpVector:bRe,RightVectorBar:CRe,RightVector:TRe,ring:SRe,risingdotseq:xRe,rlarr:ERe,rlhar:MRe,rlm:NRe,rmoustache:ORe,rmoust:DRe,rnmid:ARe,roang:LRe,roarr:RRe,robrk:IRe,ropar:PRe,ropf:BRe,Ropf:FRe,roplus:_Re,rotimes:qRe,RoundImplies:zRe,rpar:HRe,rpargt:VRe,rppolint:$Re,rrarr:URe,Rrightarrow:WRe,rsaquo:jRe,rscr:GRe,Rscr:KRe,rsh:JRe,Rsh:QRe,rsqb:XRe,rsquo:YRe,rsquor:ZRe,rthree:eIe,rtimes:tIe,rtri:rIe,rtrie:nIe,rtrif:iIe,rtriltri:aIe,RuleDelayed:oIe,ruluhar:sIe,rx:lIe,Sacute:uIe,sacute:cIe,sbquo:fIe,scap:dIe,Scaron:hIe,scaron:pIe,Sc:vIe,sc:mIe,sccue:gIe,sce:yIe,scE:kIe,Scedil:wIe,scedil:bIe,Scirc:CIe,scirc:TIe,scnap:SIe,scnE:xIe,scnsim:EIe,scpolint:MIe,scsim:NIe,Scy:OIe,scy:DIe,sdotb:AIe,sdot:LIe,sdote:RIe,searhk:IIe,searr:PIe,seArr:BIe,searrow:FIe,sect:_Ie,semi:qIe,seswar:zIe,setminus:HIe,setmn:VIe,sext:$Ie,Sfr:UIe,sfr:WIe,sfrown:jIe,sharp:GIe,SHCHcy:KIe,shchcy:JIe,SHcy:QIe,shcy:XIe,ShortDownArrow:YIe,ShortLeftArrow:ZIe,shortmid:ePe,shortparallel:tPe,ShortRightArrow:rPe,ShortUpArrow:nPe,shy:iPe,Sigma:aPe,sigma:oPe,sigmaf:sPe,sigmav:lPe,sim:uPe,simdot:cPe,sime:fPe,simeq:dPe,simg:hPe,simgE:pPe,siml:vPe,simlE:mPe,simne:gPe,simplus:yPe,simrarr:kPe,slarr:wPe,SmallCircle:bPe,smallsetminus:CPe,smashp:TPe,smeparsl:SPe,smid:xPe,smile:EPe,smt:MPe,smte:NPe,smtes:OPe,SOFTcy:DPe,softcy:APe,solbar:LPe,solb:RPe,sol:IPe,Sopf:PPe,sopf:BPe,spades:FPe,spadesuit:_Pe,spar:qPe,sqcap:zPe,sqcaps:HPe,sqcup:VPe,sqcups:$Pe,Sqrt:UPe,sqsub:WPe,sqsube:jPe,sqsubset:GPe,sqsubseteq:KPe,sqsup:JPe,sqsupe:QPe,sqsupset:XPe,sqsupseteq:YPe,square:ZPe,Square:eBe,SquareIntersection:tBe,SquareSubset:rBe,SquareSubsetEqual:nBe,SquareSuperset:iBe,SquareSupersetEqual:aBe,SquareUnion:oBe,squarf:sBe,squ:lBe,squf:uBe,srarr:cBe,Sscr:fBe,sscr:dBe,ssetmn:hBe,ssmile:pBe,sstarf:vBe,Star:mBe,star:gBe,starf:yBe,straightepsilon:kBe,straightphi:wBe,strns:bBe,sub:CBe,Sub:TBe,subdot:SBe,subE:xBe,sube:EBe,subedot:MBe,submult:NBe,subnE:OBe,subne:DBe,subplus:ABe,subrarr:LBe,subset:RBe,Subset:IBe,subseteq:PBe,subseteqq:BBe,SubsetEqual:FBe,subsetneq:_Be,subsetneqq:qBe,subsim:zBe,subsub:HBe,subsup:VBe,succapprox:$Be,succ:UBe,succcurlyeq:WBe,Succeeds:jBe,SucceedsEqual:GBe,SucceedsSlantEqual:KBe,SucceedsTilde:JBe,succeq:QBe,succnapprox:XBe,succneqq:YBe,succnsim:ZBe,succsim:eFe,SuchThat:tFe,sum:rFe,Sum:nFe,sung:iFe,sup1:aFe,sup2:oFe,sup3:sFe,sup:lFe,Sup:uFe,supdot:cFe,supdsub:fFe,supE:dFe,supe:hFe,supedot:pFe,Superset:vFe,SupersetEqual:mFe,suphsol:gFe,suphsub:yFe,suplarr:kFe,supmult:wFe,supnE:bFe,supne:CFe,supplus:TFe,supset:SFe,Supset:xFe,supseteq:EFe,supseteqq:MFe,supsetneq:NFe,supsetneqq:OFe,supsim:DFe,supsub:AFe,supsup:LFe,swarhk:RFe,swarr:IFe,swArr:PFe,swarrow:BFe,swnwar:FFe,szlig:_Fe,Tab:qFe,target:zFe,Tau:HFe,tau:VFe,tbrk:$Fe,Tcaron:UFe,tcaron:WFe,Tcedil:jFe,tcedil:GFe,Tcy:KFe,tcy:JFe,tdot:QFe,telrec:XFe,Tfr:YFe,tfr:ZFe,there4:e_e,therefore:t_e,Therefore:r_e,Theta:n_e,theta:i_e,thetasym:a_e,thetav:o_e,thickapprox:s_e,thicksim:l_e,ThickSpace:u_e,ThinSpace:c_e,thinsp:f_e,thkap:d_e,thksim:h_e,THORN:p_e,thorn:v_e,tilde:m_e,Tilde:g_e,TildeEqual:y_e,TildeFullEqual:k_e,TildeTilde:w_e,timesbar:b_e,timesb:C_e,times:T_e,timesd:S_e,tint:x_e,toea:E_e,topbot:M_e,topcir:N_e,top:O_e,Topf:D_e,topf:A_e,topfork:L_e,tosa:R_e,tprime:I_e,trade:P_e,TRADE:B_e,triangle:F_e,triangledown:__e,triangleleft:q_e,trianglelefteq:z_e,triangleq:H_e,triangleright:V_e,trianglerighteq:$_e,tridot:U_e,trie:W_e,triminus:j_e,TripleDot:G_e,triplus:K_e,trisb:J_e,tritime:Q_e,trpezium:X_e,Tscr:Y_e,tscr:Z_e,TScy:e2e,tscy:t2e,TSHcy:r2e,tshcy:n2e,Tstrok:i2e,tstrok:a2e,twixt:o2e,twoheadleftarrow:s2e,twoheadrightarrow:l2e,Uacute:u2e,uacute:c2e,uarr:f2e,Uarr:d2e,uArr:h2e,Uarrocir:p2e,Ubrcy:v2e,ubrcy:m2e,Ubreve:g2e,ubreve:y2e,Ucirc:k2e,ucirc:w2e,Ucy:b2e,ucy:C2e,udarr:T2e,Udblac:S2e,udblac:x2e,udhar:E2e,ufisht:M2e,Ufr:N2e,ufr:O2e,Ugrave:D2e,ugrave:A2e,uHar:L2e,uharl:R2e,uharr:I2e,uhblk:P2e,ulcorn:B2e,ulcorner:F2e,ulcrop:_2e,ultri:q2e,Umacr:z2e,umacr:H2e,uml:V2e,UnderBar:$2e,UnderBrace:U2e,UnderBracket:W2e,UnderParenthesis:j2e,Union:G2e,UnionPlus:K2e,Uogon:J2e,uogon:Q2e,Uopf:X2e,uopf:Y2e,UpArrowBar:Z2e,uparrow:eqe,UpArrow:tqe,Uparrow:rqe,UpArrowDownArrow:nqe,updownarrow:iqe,UpDownArrow:aqe,Updownarrow:oqe,UpEquilibrium:sqe,upharpoonleft:lqe,upharpoonright:uqe,uplus:cqe,UpperLeftArrow:fqe,UpperRightArrow:dqe,upsi:hqe,Upsi:pqe,upsih:vqe,Upsilon:mqe,upsilon:gqe,UpTeeArrow:yqe,UpTee:kqe,upuparrows:wqe,urcorn:bqe,urcorner:Cqe,urcrop:Tqe,Uring:Sqe,uring:xqe,urtri:Eqe,Uscr:Mqe,uscr:Nqe,utdot:Oqe,Utilde:Dqe,utilde:Aqe,utri:Lqe,utrif:Rqe,uuarr:Iqe,Uuml:Pqe,uuml:Bqe,uwangle:Fqe,vangrt:_qe,varepsilon:qqe,varkappa:zqe,varnothing:Hqe,varphi:Vqe,varpi:$qe,varpropto:Uqe,varr:Wqe,vArr:jqe,varrho:Gqe,varsigma:Kqe,varsubsetneq:Jqe,varsubsetneqq:Qqe,varsupsetneq:Xqe,varsupsetneqq:Yqe,vartheta:Zqe,vartriangleleft:eze,vartriangleright:tze,vBar:rze,Vbar:nze,vBarv:ize,Vcy:aze,vcy:oze,vdash:sze,vDash:lze,Vdash:uze,VDash:cze,Vdashl:fze,veebar:dze,vee:hze,Vee:pze,veeeq:vze,vellip:mze,verbar:gze,Verbar:yze,vert:kze,Vert:wze,VerticalBar:bze,VerticalLine:Cze,VerticalSeparator:Tze,VerticalTilde:Sze,VeryThinSpace:xze,Vfr:Eze,vfr:Mze,vltri:Nze,vnsub:Oze,vnsup:Dze,Vopf:Aze,vopf:Lze,vprop:Rze,vrtri:Ize,Vscr:Pze,vscr:Bze,vsubnE:Fze,vsubne:_ze,vsupnE:qze,vsupne:zze,Vvdash:Hze,vzigzag:Vze,Wcirc:$ze,wcirc:Uze,wedbar:Wze,wedge:jze,Wedge:Gze,wedgeq:Kze,weierp:Jze,Wfr:Qze,wfr:Xze,Wopf:Yze,wopf:Zze,wp:eHe,wr:tHe,wreath:rHe,Wscr:nHe,wscr:iHe,xcap:aHe,xcirc:oHe,xcup:sHe,xdtri:lHe,Xfr:uHe,xfr:cHe,xharr:fHe,xhArr:dHe,Xi:hHe,xi:pHe,xlarr:vHe,xlArr:mHe,xmap:gHe,xnis:yHe,xodot:kHe,Xopf:wHe,xopf:bHe,xoplus:CHe,xotime:THe,xrarr:SHe,xrArr:xHe,Xscr:EHe,xscr:MHe,xsqcup:NHe,xuplus:OHe,xutri:DHe,xvee:AHe,xwedge:LHe,Yacute:RHe,yacute:IHe,YAcy:PHe,yacy:BHe,Ycirc:FHe,ycirc:_He,Ycy:qHe,ycy:zHe,yen:HHe,Yfr:VHe,yfr:$He,YIcy:UHe,yicy:WHe,Yopf:jHe,yopf:GHe,Yscr:KHe,yscr:JHe,YUcy:QHe,yucy:XHe,yuml:YHe,Yuml:ZHe,Zacute:e3e,zacute:t3e,Zcaron:r3e,zcaron:n3e,Zcy:i3e,zcy:a3e,Zdot:o3e,zdot:s3e,zeetrf:l3e,ZeroWidthSpace:u3e,Zeta:c3e,zeta:f3e,zfr:d3e,Zfr:h3e,ZHcy:p3e,zhcy:v3e,zigrarr:m3e,zopf:g3e,Zopf:y3e,Zscr:k3e,zscr:w3e,zwj:b3e,zwnj:C3e},T3e="",S3e="",x3e="",E3e="",M3e="",N3e="",O3e="",D3e="",A3e="",L3e="&",R3e="&",I3e="",P3e="",B3e="",F3e="",_3e="",q3e="",z3e="",H3e="",V3e="",$3e="",U3e="",W3e="",j3e="",G3e="",K3e="",J3e="",Q3e="",X3e="",Y3e="",Z3e="",eVe="",tVe="",rVe="",nVe="",iVe="",aVe="",oVe="",sVe="",lVe="",uVe=">",cVe=">",fVe="",dVe="",hVe="",pVe="",vVe="",mVe="",gVe="",yVe="",kVe="",wVe="",bVe="",CVe="<",TVe="<",SVe="",xVe="",EVe="",MVe="",NVe="",OVe="",DVe="",AVe="",LVe="",RVe="",IVe="",PVe="",BVe="",FVe="",_Ve="",qVe="",zVe="",HVe="",VVe="",$Ve="",UVe="",WVe="",jVe="",GVe="",KVe='"',JVe='"',QVe="",XVe="",YVe="",ZVe="",e$e="",t$e="",r$e="",n$e="",i$e="",a$e="",o$e="",s$e="",l$e="",u$e="",c$e="",f$e="",d$e="",h$e="",p$e="",v$e="",m$e="",g$e="",y$e="",k$e="",w$e="",b$e={Aacute:T3e,aacute:S3e,Acirc:x3e,acirc:E3e,acute:M3e,AElig:N3e,aelig:O3e,Agrave:D3e,agrave:A3e,amp:L3e,AMP:R3e,Aring:I3e,aring:P3e,Atilde:B3e,atilde:F3e,Auml:_3e,auml:q3e,brvbar:z3e,Ccedil:H3e,ccedil:V3e,cedil:$3e,cent:U3e,copy:W3e,COPY:j3e,curren:G3e,deg:K3e,divide:J3e,Eacute:Q3e,eacute:X3e,Ecirc:Y3e,ecirc:Z3e,Egrave:eVe,egrave:tVe,ETH:rVe,eth:nVe,Euml:iVe,euml:aVe,frac12:oVe,frac14:sVe,frac34:lVe,gt:uVe,GT:cVe,Iacute:fVe,iacute:dVe,Icirc:hVe,icirc:pVe,iexcl:vVe,Igrave:mVe,igrave:gVe,iquest:yVe,Iuml:kVe,iuml:wVe,laquo:bVe,lt:CVe,LT:TVe,macr:SVe,micro:xVe,middot:EVe,nbsp:MVe,not:NVe,Ntilde:OVe,ntilde:DVe,Oacute:AVe,oacute:LVe,Ocirc:RVe,ocirc:IVe,Ograve:PVe,ograve:BVe,ordf:FVe,ordm:_Ve,Oslash:qVe,oslash:zVe,Otilde:HVe,otilde:VVe,Ouml:$Ve,ouml:UVe,para:WVe,plusmn:jVe,pound:GVe,quot:KVe,QUOT:JVe,raquo:QVe,reg:XVe,REG:YVe,sect:ZVe,shy:e$e,sup1:t$e,sup2:r$e,sup3:n$e,szlig:i$e,THORN:a$e,thorn:o$e,times:s$e,Uacute:l$e,uacute:u$e,Ucirc:c$e,ucirc:f$e,Ugrave:d$e,ugrave:h$e,uml:p$e,Uuml:v$e,uuml:m$e,Yacute:g$e,yacute:y$e,yen:k$e,yuml:w$e},C$e="&",T$e="'",S$e=">",x$e="<",E$e='"',jx={amp:C$e,apos:T$e,gt:S$e,lt:x$e,quot:E$e},Mk={},M$e={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},N$e=df&&df.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Mk,"__esModule",{value:!0});var jb=N$e(M$e),O$e=String.fromCodePoint||function(r){var e="";return r>65535&&(r-=65536,e+=String.fromCharCode(r>>>10&1023|55296),r=56320|r&1023),e+=String.fromCharCode(r),e};function D$e(r){return r>=55296&&r<=57343||r>1114111?"":(r in jb.default&&(r=jb.default[r]),O$e(r))}Mk.default=D$e;var Fm=df&&df.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(As,"__esModule",{value:!0});As.decodeHTML=As.decodeHTMLStrict=As.decodeXML=void 0;var C0=Fm(Wx),A$e=Fm(b$e),L$e=Fm(jx),Gb=Fm(Mk),R$e=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;As.decodeXML=Gx(L$e.default);As.decodeHTMLStrict=Gx(C0.default);function Gx(r){var e=Kx(r);return function(t){return String(t).replace(R$e,e)}}var Kb=function(r,e){return r<e?1:-1};As.decodeHTML=(function(){for(var r=Object.keys(A$e.default).sort(Kb),e=Object.keys(C0.default).sort(Kb),t=0,n=0;t<e.length;t++)r[n]===e[t]?(e[t]+=";?",n++):e[t]+=";";var i=new RegExp("&(?:"+e.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),a=Kx(C0.default);function s(u){return u.substr(-1)!==";"&&(u+=";"),a(u)}return function(u){return String(u).replace(i,s)}})();function Kx(r){return function(t){if(t.charAt(1)==="#"){var n=t.charAt(2);return n==="X"||n==="x"?Gb.default(parseInt(t.substr(3),16)):Gb.default(parseInt(t.substr(2),10))}return r[t.slice(1,-1)]||t}}var da={},Jx=df&&df.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(da,"__esModule",{value:!0});da.escapeUTF8=da.escape=da.encodeNonAsciiHTML=da.encodeHTML=da.encodeXML=void 0;var I$e=Jx(jx),Qx=Yx(I$e.default),Xx=Zx(Qx);da.encodeXML=rE(Qx);var P$e=Jx(Wx),Nk=Yx(P$e.default),B$e=Zx(Nk);da.encodeHTML=_$e(Nk,B$e);da.encodeNonAsciiHTML=rE(Nk);function Yx(r){return Object.keys(r).sort().reduce(function(e,t){return e[r[t]]="&"+t+";",e},{})}function Zx(r){for(var e=[],t=[],n=0,i=Object.keys(r);n<i.length;n++){var a=i[n];a.length===1?e.push("\\"+a):t.push(a)}e.sort();for(var s=0;s<e.length-1;s++){for(var u=s;u<e.length-1&&e[u].charCodeAt(1)+1===e[u+1].charCodeAt(1);)u+=1;var f=1+u-s;f<3||e.splice(s,f,e[s]+"-"+e[u])}return t.unshift("["+e.join("")+"]"),new RegExp(t.join("|"),"g")}var eE=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,F$e=String.prototype.codePointAt!=null?function(r){return r.codePointAt(0)}:function(r){return(r.charCodeAt(0)-55296)*1024+r.charCodeAt(1)-56320+65536};function _m(r){return"&#x"+(r.length>1?F$e(r):r.charCodeAt(0)).toString(16).toUpperCase()+";"}function _$e(r,e){return function(t){return t.replace(e,function(n){return r[n]}).replace(eE,_m)}}var tE=new RegExp(Xx.source+"|"+eE.source,"g");function q$e(r){return r.replace(tE,_m)}da.escape=q$e;function z$e(r){return r.replace(Xx,_m)}da.escapeUTF8=z$e;function rE(r){return function(e){return e.replace(tE,function(t){return r[t]||_m(t)})}}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.decodeXMLStrict=r.decodeHTML5Strict=r.decodeHTML4Strict=r.decodeHTML5=r.decodeHTML4=r.decodeHTMLStrict=r.decodeHTML=r.decodeXML=r.encodeHTML5=r.encodeHTML4=r.escapeUTF8=r.escape=r.encodeNonAsciiHTML=r.encodeHTML=r.encodeXML=r.encode=r.decodeStrict=r.decode=void 0;var e=As,t=da;function n(f,p){return(!p||p<=0?e.decodeXML:e.decodeHTML)(f)}r.decode=n;function i(f,p){return(!p||p<=0?e.decodeXML:e.decodeHTMLStrict)(f)}r.decodeStrict=i;function a(f,p){return(!p||p<=0?t.encodeXML:t.encodeHTML)(f)}r.encode=a;var s=da;Object.defineProperty(r,"encodeXML",{enumerable:!0,get:function(){return s.encodeXML}}),Object.defineProperty(r,"encodeHTML",{enumerable:!0,get:function(){return s.encodeHTML}}),Object.defineProperty(r,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return s.encodeNonAsciiHTML}}),Object.defineProperty(r,"escape",{enumerable:!0,get:function(){return s.escape}}),Object.defineProperty(r,"escapeUTF8",{enumerable:!0,get:function(){return s.escapeUTF8}}),Object.defineProperty(r,"encodeHTML4",{enumerable:!0,get:function(){return s.encodeHTML}}),Object.defineProperty(r,"encodeHTML5",{enumerable:!0,get:function(){return s.encodeHTML}});var u=As;Object.defineProperty(r,"decodeXML",{enumerable:!0,get:function(){return u.decodeXML}}),Object.defineProperty(r,"decodeHTML",{enumerable:!0,get:function(){return u.decodeHTML}}),Object.defineProperty(r,"decodeHTMLStrict",{enumerable:!0,get:function(){return u.decodeHTMLStrict}}),Object.defineProperty(r,"decodeHTML4",{enumerable:!0,get:function(){return u.decodeHTML}}),Object.defineProperty(r,"decodeHTML5",{enumerable:!0,get:function(){return u.decodeHTML}}),Object.defineProperty(r,"decodeHTML4Strict",{enumerable:!0,get:function(){return u.decodeHTMLStrict}}),Object.defineProperty(r,"decodeHTML5Strict",{enumerable:!0,get:function(){return u.decodeHTMLStrict}}),Object.defineProperty(r,"decodeXMLStrict",{enumerable:!0,get:function(){return u.decodeXML}})})(Ek);var nE="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});",H$e=92,V$e=/[\\&]/,Ok="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",$$e=new RegExp("\\\\"+Ok+"|"+nE,"gi"),U$e='[&<>"]',Jb=new RegExp(U$e,"g"),W$e=function(r){return r.charCodeAt(0)===H$e?r.charAt(1):Ek.decodeHTML(r)};function ch(r){return V$e.test(r)?r.replace($$e,W$e):r}function Ev(r){try{return aoe(r)}catch{return r}}function j$e(r){switch(r){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return r}}function Jc(r){return Jb.test(r)?r.replace(Jb,j$e):r}function T0(r,e){for(var t=[],n=0;n<e;n++)t.push(r);return t.join("")}function Qb(r){return r?!/[^ \t]+/.test(r):!0}var G$e=(function(){function r(e){this.current=e,this.root=e,this.entering=!0}return r.prototype.next=function(){var e=this.current,t=this.entering;if(e===null)return null;var n=Dk(e);return t&&n?e.firstChild?(this.current=e.firstChild,this.entering=!0):this.entering=!1:e===this.root?this.current=null:e.next===null?(this.current=e.parent,this.entering=!1):(this.current=e.next,this.entering=!0),{entering:t,node:e}},r.prototype.resumeAt=function(e,t){this.current=e,this.entering=t===!0},r})();function Dk(r){switch(r.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}var K$e=1,qm={};function J$e(r){return qm[r]}function S0(r){delete qm[r]}function Q$e(){qm={}}var Mh=(function(){function r(e,t){this.parent=null,this.prev=null,this.next=null,this.firstChild=null,this.lastChild=null,this.literal=null,e==="document"?this.id=-1:this.id=K$e++,this.type=e,this.sourcepos=t,qm[this.id]=this}return r.prototype.isContainer=function(){return Dk(this)},r.prototype.unlink=function(){this.prev?this.prev.next=this.next:this.parent&&(this.parent.firstChild=this.next),this.next?this.next.prev=this.prev:this.parent&&(this.parent.lastChild=this.prev),this.parent=null,this.next=null,this.prev=null},r.prototype.replaceWith=function(e){this.insertBefore(e),this.unlink()},r.prototype.insertAfter=function(e){e.unlink(),e.next=this.next,e.next&&(e.next.prev=e),e.prev=this,this.next=e,this.parent&&(e.parent=this.parent,e.next||(e.parent.lastChild=e))},r.prototype.insertBefore=function(e){e.unlink(),e.prev=this.prev,e.prev&&(e.prev.next=e),e.next=this,this.prev=e,e.parent=this.parent,e.prev||(e.parent.firstChild=e)},r.prototype.appendChild=function(e){e.unlink(),e.parent=this,this.lastChild?(this.lastChild.next=e,e.prev=this.lastChild,this.lastChild=e):(this.firstChild=e,this.lastChild=e)},r.prototype.prependChild=function(e){e.unlink(),e.parent=this,this.firstChild?(this.firstChild.prev=e,e.next=this.firstChild,this.firstChild=e):(this.firstChild=e,this.lastChild=e)},r.prototype.walker=function(){return new G$e(this)},r})(),Is=(function(r){Ma(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.open=!0,i.lineOffsets=null,i.stringContent=null,i.lastLineBlank=!1,i.lastLineChecked=!1,i.type=t,i}return e})(Mh),X$e=(function(r){Ma(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.listData=null,t}return e})(Is),Y$e=(function(r){Ma(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.level=0,t.headingType="atx",t}return e})(Is),Z$e=(function(r){Ma(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isFenced=!1,t.fenceChar=null,t.fenceLength=0,t.fenceOffset=-1,t.info=null,t.infoPadding=0,t}return e})(Is),eUe=(function(r){Ma(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.columns=[],t}return e})(Is),tUe=(function(r){Ma(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.startIdx=0,t.endIdx=0,t.paddingLeft=0,t.paddingRight=0,t.ignored=!1,t}return e})(Is),rUe=(function(r){Ma(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.title="",t.dest="",t.label="",t}return e})(Is),nUe=(function(r){Ma(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.syntaxLength=0,t.offset=-1,t.info="",t}return e})(Is),iUe=(function(r){Ma(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.htmlBlockType=-1,t}return e})(Is),aUe=(function(r){Ma(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.destination=null,t.title=null,t.extendedAutolink=!1,t}return e})(Mh),oUe=(function(r){Ma(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.tickCount=0,t}return e})(Mh),sUe=(function(r){Ma(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.info="",t}return e})(Mh);function on(r,e){switch(r){case"heading":return new Y$e(r,e);case"list":case"item":return new X$e(r,e);case"link":case"image":return new aUe(r,e);case"codeBlock":return new Z$e(r,e);case"htmlBlock":return new iUe(r,e);case"table":return new eUe(r,e);case"tableCell":return new tUe(r,e);case"document":case"paragraph":case"blockQuote":case"thematicBreak":case"tableRow":case"tableBody":case"tableHead":case"frontMatter":return new Is(r,e);case"code":return new oUe(r,e);case"refDef":return new rUe(r,e);case"customBlock":return new nUe(r,e);case"customInline":return new sUe(r,e);default:return new Mh(r,e)}}function iE(r){return r.type==="codeBlock"}function lUe(r){return r.type==="htmlBlock"}function uUe(r){return r.type==="heading"}function Xb(r){return r.type==="list"}function cUe(r){return r.type==="table"}function $c(r){return r.type==="refDef"}function aE(r){return r.type==="customBlock"}function fUe(r){return r.type==="customInline"}function bn(r,e){var t=on("text",e);return t.literal=r,t}var oE="[A-Za-z][A-Za-z0-9-]*",dUe="[a-zA-Z_:][a-zA-Z0-9:._-]*",hUe="[^\"'=<>`\\x00-\\x20]+",pUe="'[^']*'",vUe='"[^"]*"',mUe="(?:"+hUe+"|"+pUe+"|"+vUe+")",gUe="(?:\\s*=\\s*"+mUe+")",yUe="(?:\\s+"+dUe+gUe+"?)",sE="<"+oE+yUe+"*\\s*/?>",lE="</"+oE+"\\s*[>]",kUe="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",wUe="[<][?].*?[?][>]",bUe="<![A-Z]+\\s+[^>]*>",CUe="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",TUe="(?:"+sE+"|"+lE+"|"+kUe+"|"+wUe+"|"+bUe+"|"+CUe+")",SUe=new RegExp("^"+TUe,"i");/*! http://mths.be/fromcodepoint v0.2.1 by @mathias */var x0;if(String.fromCodePoint)x0=function(r){try{return String.fromCodePoint(r)}catch(e){if(e instanceof RangeError)return"";throw e}};else{var xUe=String.fromCharCode,EUe=Math.floor;x0=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=16384,n=[],i,a,s=-1,u=r.length;if(!u)return"";for(var f="";++s<u;){var p=Number(r[s]);if(!isFinite(p)||p<0||p>1114111||EUe(p)!==p)return"";p<=65535?n.push(p):(p-=65536,i=(p>>10)+55296,a=p%1024+56320,n.push(i,a)),(s+1===u||n.length>t)&&(f+=xUe.apply(void 0,n),n.length=0)}return f}}var Ly=x0,MUe="(?:[w-]+.)*[A-Za-z0-9-]+.[A-Za-z0-9-]+",NUe="[^<\\s]*[^<?!.,:*_?~\\s]",OUe="[\\w.+-]+@(?:[\\w-]+\\.)+[\\w-]+";function DUe(r){var e=/\)+$/.exec(r);if(e){for(var t=0,n=0,i=r;n<i.length;n++){var a=i[n];a==="("?t<0?t=1:t+=1:a===")"&&(t-=1)}if(t<0){var s=Math.min(-t,e[0].length);return r.substring(0,r.length-s)}}return r}function AUe(r){return r.replace(/&[A-Za-z0-9]+;$/,"")}function LUe(r){for(var e=new RegExp(OUe,"g"),t=[],n;n=e.exec(r);){var i=n[0];/[_-]+$/.test(i)||t.push({text:i,range:[n.index,n.index+i.length-1],url:"mailto:"+i})}return t}function RUe(r){for(var e=new RegExp("(www|https?://)."+MUe+NUe,"g"),t=[],n;n=e.exec(r);){var i=AUe(DUe(n[0])),a=n[1]==="www"?"http://":"";t.push({text:i,range:[n.index,n.index+i.length-1],url:""+a+i})}return t}function IUe(r){return b0(b0([],RUe(r)),LUe(r)).sort(function(e,t){return e.range[0]-t.range[0]})}function PUe(r,e){typeof e=="boolean"&&(e=IUe);for(var t,n=function(){var i=t.entering,a=t.node;if(i&&a.type==="text"&&a.parent.type!=="link"){var s=a.literal,u=e(s);if(!u||!u.length)return"continue";for(var f=0,p=a.sourcepos[0],y=p[0],T=p[1],N=function(Ce,_e){return[[y,T+Ce],[y,T+_e]]},O=[],A=0,z=u;A<z.length;A++){var H=z[A],j=H.range,ie=H.url,le=H.text;j[0]>f&&O.push(bn(s.substring(f,j[0]),N(f,j[0]-1)));var ve=on("link",N.apply(void 0,j));ve.appendChild(bn(le,N.apply(void 0,j))),ve.destination=ie,ve.extendedAutolink=!0,O.push(ve),f=j[1]+1}f<s.length&&O.push(bn(s.substring(f),N(f,s.length-1)));for(var be=0,me=O;be<me.length;be++){var Ee=me[be];a.insertBefore(Ee)}a.unlink()}};t=r.next();)n()}function hm(r){return r[r.length-1]}function Yb(r){return r.slice(1,r.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()}function Mv(r,e){Object.keys(r).forEach(function(t){e(t,r[t])})}function BUe(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var n=Kn({},r);return e.forEach(function(i){delete n[i]}),n}function Uc(r){return!Object.keys(r).length}function FUe(r){Object.keys(r).forEach(function(e){delete r[e]})}var E0=10,Ry=42,Nv=95,_Ue=96,Zb=91,qUe=93,Ov=126,eC=60,zUe=33,tC=92,HUe=38,rC=40,Iy=41,VUe=58,su=39,lu=34,uu=36,Py="\\\\"+Ok,nC=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),$Ue=new RegExp('^(?:"('+Py+'|[^"\\x00])*"|'+("'("+Py+"|[^'\\x00])*'")+"|"+("\\(("+Py+"|[^()\\x00])*\\))")),UUe=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,iC=new RegExp("^"+Ok),WUe=new RegExp("^"+nE,"i"),jUe=/`+/,GUe=/^`+/,KUe=/\.\.\./g,JUe=/--+/g,QUe=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,XUe=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,YUe=/^ *(?:\n *)?/,By=/^[ \t\n\x0b\x0c\x0d]/,aC=/^\s/,ZUe=/ *$/,e4e=/^ */,oC=/^ *(?:\n|$)/,t4e=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,r4e=/^[^\n`\[\]\\!<&*_'"~$]+/m,n4e=(function(){function r(e){this.subject="",this.delimiters=null,this.brackets=null,this.pos=0,this.lineStartNum=0,this.lineIdx=0,this.lineOffsets=[0],this.linePosOffset=0,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.options=e}return r.prototype.sourcepos=function(e,t){var n=this.linePosOffset+this.lineOffsets[this.lineIdx],i=this.lineStartNum+this.lineIdx,a=[i,e+n];return typeof t=="number"?[a,[i,t+n]]:a},r.prototype.nextLine=function(){this.lineIdx+=1,this.linePosOffset=-this.pos},r.prototype.match=function(e){var t=e.exec(this.subject.slice(this.pos));return t===null?null:(this.pos+=t.index+t[0].length,t[0])},r.prototype.peek=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},r.prototype.spnl=function(){return this.match(YUe),!0},r.prototype.parseBackticks=function(e){var t=this.pos+1,n=this.match(GUe);if(n===null)return!1;for(var i=this.pos,a;(a=this.match(jUe))!==null;)if(a===n){var s=this.subject.slice(i,this.pos-n.length),u=this.sourcepos(t,this.pos),f=s.split(`
`);if(f.length>1){var p=hm(f);this.lineIdx+=f.length-1,this.linePosOffset=-(this.pos-p.length-n.length),u[1]=this.sourcepos(this.pos),s=f.join(" ")}var y=on("code",u);return s.length>0&&s.match(/[^ ]/)!==null&&s[0]==" "&&s[s.length-1]==" "?y.literal=s.slice(1,s.length-1):y.literal=s,y.tickCount=n.length,e.appendChild(y),!0}return this.pos=i,e.appendChild(bn(n,this.sourcepos(t,this.pos-1))),!0},r.prototype.parseBackslash=function(e){var t=this.subject,n;this.pos+=1;var i=this.pos;return this.peek()===E0?(this.pos+=1,n=on("linebreak",this.sourcepos(this.pos-1,this.pos)),e.appendChild(n),this.nextLine()):iC.test(t.charAt(this.pos))?(e.appendChild(bn(t.charAt(this.pos),this.sourcepos(i,this.pos))),this.pos+=1):e.appendChild(bn("\\",this.sourcepos(i,i))),!0},r.prototype.parseAutolink=function(e){var t,n,i,a=this.pos+1;return(t=this.match(QUe))?(n=t.slice(1,t.length-1),i=on("link",this.sourcepos(a,this.pos)),i.destination=Ev("mailto:"+n),i.title="",i.appendChild(bn(n,this.sourcepos(a+1,this.pos-1))),e.appendChild(i),!0):(t=this.match(XUe))?(n=t.slice(1,t.length-1),i=on("link",this.sourcepos(a,this.pos)),i.destination=Ev(n),i.title="",i.appendChild(bn(n,this.sourcepos(a+1,this.pos-1))),e.appendChild(i),!0):!1},r.prototype.parseHtmlTag=function(e){var t=this.pos+1,n=this.match(SUe);if(n===null)return!1;var i=on("htmlInline",this.sourcepos(t,this.pos));return i.literal=n,e.appendChild(i),!0},r.prototype.scanDelims=function(e){var t=0,n=this.pos;if(e===su||e===lu)t++,this.pos++;else for(;this.peek()===e;)t++,this.pos++;if(t===0||t<2&&(e===Ov||e===uu))return this.pos=n,null;var i=n===0?`
`:this.subject.charAt(n-1),a=this.peek(),s;a===-1?s=`
`:s=Ly(a);var u=aC.test(s),f=nC.test(s),p=aC.test(i),y=nC.test(i),T=!u&&(!f||p||y),N=!p&&(!y||u||f),O,A;return e===Nv?(O=T&&(!N||y),A=N&&(!T||f)):e===su||e===lu?(O=T&&!N,A=N):e===uu?(O=!u,A=!p):(O=T,A=N),this.pos=n,{numdelims:t,canOpen:O,canClose:A}},r.prototype.handleDelim=function(e,t){var n=this.scanDelims(e);if(!n)return!1;var i=n.numdelims,a=this.pos+1,s;this.pos+=i,e===su?s="":e===lu?s="":s=this.subject.slice(a-1,this.pos);var u=bn(s,this.sourcepos(a,this.pos));return t.appendChild(u),(n.canOpen||n.canClose)&&(this.options.smart||e!==su&&e!==lu)&&(this.delimiters={cc:e,numdelims:i,origdelims:i,node:u,previous:this.delimiters,next:null,canOpen:n.canOpen,canClose:n.canClose},this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)),!0},r.prototype.removeDelimiter=function(e){e.previous!==null&&(e.previous.next=e.next),e.next===null?this.delimiters=e.previous:e.next.previous=e.previous},r.prototype.removeDelimitersBetween=function(e,t){e.next!==t&&(e.next=t,t.previous=e)},r.prototype.processEmphasis=function(e){var t,n,i,a,s,u,f,p=!1,y=(t={},t[Nv]=[e,e,e],t[Ry]=[e,e,e],t[su]=[e],t[lu]=[e],t[Ov]=[e],t[uu]=[e],t);for(i=this.delimiters;i!==null&&i.previous!==e;)i=i.previous;for(;i!==null;){var T=i.cc,N=T===Nv||T===Ry;if(!i.canClose)i=i.next;else{for(n=i.previous,f=!1;n!==null&&n!==e&&n!==y[T][N?i.origdelims%3:0];){if(p=N&&(i.canOpen||n.canClose)&&i.origdelims%3!==0&&(n.origdelims+i.origdelims)%3===0,n.cc===i.cc&&n.canOpen&&!p){f=!0;break}n=n.previous}if(a=i,N||T===Ov||T===uu){if(!f)i=i.next;else if(n){var O=i.numdelims>=2&&n.numdelims>=2?2:1,A=N?0:1;s=n.node,u=i.node;var z=N?O===1?"emph":"strong":"strike";T===uu&&(z="customInline");var H=on(z),j=s.sourcepos[1],ie=u.sourcepos[0];H.sourcepos=[[j[0],j[1]-O+1],[ie[0],ie[1]+O-1]],s.sourcepos[1][1]-=O,u.sourcepos[0][1]+=O,s.literal=s.literal.slice(O),u.literal=u.literal.slice(O),n.numdelims-=O,i.numdelims-=O;for(var le=s.next,ve=void 0;le&&le!==u;)ve=le.next,le.unlink(),H.appendChild(le),le=ve;if(T===uu){var be=H.firstChild,me=be.literal||"",Ee=me.split(/\s/)[0];H.info=Ee,me.length<=Ee.length?be.unlink():(be.sourcepos[0][1]+=Ee.length,be.literal=me.replace(Ee+" ",""))}if(s.insertAfter(H),this.removeDelimitersBetween(n,i),n.numdelims<=A&&(n.numdelims===0&&s.unlink(),this.removeDelimiter(n)),i.numdelims<=A){i.numdelims===0&&u.unlink();var Ce=i.next;this.removeDelimiter(i),i=Ce}}}else T===su?(i.node.literal="",f&&(n.node.literal=""),i=i.next):T===lu&&(i.node.literal="",f&&(n.node.literal=""),i=i.next);f||(y[T][N?a.origdelims%3:0]=a.previous,a.canOpen||this.removeDelimiter(a))}}for(;this.delimiters!==null&&this.delimiters!==e;)this.removeDelimiter(this.delimiters)},r.prototype.parseLinkTitle=function(){var e=this.match($Ue);return e===null?null:ch(e.substr(1,e.length-2))},r.prototype.parseLinkDestination=function(){var e=this.match(UUe);if(e===null){if(this.peek()===eC)return null;for(var t=this.pos,n=0,i=void 0;(i=this.peek())!==-1;)if(i===tC&&iC.test(this.subject.charAt(this.pos+1)))this.pos+=1,this.peek()!==-1&&(this.pos+=1);else if(i===rC)this.pos+=1,n+=1;else if(i===Iy){if(n<1)break;this.pos+=1,n-=1}else{if(By.exec(Ly(i))!==null)break;this.pos+=1}return this.pos===t&&i!==Iy||n!==0?null:(e=this.subject.substr(t,this.pos-t),Ev(ch(e)))}return Ev(ch(e.substr(1,e.length-2)))},r.prototype.parseLinkLabel=function(){var e=this.match(t4e);return e===null||e.length>1001?0:e.length},r.prototype.parseOpenBracket=function(e){var t=this.pos;this.pos+=1;var n=bn("[",this.sourcepos(this.pos,this.pos));return e.appendChild(n),this.addBracket(n,t,!1),!0},r.prototype.parseBang=function(e){var t=this.pos;if(this.pos+=1,this.peek()===Zb){this.pos+=1;var n=bn("![",this.sourcepos(this.pos-1,this.pos));e.appendChild(n),this.addBracket(n,t+1,!0)}else{var n=bn("!",this.sourcepos(this.pos,this.pos));e.appendChild(n)}return!0},r.prototype.parseCloseBracket=function(e){var t=null,n=null,i=!1;this.pos+=1;var a=this.pos,s=this.brackets;if(s===null)return e.appendChild(bn("]",this.sourcepos(a,a))),!0;if(!s.active)return e.appendChild(bn("]",this.sourcepos(a,a))),this.removeBracket(),!0;var u=s.image,f=this.pos;this.peek()===rC&&(this.pos++,this.spnl()&&(t=this.parseLinkDestination())!==null&&this.spnl()&&(By.test(this.subject.charAt(this.pos-1))&&(n=this.parseLinkTitle())||!0)&&this.spnl()&&this.peek()===Iy?(this.pos+=1,i=!0):this.pos=f);var p="";if(!i){var y=this.pos,T=this.parseLinkLabel();if(T>2?p=this.subject.slice(y,y+T):s.bracketAfter||(p=this.subject.slice(s.index,a)),T===0&&(this.pos=f),p){p=Yb(p);var N=this.refMap[p];N&&(t=N.destination,n=N.title,i=!0)}}if(i){var O=on(u?"image":"link");O.destination=t,O.title=n||"",O.sourcepos=[s.startpos,this.sourcepos(this.pos)];for(var A=s.node.next,z=void 0;A;)z=A.next,A.unlink(),O.appendChild(A),A=z;if(e.appendChild(O),this.processEmphasis(s.previousDelimiter),this.removeBracket(),s.node.unlink(),!u)for(s=this.brackets;s!==null;)s.image||(s.active=!1),s=s.previous;return this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:p}),!0}return this.removeBracket(),this.pos=a,e.appendChild(bn("]",this.sourcepos(a,a))),this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:p}),!0},r.prototype.addBracket=function(e,t,n){this.brackets!==null&&(this.brackets.bracketAfter=!0),this.brackets={node:e,startpos:this.sourcepos(t+(n?0:1)),previous:this.brackets,previousDelimiter:this.delimiters,index:t,image:n,active:!0}},r.prototype.removeBracket=function(){this.brackets&&(this.brackets=this.brackets.previous)},r.prototype.parseEntity=function(e){var t,n=this.pos+1;return(t=this.match(WUe))?(e.appendChild(bn(Ek.decodeHTML(t),this.sourcepos(n,this.pos))),!0):!1},r.prototype.parseString=function(e){var t,n=this.pos+1;if(t=this.match(r4e)){if(this.options.smart){var i=t.replace(KUe,"").replace(JUe,function(s){var u=0,f=0;return s.length%3===0?f=s.length/3:s.length%2===0?u=s.length/2:s.length%3===2?(u=1,f=(s.length-2)/3):(u=2,f=(s.length-4)/3),T0("",f)+T0("",u)});e.appendChild(bn(i,this.sourcepos(n,this.pos)))}else{var a=bn(t,this.sourcepos(n,this.pos));e.appendChild(a)}return!0}return!1},r.prototype.parseNewline=function(e){this.pos+=1;var t=e.lastChild;if(t&&t.type==="text"&&t.literal[t.literal.length-1]===" "){var n=t.literal[t.literal.length-2]===" ",i=t.literal.length;t.literal=t.literal.replace(ZUe,"");var a=i-t.literal.length;t.sourcepos[1][1]-=a,e.appendChild(on(n?"linebreak":"softbreak",this.sourcepos(this.pos-a,this.pos)))}else e.appendChild(on("softbreak",this.sourcepos(this.pos,this.pos)));return this.nextLine(),this.match(e4e),!0},r.prototype.parseReference=function(e,t){if(!this.options.referenceDefinition)return 0;this.subject=e.stringContent,this.pos=0;var n=null,i=this.pos,a=this.parseLinkLabel();if(a===0)return 0;var s=this.subject.substr(0,a);if(this.peek()===VUe)this.pos++;else return this.pos=i,0;this.spnl();var u=this.parseLinkDestination();if(u===null)return this.pos=i,0;var f=this.pos;this.spnl(),this.pos!==f&&(n=this.parseLinkTitle()),n===null&&(n="",this.pos=f);var p=!0;if(this.match(oC)===null&&(n===""?p=!1:(n="",this.pos=f,p=this.match(oC)!==null)),!p)return this.pos=i,0;var y=Yb(s);if(y==="")return this.pos=i,0;var T=this.getReferenceDefSourcepos(e);e.sourcepos[0][0]=T[1][0]+1;var N=on("refDef",T);return N.title=n,N.dest=u,N.label=y,e.insertBefore(N),t[y]?this.refDefCandidateMap[N.id]=N:t[y]=O0(N),this.pos-i},r.prototype.mergeTextNodes=function(e){for(var t,n=[];t=e.next();){var i=t.entering,a=t.node;if(i&&a.type==="text")n.push(a);else if(n.length===1)n=[];else if(n.length>1){var s=n[0],u=n[n.length-1];s.sourcepos&&u.sourcepos&&(s.sourcepos[1]=u.sourcepos[1]),s.next=u.next,s.next&&(s.next.prev=s);for(var f=1;f<n.length;f+=1)s.literal+=n[f].literal,n[f].unlink();n=[]}}},r.prototype.getReferenceDefSourcepos=function(e){for(var t=e.stringContent.split(/\n|\r\n/),n=!1,i=0,a={line:0,ch:0},s=0;s<t.length;s+=1){var u=t[s];if(By.test(u))break;if(/\:/.test(u)&&i===0){if(n)break;var f=u.indexOf(":")===u.length-1?s+1:s;a={line:f,ch:t[f].length},n=!0}var p=u.match(/'|"/g);if(p&&(i+=p.length),i===2){a={line:s,ch:u.length};break}}return[[e.sourcepos[0][0],e.sourcepos[0][1]],[e.sourcepos[0][0]+a.line,a.ch]]},r.prototype.parseInline=function(e){var t,n=!1,i=this.peek();if(i===-1)return!1;switch(i){case E0:n=this.parseNewline(e);break;case tC:n=this.parseBackslash(e);break;case _Ue:n=this.parseBackticks(e);break;case Ry:case Nv:case Ov:case uu:n=this.handleDelim(i,e);break;case su:case lu:n=!!(!((t=this.options)===null||t===void 0)&&t.smart)&&this.handleDelim(i,e);break;case Zb:n=this.parseOpenBracket(e);break;case zUe:n=this.parseBang(e);break;case qUe:n=this.parseCloseBracket(e);break;case eC:n=this.parseAutolink(e)||this.parseHtmlTag(e);break;case HUe:e.disabledEntityParse||(n=this.parseEntity(e));break;default:n=this.parseString(e);break}return n||(this.pos+=1,e.appendChild(bn(Ly(i),this.sourcepos(this.pos,this.pos+1)))),!0},r.prototype.parse=function(e){for(this.subject=e.stringContent.trim(),this.pos=0,this.delimiters=null,this.brackets=null,this.lineOffsets=e.lineOffsets||[0],this.lineIdx=0,this.linePosOffset=0,this.lineStartNum=e.sourcepos[0][0],uUe(e)&&(this.lineOffsets[0]+=e.level+1);this.parseInline(e););e.stringContent=null,this.processEmphasis(null),this.mergeTextNodes(e.walker());var t=this.options,n=t.extendedAutolinks,i=t.customParser;if(n&&PUe(e.walker(),n),i&&e.firstChild)for(var a,s=e.firstChild.walker();a=s.next();){var u=a.node,f=a.entering;i[u.type]&&i[u.type](u,{entering:f,options:this.options})}},r})(),i4e=/^\[([ \txX])\][ \t]+/;function a4e(r,e){if(e.firstChild&&e.firstChild.type==="paragraph"){var t=e.firstChild,n=t.stringContent.match(i4e);if(n){var i=n[0].length;t.stringContent=t.stringContent.substring(i-1),t.sourcepos[0][1]+=i,t.lineOffsets[0]+=i,e.listData.task=!0,e.listData.checked=/[xX]/.test(n[1])}}}var o4e={continue:function(){return 0},finalize:function(){},canContain:function(r){return r==="tableHead"||r==="tableBody"},acceptsLines:!1},s4e={continue:function(){return 0},finalize:function(){},canContain:function(r){return r==="tableRow"},acceptsLines:!1},l4e={continue:function(){return 1},finalize:function(){},canContain:function(r){return r==="tableRow"||r==="tableDelimRow"},acceptsLines:!1},u4e={continue:function(){return 1},finalize:function(){},canContain:function(r){return r==="tableDelimCell"},acceptsLines:!1},c4e={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},f4e={continue:function(){return 1},finalize:function(){},canContain:function(r){return r==="tableCell"},acceptsLines:!1},d4e={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},pm=4,uE=9,cE=62,h4e=60,fE=32,dE=91,hE=/[^ \t\f\v\r\n]/,p4e=/^(?:`{3,}|~{3,})(?= *$)/;function sC(r){for(var e=r;e;){if(e.lastLineBlank)return!0;var t=e.type;if(!e.lastLineChecked&&(t==="list"||t==="item"))e.lastLineChecked=!0,e=e.lastChild;else{e.lastLineChecked=!0;break}}return!1}function ha(r,e){return e<r.length?r.charCodeAt(e):-1}function pE(r){return!hE.test(r)}function hf(r){return r===fE||r===uE}var v4e=/^\$\$$/,m4e={continue:function(r,e){var t=r.currentLine,n=t.match(v4e);if(n)return r.lastLineLength=n[0].length,r.finalize(e,r.lineNumber),2;for(var i=e.offset;i>0&&hf(ha(t,r.offset));)r.advanceOffset(1,!0),i--;return 0},finalize:function(r,e){if(e.stringContent!==null){var t=e.stringContent,n=t.indexOf(`
`),i=t.slice(0,n),a=t.slice(n+1),s=i.match(/^(\s*)(.*)/);e.info=ch(s[2].trim()),e.literal=a,e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},vE={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!0},g4e={continue:function(){return 0},finalize:function(){},canContain:function(r){return r!=="item"},acceptsLines:!1},y4e={continue:function(){return 0},finalize:function(r,e){for(var t=e.firstChild;t;){if(sC(t)&&t.next){e.listData.tight=!1;break}for(var n=t.firstChild;n;){if(sC(n)&&(t.next||n.next)){e.listData.tight=!1;break}n=n.next}t=t.next}},canContain:function(r){return r==="item"},acceptsLines:!1},k4e={continue:function(r){var e=r.currentLine;if(!r.indented&&ha(e,r.nextNonspace)===cE)r.advanceNextNonspace(),r.advanceOffset(1,!1),hf(ha(e,r.offset))&&r.advanceOffset(1,!0);else return 1;return 0},finalize:function(){},canContain:function(r){return r!=="item"},acceptsLines:!1},w4e={continue:function(r,e){if(r.blank){if(e.firstChild===null)return 1;r.advanceNextNonspace()}else if(r.indent>=e.listData.markerOffset+e.listData.padding)r.advanceOffset(e.listData.markerOffset+e.listData.padding,!0);else return 1;return 0},finalize:a4e,canContain:function(r){return r!=="item"},acceptsLines:!1},b4e={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},C4e={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},T4e={continue:function(r,e){var t=r.currentLine,n=r.indent;if(e.isFenced){var i=n<=3&&t.charAt(r.nextNonspace)===e.fenceChar&&t.slice(r.nextNonspace).match(p4e);if(i&&i[0].length>=e.fenceLength)return r.lastLineLength=r.offset+n+i[0].length,r.finalize(e,r.lineNumber),2;for(var a=e.fenceOffset;a>0&&hf(ha(t,r.offset));)r.advanceOffset(1,!0),a--}else if(n>=pm)r.advanceOffset(pm,!0);else if(r.blank)r.advanceNextNonspace();else return 1;return 0},finalize:function(r,e){var t;if(e.stringContent!==null){if(e.isFenced){var n=e.stringContent,i=n.indexOf(`
`),a=n.slice(0,i),s=n.slice(i+1),u=a.match(/^(\s*)(.*)/);e.infoPadding=u[1].length,e.info=ch(u[2].trim()),e.literal=s}else e.literal=(t=e.stringContent)===null||t===void 0?void 0:t.replace(/(\n *)+$/,`
`);e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},S4e={continue:function(r,e){return r.blank&&(e.htmlBlockType===6||e.htmlBlockType===7)?1:0},finalize:function(r,e){var t;e.literal=((t=e.stringContent)===null||t===void 0?void 0:t.replace(/(\n *)+$/,""))||null,e.stringContent=null},canContain:function(){return!1},acceptsLines:!0},x4e={continue:function(r){return r.blank?1:0},finalize:function(r,e){if(e.stringContent!==null){for(var t,n=!1;ha(e.stringContent,0)===dE&&(t=r.inlineParser.parseReference(e,r.refMap));)e.stringContent=e.stringContent.slice(t),n=!0;n&&pE(e.stringContent)&&e.unlink()}},canContain:function(){return!1},acceptsLines:!0},E4e=vE,M4e=vE,Wc={document:g4e,list:y4e,blockQuote:k4e,item:w4e,heading:b4e,thematicBreak:C4e,codeBlock:T4e,htmlBlock:S4e,paragraph:x4e,table:o4e,tableBody:s4e,tableHead:l4e,tableRow:f4e,tableCell:d4e,tableDelimRow:u4e,tableDelimCell:c4e,refDef:E4e,customBlock:m4e,frontMatter:M4e};function M0(r){for(var e=0,t=0,n=[],i=0;i<r.length;i+=1)if(r[i]==="|"&&r[i-1]!=="\\"){var a=r.substring(e,i);e===0&&Qb(a)?t=i+1:n.push(a),e=i+1}if(e<r.length){var a=r.substring(e,r.length);Qb(a)||n.push(a)}return[t,n]}function N0(r,e,t,n){for(var i=[],a=0,s=e;a<s.length;a++){var u=s[a],f=u.match(/^[ \t]+/),p=f?f[0].length:0,y=void 0,T=void 0;if(p===u.length)p=0,y=0,T="";else{var N=u.match(/[ \t]+$/);y=N?N[0].length:0,T=u.slice(p,u.length-y)}var O=n+p,A=on(r,[[t,n],[t,n+u.length-1]]);A.stringContent=T.replace(/\\\|/g,"|"),A.startIdx=i.length,A.endIdx=i.length,A.lineOffsets=[O-1],A.paddingLeft=p,A.paddingRight=y,i.push(A),n+=u.length+1}return i}function N4e(r){var e=null,t=r.stringContent,n=t[0],i=t[t.length-1];return i===":"?e=n===":"?"center":"right":n===":"&&(e="left"),{align:e}}var O4e=function(r,e){var t=e.stringContent;if(e.type==="paragraph"&&!r.indented&&!r.blank){var n=t.length-1,i=t.lastIndexOf(`
`,n-1)+1,a=t.slice(i,n),s=r.currentLine.slice(r.nextNonspace),u=M0(a),f=u[0],p=u[1],y=M0(s),T=y[0],N=y[1],O=/^[ \t]*:?-+:?[ \t]*$/;if(!p.length||!N.length||N.some(function(Ce){return!O.test(Ce)})||N.length===1&&s.indexOf("|")!==0)return 0;var A=e.lineOffsets,z=r.lineNumber-1,H=hm(A)+1,j=on("table",[[z,H],[r.lineNumber,r.offset]]);if(j.columns=N.map(function(){return{align:null}}),e.insertAfter(j),A.length===1)e.unlink();else{e.stringContent=t.slice(0,i);var ie=t.lastIndexOf(`
`,i-2)+1,le=i-ie-1;r.lastLineLength=A[A.length-2]+le,r.finalize(e,z-1)}r.advanceOffset(r.currentLine.length-r.offset,!1);var ve=on("tableHead",[[z,H],[r.lineNumber,r.offset]]);j.appendChild(ve);var be=on("tableRow",[[z,H],[z,H+a.length-1]]),me=on("tableDelimRow",[[r.lineNumber,r.nextNonspace+1],[r.lineNumber,r.offset]]);ve.appendChild(be),ve.appendChild(me),N0("tableCell",p,z,H+f).forEach(function(Ce){be.appendChild(Ce)});var Ee=N0("tableDelimCell",N,r.lineNumber,r.nextNonspace+1+T);return Ee.forEach(function(Ce){me.appendChild(Ce)}),j.columns=Ee.map(N4e),r.tip=j,2}return 0},D4e=function(r,e){if(e.type!=="table"&&e.type!=="tableBody"||!r.blank&&r.currentLine.indexOf("|")===-1)return 0;if(r.advanceOffset(r.currentLine.length-r.offset,!1),r.blank){var t=e;return e.type==="tableBody"&&(t=e.parent,r.finalize(e,r.lineNumber-1)),r.finalize(t,r.lineNumber-1),0}var n=e;e.type==="table"&&(n=r.addChild("tableBody",r.nextNonspace),n.stringContent=null);var i=on("tableRow",[[r.lineNumber,r.nextNonspace+1],[r.lineNumber,r.currentLine.length]]);n.appendChild(i);var a=n.parent,s=r.currentLine.slice(r.nextNonspace),u=M0(s),f=u[0],p=u[1];return N0("tableCell",p,r.lineNumber,r.nextNonspace+1+f).forEach(function(y,T){T>=a.columns.length&&(y.ignored=!0),i.appendChild(y)}),2},A4e=/^(\$\$)(\s*[a-zA-Z])+/,L4e=/^(\$\$)(\s*[a-zA-Z])+.*(\$\$)/,R4e=function(r){var e;if(!r.indented&&!L4e.test(r.currentLine)&&(e=r.currentLine.match(A4e))){var t=e[1].length;r.closeUnmatchedBlocks();var n=r.addChild("customBlock",r.nextNonspace);return n.syntaxLength=t,n.offset=r.indent,r.advanceNextNonspace(),r.advanceOffset(t,!1),2}return 0},I4e=/^`{3,}(?!.*`)|^~{3,}/,P4e=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:"+sE+"|"+lE+")\\s*$","i")],B4e=/^(?:=+|-+)[ \t]*$/,F4e=/^#{1,6}(?:[ \t]+|$)/,_4e=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/,mE=/^[*+-]/,gE=/^(\d{1,9})([.)])/;function q4e(r,e){var t=r.currentLine.slice(r.nextNonspace),n,i,a={type:"bullet",tight:!0,bulletChar:"",start:0,delimiter:"",padding:0,markerOffset:r.indent,task:!1,checked:!1};if(r.indent>=4)return null;if(n=t.match(mE))a.type="bullet",a.bulletChar=n[0][0];else if((n=t.match(gE))&&(e.type!=="paragraph"||n[1]==="1"))a.type="ordered",a.start=parseInt(n[1],10),a.delimiter=n[2];else return null;if(i=ha(r.currentLine,r.nextNonspace+n[0].length),!(i===-1||i===uE||i===fE)||e.type==="paragraph"&&!r.currentLine.slice(r.nextNonspace+n[0].length).match(hE))return null;r.advanceNextNonspace(),r.advanceOffset(n[0].length,!0);var s=r.column,u=r.offset;do r.advanceOffset(1,!0),i=ha(r.currentLine,r.offset);while(r.column-s<5&&hf(i));var f=ha(r.currentLine,r.offset)===-1,p=r.column-s;return p>=5||p<1||f?(a.padding=n[0].length+1,r.column=s,r.offset=u,hf(ha(r.currentLine,r.offset))&&r.advanceOffset(1,!0)):a.padding=n[0].length+p,a}function z4e(r,e){return r.type===e.type&&r.delimiter===e.delimiter&&r.bulletChar===e.bulletChar}function yE(r,e){return r.options.disallowDeepHeading&&(e.type==="blockQuote"||e.type==="item")}var H4e=function(r){return!r.indented&&ha(r.currentLine,r.nextNonspace)===cE?(r.advanceNextNonspace(),r.advanceOffset(1,!1),hf(ha(r.currentLine,r.offset))&&r.advanceOffset(1,!0),r.closeUnmatchedBlocks(),r.addChild("blockQuote",r.nextNonspace),1):0},V4e=function(r,e){var t;if(!r.indented&&!yE(r,e)&&(t=r.currentLine.slice(r.nextNonspace).match(F4e))){r.advanceNextNonspace(),r.advanceOffset(t[0].length,!1),r.closeUnmatchedBlocks();var n=r.addChild("heading",r.nextNonspace);return n.level=t[0].trim().length,n.headingType="atx",n.stringContent=r.currentLine.slice(r.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),r.advanceOffset(r.currentLine.length-r.offset),2}return 0},$4e=function(r){var e;if(!r.indented&&(e=r.currentLine.slice(r.nextNonspace).match(I4e))){var t=e[0].length;r.closeUnmatchedBlocks();var n=r.addChild("codeBlock",r.nextNonspace);return n.isFenced=!0,n.fenceLength=t,n.fenceChar=e[0][0],n.fenceOffset=r.indent,r.advanceNextNonspace(),r.advanceOffset(t,!1),2}return 0},U4e=function(r,e){if(!r.indented&&ha(r.currentLine,r.nextNonspace)===h4e){var t=r.currentLine.slice(r.nextNonspace),n=r.options.disallowedHtmlBlockTags,i=void 0;for(i=1;i<=7;i++){var a=t.match(P4e[i]);if(a){if(i===7){if(e.type==="paragraph")return 0;if(n.length>0){var s=new RegExp("</?(?:"+n.join("|")+")","i");if(s.test(a[0]))return 0}}r.closeUnmatchedBlocks();var u=r.addChild("htmlBlock",r.offset);return u.htmlBlockType=i,2}}}return 0},W4e=function(r,e){var t;if(e.stringContent!==null&&!r.indented&&e.type==="paragraph"&&!yE(r,e.parent)&&(t=r.currentLine.slice(r.nextNonspace).match(B4e))){r.closeUnmatchedBlocks();for(var n=void 0;ha(e.stringContent,0)===dE&&(n=r.inlineParser.parseReference(e,r.refMap));)e.stringContent=e.stringContent.slice(n);if(e.stringContent.length>0){var i=on("heading",e.sourcepos);return i.level=t[0][0]==="="?1:2,i.headingType="setext",i.stringContent=e.stringContent,e.insertAfter(i),e.unlink(),r.tip=i,r.advanceOffset(r.currentLine.length-r.offset,!1),2}return 0}return 0},j4e=function(r){return!r.indented&&_4e.test(r.currentLine.slice(r.nextNonspace))?(r.closeUnmatchedBlocks(),r.addChild("thematicBreak",r.nextNonspace),r.advanceOffset(r.currentLine.length-r.offset,!1),2):0},G4e=function(r,e){var t,n=e;return(!r.indented||e.type==="list")&&(t=q4e(r,n))?(r.closeUnmatchedBlocks(),(r.tip.type!=="list"||!z4e(n.listData,t))&&(n=r.addChild("list",r.nextNonspace),n.listData=t),n=r.addChild("item",r.nextNonspace),n.listData=t,1):0},K4e=function(r){return r.indented&&r.tip.type!=="paragraph"&&!r.blank?(r.advanceOffset(pm,!0),r.closeUnmatchedBlocks(),r.addChild("codeBlock",r.offset),2):0},Fy=[H4e,V4e,$4e,U4e,W4e,j4e,G4e,K4e,O4e,D4e,R4e],kE=/^(-{3}|\+{3}|;{3})$/,J4e=function(r,e){var t=r.currentLine,n=r.lineNumber,i=r.indented;if(n===1&&!i&&e.type==="document"&&kE.test(t)){r.closeUnmatchedBlocks();var a=r.addChild("frontMatter",r.nextNonspace);return a.stringContent=t,r.advanceNextNonspace(),r.advanceOffset(t.length,!1),2}return 0},Q4e={continue:function(r,e){var t=r.currentLine,n=t.match(kE);return e.type==="frontMatter"&&n?(e.stringContent+=t,r.lastLineLength=n[0].length,r.finalize(e,r.lineNumber),2):0},finalize:function(r,e){e.stringContent!==null&&(e.literal=e.stringContent,e.stringContent=null)},canContain:function(){return!1},acceptsLines:!0},X4e=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],Y4e=/^[#`~*+_=<>0-9-;$]/,Z4e=/\r\n|\n|\r/;function _y(){return on("document",[[1,1],[0,0]])}var eWe={smart:!1,tagFilter:!1,extendedAutolinks:!1,disallowedHtmlBlockTags:[],referenceDefinition:!1,disallowDeepHeading:!1,customParser:null,frontMatter:!1},tWe=(function(){function r(e){this.options=Kn(Kn({},eWe),e),this.doc=_y(),this.tip=this.doc,this.oldtip=this.doc,this.lineNumber=0,this.offset=0,this.column=0,this.nextNonspace=0,this.nextNonspaceColumn=0,this.indent=0,this.currentLine="",this.indented=!1,this.blank=!1,this.partiallyConsumedTab=!1,this.allClosed=!0,this.lastMatchedContainer=this.doc,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.lastLineLength=0,this.lines=[],this.options.frontMatter&&(Wc.frontMatter=Q4e,Fy.unshift(J4e)),this.inlineParser=new n4e(this.options)}return r.prototype.advanceOffset=function(e,t){t===void 0&&(t=!1);for(var n=this.currentLine,i,a,s;e>0&&(s=n[this.offset]);)s==="	"?(i=4-this.column%4,t?(this.partiallyConsumedTab=i>e,a=i>e?e:i,this.column+=a,this.offset+=this.partiallyConsumedTab?0:1,e-=a):(this.partiallyConsumedTab=!1,this.column+=i,this.offset+=1,e-=1)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,e-=1)},r.prototype.advanceNextNonspace=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},r.prototype.findNextNonspace=function(){for(var e=this.currentLine,t=this.offset,n=this.column,i;(i=e.charAt(t))!=="";)if(i===" ")t++,n++;else if(i==="	")t++,n+=4-n%4;else break;this.blank=i===`
`||i==="\r"||i==="",this.nextNonspace=t,this.nextNonspaceColumn=n,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=pm},r.prototype.addLine=function(){if(this.partiallyConsumedTab){this.offset+=1;var e=4-this.column%4;this.tip.stringContent+=T0(" ",e)}this.tip.lineOffsets?this.tip.lineOffsets.push(this.offset):this.tip.lineOffsets=[this.offset],this.tip.stringContent+=this.currentLine.slice(this.offset)+`
`},r.prototype.addChild=function(e,t){for(;!Wc[this.tip.type].canContain(e);)this.finalize(this.tip,this.lineNumber-1);var n=t+1,i=on(e,[[this.lineNumber,n],[0,0]]);return i.stringContent="",this.tip.appendChild(i),this.tip=i,i},r.prototype.closeUnmatchedBlocks=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var e=this.oldtip.parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=e}this.allClosed=!0}},r.prototype.finalize=function(e,t){var n=e.parent;e.open=!1,e.sourcepos[1]=[t,this.lastLineLength],Wc[e.type].finalize(this,e),this.tip=n},r.prototype.processInlines=function(e){var t,n=this.options.customParser,i=e.walker();for(this.inlineParser.refMap=this.refMap,this.inlineParser.refLinkCandidateMap=this.refLinkCandidateMap,this.inlineParser.refDefCandidateMap=this.refDefCandidateMap,this.inlineParser.options=this.options;t=i.next();){var a=t.node,s=t.entering,u=a.type;n&&n[u]&&n[u](a,{entering:s,options:this.options}),!s&&(u==="paragraph"||u==="heading"||u==="tableCell"&&!a.ignored)&&this.inlineParser.parse(a)}},r.prototype.incorporateLine=function(e){var t=this.doc;this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,e.indexOf("\0")!==-1&&(e=e.replace(/\0/g,"")),this.currentLine=e;for(var n=!0,i;(i=t.lastChild)&&i.open;){switch(t=i,this.findNextNonspace(),Wc[t.type].continue(this,t)){case 0:break;case 1:n=!1;break;case 2:this.lastLineLength=e.length;return;default:throw new Error("continue returned illegal value, must be 0, 1, or 2")}if(!n){t=t.parent;break}}this.allClosed=t===this.oldtip,this.lastMatchedContainer=t;for(var a=t.type!=="paragraph"&&Wc[t.type].acceptsLines,s=Fy.length;!a;){if(this.findNextNonspace(),t.type!=="table"&&t.type!=="tableBody"&&t.type!=="paragraph"&&!this.indented&&!Y4e.test(e.slice(this.nextNonspace))){this.advanceNextNonspace();break}for(var u=0;u<s;){var f=Fy[u](this,t);if(f===1){t=this.tip;break}else if(f===2){t=this.tip,a=!0;break}else u++}if(u===s){this.advanceNextNonspace();break}}if(!this.allClosed&&!this.blank&&this.tip.type==="paragraph")this.addLine();else{this.closeUnmatchedBlocks(),this.blank&&t.lastChild&&(t.lastChild.lastLineBlank=!0);for(var p=t.type,y=this.blank&&!(p==="blockQuote"||iE(t)&&t.isFenced||p==="item"&&!t.firstChild&&t.sourcepos[0][0]===this.lineNumber),T=t;T;)T.lastLineBlank=y,T=T.parent;Wc[p].acceptsLines?(this.addLine(),lUe(t)&&t.htmlBlockType>=1&&t.htmlBlockType<=5&&X4e[t.htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=e.length,this.finalize(t,this.lineNumber))):this.offset<e.length&&!this.blank&&(t=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}this.lastLineLength=e.length},r.prototype.parse=function(e,t){this.doc=_y(),this.tip=this.doc,this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";var n=e.split(Z4e),i=n.length;this.lines=t||n,this.options.referenceDefinition&&this.clearRefMaps(),e.charCodeAt(e.length-1)===E0&&(i-=1);for(var a=0;a<i;a++)this.incorporateLine(n[a]);for(;this.tip;)this.finalize(this.tip,i);return this.processInlines(this.doc),this.doc},r.prototype.partialParseStart=function(e,t){this.doc=_y(),this.tip=this.doc,this.lineNumber=e-1,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";for(var n=t.length,i=0;i<n;i++)this.incorporateLine(t[i]);return this.doc},r.prototype.partialParseExtends=function(e){for(var t=0;t<e.length;t++)this.incorporateLine(e[t])},r.prototype.partialParseFinish=function(){for(;this.tip;)this.finalize(this.tip,this.lineNumber);this.processInlines(this.doc)},r.prototype.setRefMaps=function(e,t,n){this.refMap=e,this.refLinkCandidateMap=t,this.refDefCandidateMap=n},r.prototype.clearRefMaps=function(){[this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(e){FUe(e)})},r})();function lC(r,e){return r[0]<e[0]?1:r[0]>e[0]?-1:r[1]<e[1]?1:r[1]>e[1]?-1:0}function rWe(r,e){var t=r[0],n=r[1];return lC(n,e)===1?1:lC(t,e)===-1?-1:0}function nWe(r,e){if(!(r.parent!==e.parent||r===e)){for(var t=r.next;t&&t!==e;){for(var n=t.next,i=0,a=["parent","prev","next"];i<a.length;i++){var s=a[i];t[s]&&(S0(t[s].id),t[s]=null)}t=n}r.next=e.next,e.next?e.next.prev=r:r.parent.lastChild=r}}function iWe(r){for(var e=[],t=r.firstChild;t;)e.push(t),t=t.next;return e}function uC(r,e){for(var t=0,n=e;t<n.length;t++){var i=n[t];r.insertBefore(i)}}function aWe(r,e){for(var t=e.length-1;t>=0;t-=1)r.prependChild(e[t])}function oWe(r,e){if(!(!r||!r.parent||e===0)){var t=r.parent.walker();t.resumeAt(r,!0);for(var n;n=t.next();){var i=n.node,a=n.entering;a&&(i.sourcepos[0][0]+=e,i.sourcepos[1][0]+=e)}}}function wE(r,e){var t=r[0],n=r[1];return n[0]<e?1:t[0]>e?-1:0}function Dv(r,e){for(var t=r.firstChild;t;){var n=wE(t.sourcepos,e);if(n===0)return t;if(n===-1)return t.prev||t;t=t.next}return r.lastChild}function sWe(r){for(;r.lastChild;)r=r.lastChild;return r}function lWe(r){for(;r.parent&&r.parent.type!=="document"&&r.parent.sourcepos[0][0]===r.sourcepos[0][0];)r=r.parent;return r}function uWe(r,e){for(var t=r.firstChild,n=null;t;){var i=wE(t.sourcepos,e);if(i===0){if(t.sourcepos[0][0]===e||!t.firstChild)return t;n=t,t=t.firstChild}else{if(i===-1)break;n=t,t=t.next}}return n?lWe(sWe(n)):null}function cWe(r,e){for(var t=r,n=null;t;){var i=rWe(t.sourcepos,e);if(i===0)if(t.firstChild)n=t,t=t.firstChild;else return t;else{if(i===-1)return n;if(t.next)t=t.next;else return n}}return t}function bE(r){return J$e(r)||null}function qy(r,e,t){if(t===void 0&&(t=null),e)for(var n=e.walker();e&&e!==t;){r(e);var i=n.next();if(i)e=i.node;else break}}function fWe(r){var e=bE(r);if(!e)return!0;for(;e&&e.type!=="document";){if(!e.parent&&!e.prev&&!e.next)return!0;e=e.parent}return!1}var cC=/\r\n|\n|\r/;function dWe(r){var e=r.match(/^[ \t]+/);if(e&&(e[0].length>=2||/\t/.test(e[0])))return!0;var t=e?r.slice(e.length):r;return mE.test(t)||gE.test(t)}function hWe(r){return!pE(r)&&r.indexOf("|")!==-1}function O0(r){var e=r.id,t=r.title,n=r.sourcepos,i=r.dest;return{id:e,title:t,sourcepos:n,unlinked:!1,destination:i}}var CE=(function(){function r(e,t){this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.referenceDefinition=!!t?.referenceDefinition,this.parser=new tWe(t),this.parser.setRefMaps(this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap),this.eventHandlerMap={change:[]},e=e||"",this.lineTexts=e.split(cC),this.root=this.parser.parse(e,this.lineTexts)}return r.prototype.updateLineTexts=function(e,t,n){var i,a=e[0],s=e[1],u=t[0],f=t[1],p=n.split(cC),y=p.length,T=this.lineTexts[a-1],N=this.lineTexts[u-1];p[0]=T.slice(0,s-1)+p[0],p[y-1]=p[y-1]+N.slice(f-1);var O=u-a+1;return(i=this.lineTexts).splice.apply(i,b0([a-1,O],p)),y-O},r.prototype.updateRootNodeState=function(){if(this.lineTexts.length===1&&this.lineTexts[0]===""){this.root.lastLineBlank=!0,this.root.sourcepos=[[1,1],[1,0]];return}this.root.lastChild&&(this.root.lastLineBlank=this.root.lastChild.lastLineBlank);for(var e=this.lineTexts,t=e.length-1;e[t]==="";)t-=1;e.length-2>t&&(t+=1),this.root.sourcepos[1]=[t+1,e[t].length]},r.prototype.replaceRangeNodes=function(e,t,n){e?(uC(e,n),nWe(e,t),[e.id,t.id].forEach(function(i){return S0(i)}),e.unlink()):t?(uC(t,n),S0(t.id),t.unlink()):aWe(this.root,n)},r.prototype.getNodeRange=function(e,t){var n=Dv(this.root,e[0]),i=Dv(this.root,t[0]);return i&&i.next&&t[0]+1===i.next.sourcepos[0][0]&&(i=i.next),[n,i]},r.prototype.trigger=function(e,t){this.eventHandlerMap[e].forEach(function(n){n(t)})},r.prototype.extendEndLine=function(e){for(;this.lineTexts[e]==="";)e+=1;return e},r.prototype.parseRange=function(e,t,n,i){e&&e.prev&&(Xb(e.prev)&&dWe(this.lineTexts[n-1])||cUe(e.prev)&&hWe(this.lineTexts[n-1]))&&(e=e.prev,n=e.sourcepos[0][0]);for(var a=this.lineTexts.slice(n-1,i),s=this.parser.partialParseStart(n,a),u=t?t.next:this.root.firstChild,f=s.lastChild,p=f&&iE(f)&&f.open,y=f&&aE(f)&&f.open,T=f&&Xb(f);(p||y)&&u||T&&u&&(u.type==="list"||u.sourcepos[0][1]>=2);){var N=this.extendEndLine(u.sourcepos[1][0]);this.parser.partialParseExtends(this.lineTexts.slice(i,N)),e||(e=t),t=u,i=N,u=u.next}this.parser.partialParseFinish();var O=iWe(s);return{newNodes:O,extStartNode:e,extEndNode:t}},r.prototype.getRemovedNodeRange=function(e,t){return!e||e&&$c(e)||t&&$c(t)?null:{id:[e.id,t.id],line:[e.sourcepos[0][0]-1,t.sourcepos[1][0]-1]}},r.prototype.markDeletedRefMap=function(e,t){var n=this;if(!Uc(this.refMap)){var i=function(a){if($c(a)){var s=n.refMap[a.label];s&&a.id===s.id&&(s.unlinked=!0)}};e&&qy(i,e.parent,t),t&&qy(i,t)}},r.prototype.replaceWithNewRefDefState=function(e){var t=this;if(!Uc(this.refMap)){var n=function(i){if($c(i)){var a=i.label,s=t.refMap[a];(!s||s.unlinked)&&(t.refMap[a]=O0(i))}};e.forEach(function(i){qy(n,i)})}},r.prototype.replaceWithRefDefCandidate=function(){var e=this;Uc(this.refDefCandidateMap)||Mv(this.refDefCandidateMap,function(t,n){var i=n.label,a=n.sourcepos,s=e.refMap[i];(!s||s.unlinked||s.sourcepos[0][0]>a[0][0])&&(e.refMap[i]=O0(n))})},r.prototype.getRangeWithRefDef=function(e,t,n,i,a){if(this.referenceDefinition&&!Uc(this.refMap)){var s=Dv(this.root,e-1),u=Dv(this.root,t+1);s&&$c(s)&&s!==n&&s!==i&&(n=s,e=n.sourcepos[0][0]),u&&$c(u)&&u!==n&&u!==i&&(i=u,t=this.extendEndLine(i.sourcepos[1][0]+a))}return[n,i,e,t]},r.prototype.parse=function(e,t,n){n===void 0&&(n=0);var i=this.getNodeRange(e,t),a=i[0],s=i[1],u=a?Math.min(a.sourcepos[0][0],e[0]):e[0],f=this.extendEndLine((s?Math.max(s.sourcepos[1][0],t[0]):t[0])+n),p=this.parseRange.apply(this,this.getRangeWithRefDef(u,f,a,s,n)),y=p.newNodes,T=p.extStartNode,N=p.extEndNode,O=this.getRemovedNodeRange(T,N),A=N?N.next:this.root.firstChild;return this.referenceDefinition?(this.markDeletedRefMap(T,N),this.replaceRangeNodes(T,N,y),this.replaceWithNewRefDefState(y)):this.replaceRangeNodes(T,N,y),{nodes:y,removedNodeRange:O,nextNode:A}},r.prototype.parseRefLink=function(){var e=this,t=[];return Uc(this.refMap)||Mv(this.refMap,function(n,i){i.unlinked&&delete e.refMap[n],Mv(e.refLinkCandidateMap,function(a,s){var u=s.node,f=s.refLabel;f===n&&t.push(e.parse(u.sourcepos[0],u.sourcepos[1]))})}),t},r.prototype.removeUnlinkedCandidate=function(){Uc(this.refDefCandidateMap)||[this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(e){Mv(e,function(t){fWe(t)&&delete e[t]})})},r.prototype.editMarkdown=function(e,t,n){var i=this.updateLineTexts(e,t,n),a=this.parse(e,t,i),s=BUe(a,"nextNode");oWe(a.nextNode,i),this.updateRootNodeState();var u=[s];return this.referenceDefinition&&(this.removeUnlinkedCandidate(),this.replaceWithRefDefCandidate(),u=u.concat(this.parseRefLink())),this.trigger("change",u),u},r.prototype.getLineTexts=function(){return this.lineTexts},r.prototype.getRootNode=function(){return this.root},r.prototype.findNodeAtPosition=function(e){var t=cWe(this.root,e);return!t||t===this.root?null:t},r.prototype.findFirstNodeAtLine=function(e){return uWe(this.root,e)},r.prototype.on=function(e,t){this.eventHandlerMap[e].push(t)},r.prototype.off=function(e,t){var n=this.eventHandlerMap[e],i=n.indexOf(t);n.splice(i,1)},r.prototype.findNodeById=function(e){return bE(e)},r.prototype.removeAllNode=function(){Q$e()},r})(),pWe=["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"],fC=new RegExp("<(/?(?:"+pWe.join("|")+")[^>]*>)","ig");function dC(r){return fC.test(r)?r.replace(fC,function(e,t){return"&lt;"+t}):r}var hC={heading:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"h"+r.level,outerNewLine:!0}},text:function(r){return{type:"text",content:r.literal}},softbreak:function(r,e){var t=e.options;return{type:"html",content:t.softbreak}},linebreak:function(){return{type:"html",content:`<br />
`}},emph:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"em"}},strong:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"strong"}},paragraph:function(r,e){var t,n=e.entering,i=(t=r.parent)===null||t===void 0?void 0:t.parent;return i&&i.type==="list"&&i.listData.tight?null:{type:n?"openTag":"closeTag",tagName:"p",outerNewLine:!0}},thematicBreak:function(){return{type:"openTag",tagName:"hr",outerNewLine:!0,selfClose:!0}},blockQuote:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"blockquote",outerNewLine:!0,innerNewLine:!0}},list:function(r,e){var t=e.entering,n=r.listData,i=n.type,a=n.start,s=i==="bullet"?"ul":"ol",u={};return s==="ol"&&a!==null&&a!==1&&(u.start=a.toString()),{type:t?"openTag":"closeTag",tagName:s,attributes:u,outerNewLine:!0}},item:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"li",outerNewLine:!0}},htmlInline:function(r,e){var t=e.options,n=t.tagFilter?dC(r.literal):r.literal;return{type:"html",content:n}},htmlBlock:function(r,e){var t=e.options,n=t.tagFilter?dC(r.literal):r.literal;return t.nodeId?[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:n},{type:"closeTag",tagName:"div",outerNewLine:!0}]:{type:"html",content:n,outerNewLine:!0}},code:function(r){return[{type:"openTag",tagName:"code"},{type:"text",content:r.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(r){var e=r.info,t=e?e.split(/\s+/):[],n=[];return t.length>0&&t[0].length>0&&n.push("language-"+Jc(t[0])),[{type:"openTag",tagName:"pre",outerNewLine:!0},{type:"openTag",tagName:"code",classNames:n},{type:"text",content:r.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre",outerNewLine:!0}]},link:function(r,e){var t=e.entering;if(t){var n=r,i=n.title,a=n.destination;return{type:"openTag",tagName:"a",attributes:Kn({href:Jc(a)},i&&{title:Jc(i)})}}return{type:"closeTag",tagName:"a"}},image:function(r,e){var t=e.getChildrenText,n=e.skipChildren,i=r,a=i.title,s=i.destination;return n(),{type:"openTag",tagName:"img",selfClose:!0,attributes:Kn({src:Jc(s),alt:t(r)},a&&{title:Jc(a)})}},customBlock:function(r,e,t){var n=r.info.trim().toLowerCase(),i=t[n];if(i)try{return i(r,e)}catch(a){console.warn("[@toast-ui/editor] - The error occurred when "+n+" block node was parsed in markdown renderer: "+a)}return[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"text",content:r.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},frontMatter:function(r){return[{type:"openTag",tagName:"div",outerNewLine:!0,attributes:{style:"white-space: pre; display: none;"}},{type:"text",content:r.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},customInline:function(r,e,t){var n=r,i=n.info,a=n.firstChild,s=i.trim().toLowerCase(),u=t[s],f=e.entering;if(u)try{return u(r,e)}catch(p){console.warn("[@toast-ui/editor] - The error occurred when "+s+" inline node was parsed in markdown renderer: "+p)}return f?[{type:"openTag",tagName:"span"},{type:"text",content:"$$"+i+(a?" ":"")}]:[{type:"text",content:"$$"},{type:"closeTag",tagName:"span"}]}},pC={strike:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"del"}},item:function(r,e){var t=e.entering,n=r.listData,i=n.checked,a=n.task;if(t){var s={type:"openTag",tagName:"li",outerNewLine:!0};return a?[s,{type:"openTag",tagName:"input",selfClose:!0,attributes:Kn(Kn({},i&&{checked:""}),{disabled:"",type:"checkbox"})},{type:"text",content:" "}]:s}return{type:"closeTag",tagName:"li",outerNewLine:!0}},table:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"table",outerNewLine:!0}},tableHead:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"thead",outerNewLine:!0}},tableBody:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"tbody",outerNewLine:!0}},tableRow:function(r,e){var t=e.entering;if(t)return{type:"openTag",tagName:"tr",outerNewLine:!0};var n=[];if(r.lastChild)for(var i=r.parent.parent.columns.length,a=r.lastChild.endIdx,s=a+1;s<i;s+=1)n.push({type:"openTag",tagName:"td",outerNewLine:!0},{type:"closeTag",tagName:"td",outerNewLine:!0});return n.push({type:"closeTag",tagName:"tr",outerNewLine:!0}),n},tableCell:function(r,e){var t=e.entering;if(r.ignored)return{type:"text",content:""};var n=r.parent.parent,i=n.type==="tableHead"?"th":"td",a=n.parent,s=a.columns[r.startIdx],u=s?.align?{align:s.align}:null;return t?Kn({type:"openTag",tagName:i,outerNewLine:!0},u&&{attributes:u}):{type:"closeTag",tagName:i,outerNewLine:!0}}},vWe={softbreak:`
`,gfm:!1,tagFilter:!1,nodeId:!1};function mWe(r){for(var e=[],t=r.walker(),n=null;n=t.next();){var i=n.node;i.type==="text"&&e.push(i.literal)}return e.join("")}var Ak=(function(){function r(e){this.buffer=[],this.options=Kn(Kn({},vWe),e),this.convertors=this.createConvertors(),delete this.options.convertors}return r.prototype.createConvertors=function(){var e=Kn({},hC);if(this.options.gfm&&(e=Kn(Kn({},e),pC)),this.options.convertors){var t=this.options.convertors,n=Object.keys(t),i=Kn(Kn({},hC),pC);n.forEach(function(a){var s=e[a],u=t[a],f=Object.keys(i).indexOf(a)===-1?a.toLowerCase():a;s?e[f]=function(p,y,T){return y.origin=function(){return s(p,y,T)},u(p,y)}:e[f]=u})}return e},r.prototype.getConvertors=function(){return this.convertors},r.prototype.getOptions=function(){return this.options},r.prototype.render=function(e){var t=this;this.buffer=[];for(var n=e.walker(),i=null,a=function(){var u=i.node,f=i.entering,p=s.convertors[u.type];if(!p)return"continue";var y=!1,T={entering:f,leaf:!Dk(u),options:s.options,getChildrenText:mWe,skipChildren:function(){y=!0}},N=aE(u)||fUe(u)?p(u,T,s.convertors):p(u,T);if(N){var O=Array.isArray(N)?N:[N];O.forEach(function(A,z){A.type==="openTag"&&t.options.nodeId&&z===0&&(A.attributes||(A.attributes={}),A.attributes["data-nodeid"]=String(u.id)),t.renderHTMLNode(A)}),y&&(n.resumeAt(u,!1),n.next())}},s=this;i=n.next();)a();return this.addNewLine(),this.buffer.join("")},r.prototype.renderHTMLNode=function(e){switch(e.type){case"openTag":case"closeTag":this.renderElementNode(e);break;case"text":this.renderTextNode(e);break;case"html":this.renderRawHtmlNode(e);break}},r.prototype.generateOpenTagString=function(e){var t=this,n=e.tagName,i=e.classNames,a=e.attributes;this.buffer.push("<"+n),i&&i.length>0&&this.buffer.push(' class="'+i.join(" ")+'"'),a&&Object.keys(a).forEach(function(s){var u=a[s];t.buffer.push(" "+s+'="'+u+'"')}),e.selfClose&&this.buffer.push(" /"),this.buffer.push(">")},r.prototype.generateCloseTagString=function(e){var t=e.tagName;this.buffer.push("</"+t+">")},r.prototype.addNewLine=function(){this.buffer.length&&hm(hm(this.buffer))!==`
`&&this.buffer.push(`
`)},r.prototype.addOuterNewLine=function(e){e.outerNewLine&&this.addNewLine()},r.prototype.addInnerNewLine=function(e){e.innerNewLine&&this.addNewLine()},r.prototype.renderTextNode=function(e){this.buffer.push(Jc(e.content))},r.prototype.renderRawHtmlNode=function(e){this.addOuterNewLine(e),this.buffer.push(e.content),this.addOuterNewLine(e)},r.prototype.renderElementNode=function(e){e.type==="openTag"?(this.addOuterNewLine(e),this.generateOpenTagString(e),e.selfClose?this.addOuterNewLine(e):this.addInnerNewLine(e)):(this.addInnerNewLine(e),this.generateCloseTagString(e),this.addOuterNewLine(e))},r})();/*! @license DOMPurify 2.3.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.3/LICENSE */function gWe(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}else return Array.from(r)}var yWe=Object.hasOwnProperty,vC=Object.setPrototypeOf,kWe=Object.isFrozen,wWe=Object.getPrototypeOf,bWe=Object.getOwnPropertyDescriptor,Ri=Object.freeze,Ls=Object.seal,CWe=Object.create,TE=typeof Reflect<"u"&&Reflect,vm=TE.apply,D0=TE.construct;vm||(vm=function(e,t,n){return e.apply(t,n)});Ri||(Ri=function(e){return e});Ls||(Ls=function(e){return e});D0||(D0=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(gWe(t))))});var TWe=to(Array.prototype.forEach),mC=to(Array.prototype.pop),Jd=to(Array.prototype.push),zv=to(String.prototype.toLowerCase),gC=to(String.prototype.match),al=to(String.prototype.replace),SWe=to(String.prototype.indexOf),xWe=to(String.prototype.trim),Ts=to(RegExp.prototype.test),yC=EWe(TypeError);function to(r){return function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return vm(r,e,n)}}function EWe(r){return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return D0(r,t)}}function rr(r,e){vC&&vC(r,null);for(var t=e.length;t--;){var n=e[t];if(typeof n=="string"){var i=zv(n);i!==n&&(kWe(e)||(e[t]=i),n=i)}r[n]=!0}return r}function cu(r){var e=CWe(null),t=void 0;for(t in r)vm(yWe,r,[t])&&(e[t]=r[t]);return e}function Av(r,e){for(;r!==null;){var t=bWe(r,e);if(t){if(t.get)return to(t.get);if(typeof t.value=="function")return to(t.value)}r=wWe(r)}function n(i){return console.warn("fallback value for",i),null}return n}var kC=Ri(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),zy=Ri(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Hy=Ri(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),MWe=Ri(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Vy=Ri(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),NWe=Ri(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),wC=Ri(["#text"]),bC=Ri(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),$y=Ri(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),CC=Ri(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Lv=Ri(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),OWe=Ls(/\{\{[\s\S]*|[\s\S]*\}\}/gm),DWe=Ls(/<%[\s\S]*|[\s\S]*%>/gm),AWe=Ls(/^data-[\-\w.\u00B7-\uFFFF]/),LWe=Ls(/^aria-[\-\w]+$/),RWe=Ls(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),IWe=Ls(/^(?:\w+script|data):/i),PWe=Ls(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};function Ao(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}else return Array.from(r)}var BWe=function(){return typeof window>"u"?null:window},FWe=function(e,t){if((typeof e>"u"?"undefined":ih(e))!=="object"||typeof e.createPolicy!="function")return null;var n=null,i="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(i)&&(n=t.currentScript.getAttribute(i));var a="dompurify"+(n?"#"+n:"");try{return e.createPolicy(a,{createHTML:function(u){return u}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}};function SE(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:BWe(),e=function(re){return SE(re)};if(e.version="2.3.3",e.removed=[],!r||!r.document||r.document.nodeType!==9)return e.isSupported=!1,e;var t=r.document,n=r.document,i=r.DocumentFragment,a=r.HTMLTemplateElement,s=r.Node,u=r.Element,f=r.NodeFilter,p=r.NamedNodeMap,y=p===void 0?r.NamedNodeMap||r.MozNamedAttrMap:p,T=r.Text,N=r.Comment,O=r.DOMParser,A=r.trustedTypes,z=u.prototype,H=Av(z,"cloneNode"),j=Av(z,"nextSibling"),ie=Av(z,"childNodes"),le=Av(z,"parentNode");if(typeof a=="function"){var ve=n.createElement("template");ve.content&&ve.content.ownerDocument&&(n=ve.content.ownerDocument)}var be=FWe(A,t),me=be&&Kt?be.createHTML(""):"",Ee=n,Ce=Ee.implementation,_e=Ee.createNodeIterator,We=Ee.createDocumentFragment,Mt=Ee.getElementsByTagName,tt=t.importNode,Rt={};try{Rt=cu(n).documentMode?n.documentMode:{}}catch{}var Dt={};e.isSupported=typeof le=="function"&&Ce&&typeof Ce.createHTMLDocument<"u"&&Rt!==9;var zt=OWe,St=DWe,Pt=AWe,Ye=LWe,mt=IWe,Ve=PWe,ge=RWe,Le=null,ct=rr({},[].concat(Ao(kC),Ao(zy),Ao(Hy),Ao(Vy),Ao(wC))),pt=null,Ht=rr({},[].concat(Ao(bC),Ao($y),Ao(CC),Ao(Lv))),xe=null,we=null,oe=!0,he=!0,se=!1,Pe=!1,He=!1,nt=!1,qt=!1,Wt=!1,Vt=!1,br=!0,Kt=!1,Pr=!0,yr=!0,Sr=!1,nr={},Vr=null,yi=rr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Fn=null,Br=rr({},["audio","video","img","source","image","track"]),lt=null,ut=rr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Bt="http://www.w3.org/1998/Math/MathML",$t="http://www.w3.org/2000/svg",Yt="http://www.w3.org/1999/xhtml",Yr=Yt,pr=!1,Cr=void 0,Sn=["application/xhtml+xml","text/html"],_n="text/html",Dr=void 0,ln=null,Zn=n.createElement("form"),qn=function(re){ln&&ln===re||((!re||(typeof re>"u"?"undefined":ih(re))!=="object")&&(re={}),re=cu(re),Le="ALLOWED_TAGS"in re?rr({},re.ALLOWED_TAGS):ct,pt="ALLOWED_ATTR"in re?rr({},re.ALLOWED_ATTR):Ht,lt="ADD_URI_SAFE_ATTR"in re?rr(cu(ut),re.ADD_URI_SAFE_ATTR):ut,Fn="ADD_DATA_URI_TAGS"in re?rr(cu(Br),re.ADD_DATA_URI_TAGS):Br,Vr="FORBID_CONTENTS"in re?rr({},re.FORBID_CONTENTS):yi,xe="FORBID_TAGS"in re?rr({},re.FORBID_TAGS):{},we="FORBID_ATTR"in re?rr({},re.FORBID_ATTR):{},nr="USE_PROFILES"in re?re.USE_PROFILES:!1,oe=re.ALLOW_ARIA_ATTR!==!1,he=re.ALLOW_DATA_ATTR!==!1,se=re.ALLOW_UNKNOWN_PROTOCOLS||!1,Pe=re.SAFE_FOR_TEMPLATES||!1,He=re.WHOLE_DOCUMENT||!1,Wt=re.RETURN_DOM||!1,Vt=re.RETURN_DOM_FRAGMENT||!1,br=re.RETURN_DOM_IMPORT!==!1,Kt=re.RETURN_TRUSTED_TYPE||!1,qt=re.FORCE_BODY||!1,Pr=re.SANITIZE_DOM!==!1,yr=re.KEEP_CONTENT!==!1,Sr=re.IN_PLACE||!1,ge=re.ALLOWED_URI_REGEXP||ge,Yr=re.NAMESPACE||Yt,Cr=Sn.indexOf(re.PARSER_MEDIA_TYPE)===-1?Cr=_n:Cr=re.PARSER_MEDIA_TYPE,Dr=Cr==="application/xhtml+xml"?function(Ae){return Ae}:zv,Pe&&(he=!1),Vt&&(Wt=!0),nr&&(Le=rr({},[].concat(Ao(wC))),pt=[],nr.html===!0&&(rr(Le,kC),rr(pt,bC)),nr.svg===!0&&(rr(Le,zy),rr(pt,$y),rr(pt,Lv)),nr.svgFilters===!0&&(rr(Le,Hy),rr(pt,$y),rr(pt,Lv)),nr.mathMl===!0&&(rr(Le,Vy),rr(pt,CC),rr(pt,Lv))),re.ADD_TAGS&&(Le===ct&&(Le=cu(Le)),rr(Le,re.ADD_TAGS)),re.ADD_ATTR&&(pt===Ht&&(pt=cu(pt)),rr(pt,re.ADD_ATTR)),re.ADD_URI_SAFE_ATTR&&rr(lt,re.ADD_URI_SAFE_ATTR),re.FORBID_CONTENTS&&(Vr===yi&&(Vr=cu(Vr)),rr(Vr,re.FORBID_CONTENTS)),yr&&(Le["#text"]=!0),He&&rr(Le,["html","head","body"]),Le.table&&(rr(Le,["tbody"]),delete xe.tbody),Ri&&Ri(re),ln=re)},Zr=rr({},["mi","mo","mn","ms","mtext"]),Kr=rr({},["foreignobject","desc","title","annotation-xml"]),mn=rr({},zy);rr(mn,Hy),rr(mn,MWe);var Fr=rr({},Vy);rr(Fr,NWe);var zn=function(re){var Ae=le(re);(!Ae||!Ae.tagName)&&(Ae={namespaceURI:Yt,tagName:"template"});var Be=zv(re.tagName),it=zv(Ae.tagName);if(re.namespaceURI===$t)return Ae.namespaceURI===Yt?Be==="svg":Ae.namespaceURI===Bt?Be==="svg"&&(it==="annotation-xml"||Zr[it]):!!mn[Be];if(re.namespaceURI===Bt)return Ae.namespaceURI===Yt?Be==="math":Ae.namespaceURI===$t?Be==="math"&&Kr[it]:!!Fr[Be];if(re.namespaceURI===Yt){if(Ae.namespaceURI===$t&&!Kr[it]||Ae.namespaceURI===Bt&&!Zr[it])return!1;var Nt=rr({},["title","style","font","a","script"]);return!Fr[Be]&&(Nt[Be]||!mn[Be])}return!1},vr=function(re){Jd(e.removed,{element:re});try{re.parentNode.removeChild(re)}catch{try{re.outerHTML=me}catch{re.remove()}}},$r=function(re,Ae){try{Jd(e.removed,{attribute:Ae.getAttributeNode(re),from:Ae})}catch{Jd(e.removed,{attribute:null,from:Ae})}if(Ae.removeAttribute(re),re==="is"&&!pt[re])if(Wt||Vt)try{vr(Ae)}catch{}else try{Ae.setAttribute(re,"")}catch{}},X=function(re){var Ae=void 0,Be=void 0;if(qt)re="<remove></remove>"+re;else{var it=gC(re,/^[\r\n\t ]+/);Be=it&&it[0]}Cr==="application/xhtml+xml"&&(re='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+re+"</body></html>");var Nt=be?be.createHTML(re):re;if(Yr===Yt)try{Ae=new O().parseFromString(Nt,Cr)}catch{}if(!Ae||!Ae.documentElement){Ae=Ce.createDocument(Yr,"template",null);try{Ae.documentElement.innerHTML=pr?"":Nt}catch{}}var V=Ae.body||Ae.documentElement;return re&&Be&&V.insertBefore(n.createTextNode(Be),V.childNodes[0]||null),Yr===Yt?Mt.call(Ae,He?"html":"body")[0]:He?Ae.documentElement:V},Y=function(re){return _e.call(re.ownerDocument||re,re,f.SHOW_ELEMENT|f.SHOW_COMMENT|f.SHOW_TEXT,null,!1)},q=function(re){return re instanceof T||re instanceof N?!1:typeof re.nodeName!="string"||typeof re.textContent!="string"||typeof re.removeChild!="function"||!(re.attributes instanceof y)||typeof re.removeAttribute!="function"||typeof re.setAttribute!="function"||typeof re.namespaceURI!="string"||typeof re.insertBefore!="function"},F=function(re){return(typeof s>"u"?"undefined":ih(s))==="object"?re instanceof s:re&&(typeof re>"u"?"undefined":ih(re))==="object"&&typeof re.nodeType=="number"&&typeof re.nodeName=="string"},$=function(re,Ae,Be){Dt[re]&&TWe(Dt[re],function(it){it.call(e,Ae,Be,ln)})},G=function(re){var Ae=void 0;if($("beforeSanitizeElements",re,null),q(re)||gC(re.nodeName,/[\u0080-\uFFFF]/))return vr(re),!0;var Be=Dr(re.nodeName);if($("uponSanitizeElement",re,{tagName:Be,allowedTags:Le}),!F(re.firstElementChild)&&(!F(re.content)||!F(re.content.firstElementChild))&&Ts(/<[/\w]/g,re.innerHTML)&&Ts(/<[/\w]/g,re.textContent)||Be==="select"&&Ts(/<template/i,re.innerHTML))return vr(re),!0;if(!Le[Be]||xe[Be]){if(yr&&!Vr[Be]){var it=le(re)||re.parentNode,Nt=ie(re)||re.childNodes;if(Nt&&it)for(var V=Nt.length,R=V-1;R>=0;--R)it.insertBefore(H(Nt[R],!0),j(re))}return vr(re),!0}return re instanceof u&&!zn(re)||(Be==="noscript"||Be==="noembed")&&Ts(/<\/no(script|embed)/i,re.innerHTML)?(vr(re),!0):(Pe&&re.nodeType===3&&(Ae=re.textContent,Ae=al(Ae,zt," "),Ae=al(Ae,St," "),re.textContent!==Ae&&(Jd(e.removed,{element:re.cloneNode()}),re.textContent=Ae)),$("afterSanitizeElements",re,null),!1)},te=function(re,Ae,Be){if(Pr&&(Ae==="id"||Ae==="name")&&(Be in n||Be in Zn))return!1;if(!(he&&!we[Ae]&&Ts(Pt,Ae))){if(!(oe&&Ts(Ye,Ae))){if(!pt[Ae]||we[Ae])return!1;if(!lt[Ae]){if(!Ts(ge,al(Be,Ve,""))){if(!((Ae==="src"||Ae==="xlink:href"||Ae==="href")&&re!=="script"&&SWe(Be,"data:")===0&&Fn[re])){if(!(se&&!Ts(mt,al(Be,Ve,"")))){if(Be)return!1}}}}}}return!0},Ne=function(re){var Ae=void 0,Be=void 0,it=void 0,Nt=void 0;$("beforeSanitizeAttributes",re,null);var V=re.attributes;if(V){var R={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:pt};for(Nt=V.length;Nt--;){Ae=V[Nt];var b=Ae,E=b.name,B=b.namespaceURI;if(Be=xWe(Ae.value),it=Dr(E),R.attrName=it,R.attrValue=Be,R.keepAttr=!0,R.forceKeepAttr=void 0,$("uponSanitizeAttribute",re,R),Be=R.attrValue,!R.forceKeepAttr&&($r(E,re),!!R.keepAttr)){if(Ts(/\/>/i,Be)){$r(E,re);continue}Pe&&(Be=al(Be,zt," "),Be=al(Be,St," "));var K=Dr(re.nodeName);if(te(K,it,Be))try{B?re.setAttributeNS(B,E,Be):re.setAttribute(E,Be),mC(e.removed)}catch{}}}$("afterSanitizeAttributes",re,null)}},qe=function de(re){var Ae=void 0,Be=Y(re);for($("beforeSanitizeShadowDOM",re,null);Ae=Be.nextNode();)$("uponSanitizeShadowNode",Ae,null),!G(Ae)&&(Ae.content instanceof i&&de(Ae.content),Ne(Ae));$("afterSanitizeShadowDOM",re,null)};return e.sanitize=function(de,re){var Ae=void 0,Be=void 0,it=void 0,Nt=void 0,V=void 0;if(pr=!de,pr&&(de="<!-->"),typeof de!="string"&&!F(de)){if(typeof de.toString!="function")throw yC("toString is not a function");if(de=de.toString(),typeof de!="string")throw yC("dirty is not a string, aborting")}if(!e.isSupported){if(ih(r.toStaticHTML)==="object"||typeof r.toStaticHTML=="function"){if(typeof de=="string")return r.toStaticHTML(de);if(F(de))return r.toStaticHTML(de.outerHTML)}return de}if(nt||qn(re),e.removed=[],typeof de=="string"&&(Sr=!1),!Sr)if(de instanceof s)Ae=X("<!---->"),Be=Ae.ownerDocument.importNode(de,!0),Be.nodeType===1&&Be.nodeName==="BODY"||Be.nodeName==="HTML"?Ae=Be:Ae.appendChild(Be);else{if(!Wt&&!Pe&&!He&&de.indexOf("<")===-1)return be&&Kt?be.createHTML(de):de;if(Ae=X(de),!Ae)return Wt?null:me}Ae&&qt&&vr(Ae.firstChild);for(var R=Y(Sr?de:Ae);it=R.nextNode();)it.nodeType===3&&it===Nt||G(it)||(it.content instanceof i&&qe(it.content),Ne(it),Nt=it);if(Nt=null,Sr)return de;if(Wt){if(Vt)for(V=We.call(Ae.ownerDocument);Ae.firstChild;)V.appendChild(Ae.firstChild);else V=Ae;return br&&(V=tt.call(t,V,!0)),V}var b=He?Ae.outerHTML:Ae.innerHTML;return Pe&&(b=al(b,zt," "),b=al(b,St," ")),be&&Kt?be.createHTML(b):b},e.setConfig=function(de){qn(de),nt=!0},e.clearConfig=function(){ln=null,nt=!1},e.isValidAttribute=function(de,re,Ae){ln||qn({});var Be=Dr(de),it=Dr(re);return te(Be,it,Ae)},e.addHook=function(de,re){typeof re=="function"&&(Dt[de]=Dt[de]||[],Jd(Dt[de],re))},e.removeHook=function(de){Dt[de]&&mC(Dt[de])},e.removeHooks=function(de){Dt[de]&&(Dt[de]=[])},e.removeAllHooks=function(){Dt={}},e}var _We=SE(),qWe=["iframe","embed"],xE=[];function EE(r){Yn(qWe,r)&&xE.push(r.toLowerCase())}function Ru(r,e){return _We.sanitize(r,Fe({ADD_TAGS:xE,ADD_ATTR:["rel","target","hreflang","type"],FORBID_TAGS:["input","script","textarea","form","button","select","meta","style","link","title","object","base"]},e))}function ME(r,e){return r.literal.replace(new RegExp("(<\\s*"+e+"[^>]*>)|(</"+e+"\\s*[>])","ig"),"").trim()}function A0(r){r=r.match(cf)[0];var e=r.match(new RegExp(Cx,"g"));return e?e.reduce(function(t,n){var i=n.trim().split("="),a=i[0],s=i.slice(1);return s.length&&(t[a]=s.join("=").replace(/'|"/g,"").trim()),t},{}):{}}function L0(r){return zo(r.attributes).reduce(function(e,t){return e[t.nodeName]=t.nodeValue,e},{})}function TC(r,e,t,n){var i=n.getToDOMNode(e)(r),a=t(i.outerHTML),s=document.createElement("div");s.innerHTML=a,i=s.firstChild;var u=L0(i);return{dom:i,htmlAttrs:u}}var zWe={htmlBlock:function(r,e,t){return{atom:!0,content:"block+",group:"block",attrs:{htmlAttrs:{default:{}},childrenHTML:{default:""},htmlBlock:{default:!0}},parseDOM:[{tag:r,getAttrs:function(n){return{htmlAttrs:L0(n),childrenHTML:n.innerHTML}}}],toDOM:function(n){var i=TC(n,r,e,t),a=i.dom,s=i.htmlAttrs;return s.class=s.class?s.class+" html-block":"html-block",Qi([r,s],zo(a.childNodes))}}},htmlInline:function(r,e,t){return{attrs:{htmlAttrs:{default:{}},htmlInline:{default:!0}},parseDOM:[{tag:r,getAttrs:function(n){return{htmlAttrs:L0(n)}}}],toDOM:function(n){var i=TC(n,r,e,t).htmlAttrs;return[r,i,0]}}}};function HWe(r,e,t){var n={nodes:{},marks:{}};return["htmlBlock","htmlInline"].forEach(function(i){r[i]&&Object.keys(r[i]).forEach(function(a){var s=i==="htmlBlock"?"nodes":"marks";EE(a),n[s][a]=zWe[i](a,e,t)})}),n}var VWe=/^\s*<\s*\//,$We={paragraph:function(r,e){var t=e.entering,n=e.origin,i=e.options;return i.nodeId?{type:t?"openTag":"closeTag",outerNewLine:!0,tagName:"p"}:n()},softbreak:function(r){var e=r.prev&&r.prev.type==="htmlInline",t=e&&/<br ?\/?>/.test(r.prev.literal),n=t?`
`:`<br>
`;return{type:"html",content:n}},item:function(r,e){var t=e.entering;if(t){var n={},i=[];return r.listData.task&&(n["data-task"]="",i.push("task-list-item"),r.listData.checked&&(i.push("checked"),n["data-task-checked"]="")),{type:"openTag",tagName:"li",classNames:i,attributes:n,outerNewLine:!0}}return{type:"closeTag",tagName:"li",outerNewLine:!0}},code:function(r){var e={"data-backticks":String(r.tickCount)};return[{type:"openTag",tagName:"code",attributes:e},{type:"text",content:r.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(r){var e=r,t=e.fenceLength,n=e.info,i=n?n.split(/\s+/):[],a=[],s={};if(t>3&&(s["data-backticks"]=t),i.length>0&&i[0].length>0){var u=i[0];a.push("lang-"+u),s["data-language"]=u}return[{type:"openTag",tagName:"pre",classNames:a},{type:"openTag",tagName:"code",attributes:s},{type:"text",content:r.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]},customInline:function(r,e){var t=e.origin,n=e.entering,i=e.skipChildren,a=r.info;if(a.indexOf("widget")!==-1&&n){i();var s=yx(r),u=gx(a,s).outerHTML;return[{type:"openTag",tagName:"span",classNames:["tui-widget"]},{type:"html",content:u},{type:"closeTag",tagName:"span"}]}return t()}};function Lk(r,e){var t=Fe({},$We);return r&&(t.link=function(n,i){var a=i.entering,s=i.origin,u=s();return a&&(u.attributes=Fe(Fe({},u.attributes),r)),u}),e&&Object.keys(e).forEach(function(n){var i=t[n],a=e[n];i&&Ea(a)?t[n]=function(s,u){var f=Fe({},u);return f.origin=function(){return i(s,u)},a(s,f)}:Yn(["htmlBlock","htmlInline"],n)&&!Ea(a)?t[n]=function(s,u){var f=s.literal.match(cf);if(f){var p=f[0],y=f[1],T=f[3],N=(y||T).toLowerCase(),O=a[N],A=ME(s,N);if(O){var z=Fe({},s);return z.attrs=A0(p),z.childrenHTML=A,z.type=N,u.entering=!VWe.test(s.literal),O(z,u)}}return u.origin()}:t[n]=a}),t}var UWe=["list","item","blockQuote"],WWe=["UL","OL","BLOCKQUOTE"];function jWe(r,e){var t,n=r.child(e);return!n.childCount||n.childCount===1&&!(!((t=n.firstChild.text)===null||t===void 0)&&t.trim())}function SC(r,e,t){var n=Eh(e)-1,i=Dm(e)-1,a=t[n].getBoundingClientRect(),s=t[i].offsetTop-t[n].offsetTop+t[i].clientHeight;return{height:s<=0?t[n].clientHeight:s+GWe(r,t,Math.min(i+1,r.childCount-1)),rect:a}}function GWe(r,e,t){for(var n=r.childCount-1,i=0;t<=n&&jWe(r,t);)i+=e[t].clientHeight,t+=1;return i}function KWe(r,e){for(;!r.getAttribute("data-nodeid")&&r.parentElement!==e;)r=r.parentElement;return r}function mm(r,e){for(var t=0;r&&r!==e&&(Yn(WWe,r.tagName)||(t+=r.offsetTop),r.offsetParent!==e.offsetParent);)r=r.parentElement;return t}function JWe(r,e){for(var t=e,n=null;t;){var i=t.firstElementChild;if(!i)break;var a=NE(i,r,mm(t,e));n=t,t=a}var s=t||n;return s===e?null:s}function NE(r,e,t){return r&&e>t+r.offsetTop?NE(r.nextElementSibling,e,t)||r:null}function QWe(r,e,t,n){var i=Math.min((r-e)/t,1);return i*n}function Uy(r,e){for(var t=r.querySelector('[data-nodeid="'+e.id+'"]');!t||_ne(e);)e=e.parent,t=r.querySelector('[data-nodeid="'+e.id+'"]');return XWe({mdNode:e,el:t})}function XWe(r){for(var e=r.mdNode,t=r.el;(Yn(UWe,e.type)||e.type==="table")&&e.firstChild;)e=e.firstChild,t=t.firstElementChild;return{mdNode:e,el:t}}var Xa={};function YWe(r,e){Xa[r]=Xa[r]||{},Xa[r].height=e}function ZWe(r,e){Xa[r]=Xa[r]||{},Xa[r].offsetTop=e}function eje(r){return Xa[r]&&Xa[r].height}function tje(r){return Xa[r]&&Xa[r].offsetTop}function R0(r){r&&(delete Xa[Number(r.getAttribute("data-nodeid"))],zo(r.children).forEach(function(e){R0(e)}))}function rje(r,e,t){var n=eje(t),i=tje(t),a=n||r.clientHeight,s=i||mm(r,e)||r.offsetTop;return n||YWe(t,a),i||ZWe(t,s),{nodeHeight:a,offsetTop:s}}var Wy=Et("md-preview-highlight");function nje(r,e){for(var t=r.firstChild;t&&t.next&&!(Am(t.next)>e+1);)t=t.next;return t}var OE=(function(){function r(e,t){var n=document.createElement("div");this.el=n,this.eventEmitter=e,this.isViewer=!!t.isViewer,this.el.className=Et("md-preview");var i=t.linkAttributes,a=t.customHTMLRenderer,s=t.sanitizer,u=t.highlight,f=u===void 0?!1:u;this.renderer=new Ak({gfm:!0,nodeId:!0,convertors:Lk(i,a)}),this.cursorNodeId=null,this.sanitizer=s,this.initEvent(f),this.initContentSection(),this.isViewer&&(this.previewContent.style.overflowWrap="break-word")}return r.prototype.initContentSection=function(){this.previewContent=Mx('<div class="'+Et("contents")+'"></div>'),this.isViewer||this.el.appendChild(this.previewContent)},r.prototype.toggleActive=function(e){gk(this.el,"active",e)},r.prototype.initEvent=function(e){var t=this;this.eventEmitter.listen("updatePreview",this.update.bind(this)),!this.isViewer&&(e&&(this.eventEmitter.listen("changeToolbarState",function(n){var i=n.mdNode,a=n.cursorPos;t.updateCursorNode(i,a)}),this.eventEmitter.listen("blur",function(){t.removeHighlight()})),Ux(this.el,"scroll",function(n){t.eventEmitter.emit("scroll","preview",JWe(n.target.scrollTop,t.previewContent))}),this.eventEmitter.listen("changePreviewTabPreview",function(){return t.toggleActive(!0)}),this.eventEmitter.listen("changePreviewTabWrite",function(){return t.toggleActive(!1)}))},r.prototype.removeHighlight=function(){if(this.cursorNodeId){var e=this.getElementByNodeId(this.cursorNodeId);e&&Qa(e,Wy)}},r.prototype.updateCursorNode=function(e,t){e&&(e=uf(e,function(s){return!Hne(s)}),e.type==="tableRow"?e=nje(e,t[1]):e.type==="tableBody"&&(e=null));var n=e?e.id:null;if(this.cursorNodeId!==n){var i=this.getElementByNodeId(this.cursorNodeId),a=this.getElementByNodeId(n);i&&Qa(i,Wy),a&&Po(a,Wy),this.cursorNodeId=n}},r.prototype.getElementByNodeId=function(e){return e?this.previewContent.querySelector('[data-nodeid="'+e+'"]'):null},r.prototype.update=function(e){var t=this;e.forEach(function(n){return t.replaceRangeNodes(n)}),this.eventEmitter.emit("afterPreviewRender",this)},r.prototype.replaceRangeNodes=function(e){var t=this,n=e.nodes,i=e.removedNodeRange,a=this.previewContent,s=this.eventEmitter.emitReduce("beforePreviewRender",this.sanitizer(n.map(function(A){return t.renderer.render(A)}).join("")));if(!i)a.insertAdjacentHTML("afterbegin",s);else{var u=i.id,f=u[0],p=u[1],y=this.getElementByNodeId(f),T=this.getElementByNodeId(p);if(y){y.insertAdjacentHTML("beforebegin",s);for(var N=y;N&&N!==T;){var O=N.nextElementSibling;Du(N),R0(N),N=O}N?.parentNode&&(Du(N),R0(N))}}},r.prototype.getRenderer=function(){return this.renderer},r.prototype.destroy=function(){$x(this.el,"scroll"),this.el=null},r.prototype.getElement=function(){return this.el},r.prototype.getHTML=function(){return wk(this.previewContent.innerHTML)},r.prototype.setHTML=function(e){this.previewContent.innerHTML=e},r.prototype.setHeight=function(e){qo(this.el,{height:e+"px"})},r.prototype.setMinHeight=function(e){qo(this.el,{minHeight:e+"px"})},r})();function Ns(r,e){for(var t=r.depth;t;){var n=r.node(t);if(e(n,t))return{node:n,depth:t,offset:t>0?r.before(t):0};t-=1}return null}function pf(r){return!!Ns(r,function(e){var t=e.type;return t.name==="listItem"||t.name==="bulletList"||t.name==="orderedList"})}function gm(r){return!!Ns(r,function(e){var t=e.type;return t.name==="tableHeadCell"||t.name==="tableBodyCell"})}function vf(r){return Ns(r,function(e){var t=e.type;return t.name==="listItem"})}function zm(r){return{tag:r,getAttrs:function(e){var t=e.getAttribute("data-raw-html");return Fe({},t&&{rawHTML:t})}}}function DE(r){return Object.keys(r).reduce(function(e,t){return t!=="rawHTML"&&r[t]&&(t=t==="className"?"class":t,e[t]=r[t]),e},{})}function AE(r){return{tag:r,getAttrs:function(e){return["rawHTML","colspan","rowspan","extended"].reduce(function(t,n){var i=n==="rawHTML"?"data-raw-html":n,a=e.getAttribute(i);return a&&(t[n]=Yn(["rawHTML","extended"],n)?a:Number(a)),t},{})}}}function Bn(){return{htmlAttrs:{default:null},classNames:{default:null}}}function vn(r){var e=r.htmlAttrs,t=r.classNames;return Fe(Fe({},e),{class:t?t.join(" "):null})}function ije(r,e){var t=r.parent,n=r.startIndex,i=r.endIndex,a=t.contentMatchAt(n).findWrapping(e);if(a){var s=a.length?a[0]:e;return t.canReplaceWith(n,i,s)?a:null}return null}function aje(r,e){var t=r.parent,n=r.startIndex,i=r.endIndex,a=t.child(n),s=e.contentMatch.findWrapping(a.type);if(s){for(var u=s.length?s[s.length-1]:e,f=u.contentMatch,p=n;f&&p<i;p+=1)f=f.matchType(t.child(p).type);if(f&&f.validEnd)return s}return null}function oje(r,e,t,n){var i=ije(r,t),a=aje(e,t);if(i&&a){var s=i.map(function(f){return{type:f}}),u=a.map(function(f){return{type:f,attrs:n}});return s.concat({type:t}).concat(u)}return null}function sje(r,e,t,n,i){for(var a=e.start,s=e.end,u=e.startIndex,f=e.endIndex,p=e.parent,y=Xe.empty,T=t.length-1;T>=0;T-=1)y=Xe.from(t[T].type.create(t[T].attrs,y));r.step(new In(a-(n?2:0),s,a,s,new ht(y,0,0),t.length,!0));for(var N=0,T=0;T<t.length;T+=1)if(t[T].type===i){N=T+1;break}for(var O=t.length-N,A=a+t.length-(n?2:0),T=u,z=f;T<z;T+=1){var H=T===u;!H&&Zc(r.doc,A,O)&&(r.split(A,O),A+=O*2),A+=p.child(T).nodeSize}return r}function LE(r,e,t,n){var i=e.$from,a=e.$to,s=e.depth,u=e,f=!1;if(s>=2&&i.node(s-1).type.compatibleContent(t)&&e.startIndex===0&&i.index(s-1)){var p=r.doc.resolve(e.start-2);u=new Kv(p,p,s),e.endIndex<e.parent.childCount&&(e=new Kv(i,r.doc.resolve(a.end(s)),s)),f=!0}var y=oje(u,e,t,n);return y?sje(r,e,y,f,t):r}function RE(r,e){for(var t=r.resolve(e);t.node().type.name!=="paragraph";)e-=2,t=r.resolve(e);return vf(t)}function lje(r,e){var t=e.$from,n=e.$to,i=vf(t),a=vf(n);if(i&&a)for(;a;){var s=a.offset,u=a.node,f={task:!u.attrs.task,checked:!1};if(r.setNodeMarkup(s,null,f),s===i.offset)break;a=RE(r.doc,s)}return r}function uje(r,e,t){var n=e.$from,i=e.$to,a=vf(n),s=vf(i);if(a&&s)for(;s;){var u=s.offset,f=s.node,p=s.depth;f.attrs.task&&r.setNodeMarkup(u,null,{task:!1,checked:!1});var y=r.doc.resolve(u);if(y.parent.type!==t){var T=y.before(p-1);r.setNodeMarkup(T,t)}if(u===a.offset)break;s=RE(r.doc,u)}return r}function IE(r){return function(e,t){var n=e.selection,i=e.tr,a=n.$from,s=n.$to,u=a.blockRange(s);if(u){var f=pf(a)?uje(i,u,r):LE(i,u,r);return t(f),!0}return!1}}function cje(){return function(r,e){var t=r.selection,n=r.tr,i=r.schema,a=t.$from,s=t.$to,u=a.blockRange(s);if(u){var f=pf(a)?lje(n,u):LE(n,u,i.nodes.bulletList,{task:!0});return e(f),!0}return!1}}function fje(r){return function(e,t){var n=e.tr,i=e.selection,a=i.$from,s=i.$to,u=a.blockRange(s,function(z){var H=z.childCount,j=z.firstChild;return!!H&&j.type===r});if(u&&u.startIndex>0){var f=u.parent,p=f.child(u.startIndex-1);if(p.type!==r)return!1;var y=p.lastChild&&p.lastChild.type===f.type,T=y?Xe.from(r.create()):null,N=new ht(Xe.from(r.create(null,Xe.from(f.type.create(null,T)))),y?3:1,0),O=u.start,A=u.end;return n.step(new In(O-(y?3:1),A,O,A,N,1,!0)),t(n),!0}return!1}}function dje(r,e,t){var n=e.$from,i=e.$to,a=e.end,s=e.depth,u=e.parent,f=i.end(s);return a<f&&(r.step(new In(a-1,f,a,f,new ht(Xe.from(t.create(null,u.copy())),1,0),1,!0)),e=new Kv(r.doc.resolve(n.pos),r.doc.resolve(f),s)),r.lift(e,Cm(e)),r}function hje(r,e){for(var t=e.parent,n=e.end,i=e.endIndex-1,a=e.startIndex;i>a;i-=1)n-=t.child(i).nodeSize,r.delete(n-1,n+1);var s=r.doc.resolve(e.start),u=s.nodeAfter,f=e.startIndex===0,p=e.endIndex===t.childCount,y=s.node(-1),T=s.index(-1),N=y.canReplace(T+(f?0:1),T+1,u?.content.append(p?Xe.empty:Xe.from(t)));if(u&&N){var O=s.pos,A=O+u.nodeSize;r.step(new In(O-(f?1:0),A+(p?1:0),O+1,A-1,new ht((f?Xe.empty:Xe.from(t.copy(Xe.empty))).append(p?Xe.empty:Xe.from(t.copy(Xe.empty))),f?0:1,p?0:1),f?0:1))}return r}function pje(r){return function(e,t){var n=e.tr,i=e.selection,a=i.$from,s=i.$to,u=a.blockRange(s,function(y){var T=y.childCount,N=y.firstChild;return!!T&&N.type===r});if(u){var f=a.node(u.depth-1).type===r,p=f?dje(n,u,r):hje(n,u);return t(p),!0}return!1}}function vje(r){return function(e,t){var n=e.tr,i=e.selection,a=i.$from,s=i.$to;if(a.depth<2||!a.sameParent(s))return!1;var u=a.node(-1);if(u.type!==r)return!1;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==r||a.index(-2)!==a.node(-2).childCount-1)return!1;for(var f=a.index(-1)>0,p=Xe.empty,y=a.depth-(f?1:2);y>=a.depth-3;y-=1)p=Xe.from(a.node(y).copy(p));return p=p.append(Xe.from(r.createAndFill())),n.replace(f?a.before():a.before(-1),a.after(-3),new ht(p,f?3:2,2)),n.setSelection(ir.near(n.doc.resolve(a.pos+(f?3:2)))),t(n),!0}var T=s.pos===a.end()?u.contentMatchAt(0).defaultType:null,N=T&&[null,{type:T}];return n.delete(a.pos,s.pos),Zc(n.doc,a.pos,2,N)?(n.split(a.pos,2,N),t(n),!0):!1}}function mje(){return function(){return function(r,e){var t=r.selection,n=r.schema,i=t.$from,a=t.$to,s=i.blockRange(a);return s&&pf(i)?fje(n.nodes.listItem)(r,e):!1}}}function gje(){return function(){return function(r,e){var t=r.selection,n=r.schema,i=t.$from,a=t.$to,s=i.blockRange(a);return s&&pf(i)?pje(n.nodes.listItem)(r,e):!1}}}function Rk(){return{indent:mje(),outdent:gje()}}var xC=new Map,Gn=(function(){function r(e,t,n,i){this.table=e,this.tableRows=t,this.tableStartPos=n,this.rowInfo=i}return r.create=function(e){var t=Ns(e,function(A){var z=A.type;return z.name==="table"});if(t){var n=t.node,i=t.depth,a=t.offset,s=xC.get(n);if(s?.tableStartPos===a+1)return s;var u=[],f=e.start(i),p=n.child(0),y=n.child(1),T=I0(p,f),N=I0(y,f+p.nodeSize);p.forEach(function(A){return u.push(A)}),y.forEach(function(A){return u.push(A)});var O=new r(n,u,f,T.concat(N));return xC.set(n,O),O}return null},Object.defineProperty(r.prototype,"totalRowCount",{get:function(){return this.rowInfo.length},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"totalColumnCount",{get:function(){return this.rowInfo[0].length},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tableStartOffset",{get:function(){return this.tableStartPos},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tableEndOffset",{get:function(){return this.tableStartPos+this.table.nodeSize-1},enumerable:!1,configurable:!0}),r.prototype.getCellInfo=function(e,t){return this.rowInfo[e][t]},r.prototype.posAt=function(e,t){for(var n=0,i=this.tableStartPos;;n+=1){var a=i+this.tableRows[n].nodeSize;if(n===e){for(var s=t;s<this.totalColumnCount&&this.rowInfo[n][s].offset<i;)s+=1;return s===this.totalColumnCount?a:this.rowInfo[n][s].offset}i=a}},r.prototype.getNodeAndPos=function(e,t){var n=this.rowInfo[e][t];return{node:this.table.nodeAt(n.offset-this.tableStartOffset),pos:n.offset}},r.prototype.extendedRowspan=function(e,t){return!1},r.prototype.extendedColspan=function(e,t){return!1},r.prototype.getRowspanCount=function(e,t){return 0},r.prototype.getColspanCount=function(e,t){return 0},r.prototype.decreaseColspanCount=function(e,t){return 0},r.prototype.decreaseRowspanCount=function(e,t){return 0},r.prototype.getColspanStartInfo=function(e,t){return null},r.prototype.getRowspanStartInfo=function(e,t){return null},r.prototype.getCellStartOffset=function(e,t){var n=this.rowInfo[e][t].offset;return this.extendedRowspan(e,t)?this.posAt(e,t):n},r.prototype.getCellEndOffset=function(e,t){var n=this.rowInfo[e][t],i=n.offset,a=n.nodeSize;return this.extendedRowspan(e,t)?this.posAt(e,t):i+a},r.prototype.getCellIndex=function(e){for(var t=0;t<this.totalRowCount;t+=1)for(var n=this.rowInfo[t],i=0;i<this.totalColumnCount;i+=1)if(n[i].offset+1>e.pos)return[t,i];return[0,0]},r.prototype.getRectOffsets=function(e,t){var n,i,a;t===void 0&&(t=e),e.pos>t.pos&&(n=[t,e],e=n[0],t=n[1]);var s=this.getCellIndex(e),u=s[0],f=s[1],p=this.getCellIndex(t),y=p[0],T=p[1];return i=Eb(u,y),u=i[0],y=i[1],a=Eb(f,T),f=a[0],T=a[1],this.getSpannedOffsets({startRowIdx:u,startColIdx:f,endRowIdx:y,endColIdx:T})},r.prototype.getSpannedOffsets=function(e){return e},r})(),I0=function(r,e){var t=[];return r.forEach(function(n,i){var a={rowspanMap:{},colspanMap:{},length:0};n.forEach(function(s,u){for(var f=s.nodeSize,p=0;a[p];)p+=1;a[p]={offset:e+i+u+2,nodeSize:f},a.length+=1}),t.push(a)}),t};function yje(r,e){return hk(Gn.prototype,r),I0=e,Gn}function kje(r,e,t){for(var n=t.startRowIdx,i=t.startColIdx,a=t.endRowIdx,s=t.endColIdx,u=[],f=n;f<=a;f+=1)for(var p=i;p<=s;p+=1){var y=e.getCellInfo(f,p),T=y.offset,N=y.nodeSize;u.push(new yS(r.resolve(T+1),r.resolve(T+N-1)))}return u}function wje(r,e){var t=[];return r.childCount&&t.push(r),e.childCount&&t.push(e),Xe.from(t)}var Ik=(function(r){wt(e,r);function e(t,n){n===void 0&&(n=t);var i=this,a=t.node(0),s=Gn.create(t),u=s.getRectOffsets(t,n),f=kje(a,s,u);return i=r.call(this,f[0].$from,f[0].$to,f)||this,i.startCell=t,i.endCell=n,i.offsetMap=s,i.isCellSelection=!0,i.visible=!1,i}return e.prototype.map=function(t,n){var i=this.startCell.pos,a=this.endCell.pos,s=t.resolve(n.map(i)),u=t.resolve(n.map(a)),f=Gn.create(s);if(this.offsetMap.totalColumnCount>f.totalColumnCount||this.offsetMap.totalRowCount>f.totalRowCount){var p={tableBody:1,tableRow:2,tableCell:3,paragraph:4},y=p[u.parent.type.name],T=u.end(u.depth-y),N=Math.min(T-4,u.pos);return ur.create(t,N)}return new e(s,u)},e.prototype.eq=function(t){return t instanceof e&&t.startCell.pos===this.startCell.pos&&t.endCell.pos===this.endCell.pos},e.prototype.content=function(){for(var t=this.startCell.node(-2),n=this.startCell.start(-2),i=t.child(1).firstChild,a=t.child(0).type.create(),s=t.child(1).type.create(),u=Gn.create(this.startCell),f=u.getRectOffsets(this.startCell,this.endCell),p=f.startRowIdx,y=f.startColIdx,T=f.endRowIdx,N=f.endColIdx,O=!1,A=p;A<=T;A+=1){for(var z=[],H=y;H<=N;H+=1){var j=u.getCellInfo(A,H).offset,ie=t.nodeAt(j-n);ie&&(O=ie.type.name==="tableHeadCell",u.extendedRowspan(A,H)||u.extendedColspan(A,H)?z.push(ie.type.create({extended:!0})):z.push(ie.copy(ie.content)))}var le=i.copy(Xe.from(z)),ve=O?a:s;ve.content=ve.content.append(Xe.from(le))}return new ht(wje(a,s),1,1)},e.prototype.toJSON=function(){return JSON.stringify(this)},e})(ir);function bje(r,e,t){for(var n=e.nodes,i=n.tableRow,a=n.tableHeadCell,s=n.paragraph,u=[],f=0;f<r;f+=1){var p=t&&t[f],y=s.create(null,p?e.text(p):[]);u.push(a.create(null,y))}return[i.create(null,u)]}function PE(r,e,t,n){for(var i=t.nodes,a=i.tableRow,s=i.tableBodyCell,u=i.paragraph,f=[],p=0;p<r;p+=1){for(var y=[],T=0;T<e;T+=1){var N=n&&n[p*e+T],O=u.create(null,N?t.text(N):[]);y.push(s.create(null,O))}f.push(a.create(null,y))}return f}function Hv(r,e,t,n){n===void 0&&(n=null);for(var i=t.nodes,a=i.tableHeadCell,s=i.tableBodyCell,u=i.paragraph,f=e===0?a:s,p=[],y=0;y<r;y+=1)p.push(f.create(n,u.create()));return p}function BE(r,e){for(;r&&r!==e;){if(r.nodeName==="TD"||r.nodeName==="TH")return r;r=r.parentNode}return null}function FE(r){return Ns(r,function(e){var t=e.type;return t.name==="tableHeadCell"||t.name==="tableBodyCell"})}function Lo(r){if(r instanceof ur){var e=r.$anchor,t=FE(e);if(t){var n=e.node(0).resolve(e.before(t.depth));return{anchor:n,head:n}}}var i=r,a=i.startCell,s=i.endCell;return{anchor:a,head:s}}function _E(r){var e;if(r.size){var t=r.content,n=r.openStart,i=r.openEnd;if(t.childCount!==1)return null;for(;t.childCount===1&&(n>0&&i>0||((e=t.firstChild)===null||e===void 0?void 0:e.type.name)==="table");)n-=1,i-=1,t=t.firstChild.content;if(t.firstChild.type.name==="tableHead"||t.firstChild.type.name==="tableBody")return t}return null}function Xc(r){var e=r.startRowIdx,t=r.startColIdx,n=r.endRowIdx,i=r.endColIdx,a=n-e+1,s=i-t+1;return{rowCount:a,columnCount:s}}function Cje(r,e){return Fe(Fe({},r.attrs),e)}var cl=new bh("cellSelection"),Tje=2,Sje=(function(){function r(e){this.view=e,this.handlers={mousedown:this.handleMousedown.bind(this),mousemove:this.handleMousemove.bind(this),mouseup:this.handleMouseup.bind(this)},this.startCellPos=null,this.init()}return r.prototype.init=function(){this.view.dom.addEventListener("mousedown",this.handlers.mousedown)},r.prototype.handleMousedown=function(e){var t=BE(e.target,this.view.dom);if(e.button===Tje){e.preventDefault();return}if(t){var n=this.getCellPos(e);n&&(this.startCellPos=n),this.bindEvent()}},r.prototype.handleMousemove=function(e){var t=cl.getState(this.view.state),n=this.getCellPos(e),i=this.startCellPos,a;t?a=this.view.state.doc.resolve(t):i!==n&&(a=i),a&&i&&n&&this.setCellSelection(i,n)},r.prototype.handleMouseup=function(){this.startCellPos=null,this.unbindEvent(),cl.getState(this.view.state)!==null&&this.view.dispatch(this.view.state.tr.setMeta(cl,-1))},r.prototype.bindEvent=function(){var e=this.view.dom;e.addEventListener("mousemove",this.handlers.mousemove),e.addEventListener("mouseup",this.handlers.mouseup)},r.prototype.unbindEvent=function(){var e=this.view.dom;e.removeEventListener("mousemove",this.handlers.mousemove),e.removeEventListener("mouseup",this.handlers.mouseup)},r.prototype.getCellPos=function(e){var t=e.clientX,n=e.clientY,i=this.view.posAtCoords({left:t,top:n});if(i){var a=this.view.state.doc,s=a.resolve(i.pos),u=FE(s);if(u){var f=s.before(u.depth);return a.resolve(f)}}return null},r.prototype.setCellSelection=function(e,t){var n=this.view.state,i=n.selection,a=n.tr,s=cl.getState(this.view.state)===null,u=new Ik(e,t);if(s||!i.eq(u)){var f=a.setSelection(u);s&&f.setMeta(cl,t.pos),this.view.dispatch(f)}},r.prototype.destroy=function(){this.view.dom.removeEventListener("mousedown",this.handlers.mousedown)},r})(),xje=Et("cell-selected");function Eje(r){var e=r.selection,t=r.doc;if(e instanceof Ik){var n=[],i=e.ranges;return i.forEach(function(a){var s=a.$from,u=a.$to;n.push(Ki.node(s.pos-1,u.pos+1,{class:xje}))}),sn.create(t,n)}return null}function Mje(){return new Xi({key:cl,state:{init:function(){return null},apply:function(r,e){var t=r.getMeta(cl);if(t)return t===-1?null:t;if(nm(e)||!r.docChanged)return e;var n=r.mapping.mapResult(e),i=n.deleted,a=n.pos;return i?null:a}},props:{decorations:Eje,createSelectionBetween:function(r){var e=r.state;return nm(cl.getState(e))?null:e.selection}},view:function(r){return new Sje(r)}})}var qE=(function(){function r(){this.keys=[],this.values=[]}return r.prototype.getKeyIndex=function(e){return Nu(e,this.keys)},r.prototype.get=function(e){return this.values[this.getKeyIndex(e)]},r.prototype.set=function(e,t){var n=this.getKeyIndex(e);return n>-1?this.values[n]=t:(this.keys.push(e),this.values.push(t)),this},r.prototype.has=function(e){return this.getKeyIndex(e)>-1},r.prototype.delete=function(e){var t=this.getKeyIndex(e);return t>-1?(this.keys.splice(t,1),this.values.splice(t,1),!0):!1},r.prototype.forEach=function(e,t){var n=this;t===void 0&&(t=this),this.values.forEach(function(i,a){i&&n.keys[a]&&e.call(t,i,n.keys[a],n)})},r.prototype.clear=function(){this.keys=[],this.values=[]},r})(),jy="en-US",Nje=(function(){function r(){this.code=jy,this.langs=new qE}return r.prototype.setCode=function(e){this.code=e||jy},r.prototype.setLanguage=function(e,t){var n=this;e=[].concat(e),e.forEach(function(i){if(!n.langs.has(i))n.langs.set(i,t);else{var a=n.langs.get(i);n.langs.set(i,sk(a,t))}})},r.prototype.get=function(e,t){t||(t=this.code);var n=this.langs.get(t);n||(n=this.langs.get(jy));var i=n[e];if(!i)throw new Error('There is no text key "'+e+'" in '+t);return i},r})(),Xt=new Nje,Oje=[[{action:"Add row to up",command:"addRowToUp",disableInThead:!0,className:"add-row-up"},{action:"Add row to down",command:"addRowToDown",disableInThead:!0,className:"add-row-down"},{action:"Remove row",command:"removeRow",disableInThead:!0,className:"remove-row"}],[{action:"Add column to left",command:"addColumnToLeft",className:"add-column-left"},{action:"Add column to right",command:"addColumnToRight",className:"add-column-right"},{action:"Remove column",command:"removeColumn",className:"remove-column"}],[{action:"Align column to left",command:"alignColumn",payload:{align:"left"},className:"align-column-left"},{action:"Align column to center",command:"alignColumn",payload:{align:"center"},className:"align-column-center"},{action:"Align column to right",command:"alignColumn",payload:{align:"right"},className:"align-column-right"}],[{action:"Remove table",command:"removeTable",className:"remove-table"}]];function Dje(r,e){return Oje.map(function(t){return t.map(function(n){var i=n.action,a=n.command,s=n.payload,u=n.disableInThead,f=n.className;return{label:Xt.get(i),onClick:function(){r.emit("command",a,s)},disabled:e&&!!u,className:f}})}).concat()}function Aje(r){return new Xi({props:{handleDOMEvents:{contextmenu:function(e,t){var n=BE(t.target,e.dom);if(n){t.preventDefault();var i=t,a=i.clientX,s=i.clientY,u=e.dom.parentNode.getBoundingClientRect(),f=u.left,p=u.top,y=n.nodeName==="TH";return r.emit("contextmenu",{pos:{left:a-f+10+"px",top:s-p+30+"px"},menuGroups:Dje(r,y),tableCell:n}),!0}return!1}}}})}function Lje(){return new Xi({props:{handleDOMEvents:{mousedown:function(r,e){var t=e,n=t.clientX,i=t.clientY,a=r.posAtCoords({left:n,top:i});if(a){var s=r.state,u=s.doc,f=s.tr,p=u.resolve(a.pos),y=vf(p),T=e.target,N=getComputedStyle(T,":before"),O=e,A=O.offsetX,z=O.offsetY;if(!y||!mk(N,A,z))return!1;e.preventDefault();var H=p.before(y.depth),j=y.node.attrs;return f.setNodeMarkup(H,null,Fe(Fe({},j),{checked:!j.checked})),r.dispatch(f),!0}return!1}}}})}var Rje=["image","link","customBlock","frontMatter"],Ije=["strong","strike","emph","code"],zE=["bulletList","orderedList","taskList"];function Pje(r,e){var t=r.type.name;return t==="listItem"?r.attrs.task?"taskList":e.type.name:t.indexOf("table")!==-1?"table":t}function Bje(r,e){e[r]={active:!0},zE.filter(function(t){return t!==r}).forEach(function(t){e[t]&&delete e[t]})}function Fje(r,e,t,n){Ije.forEach(function(i){var a=t.marks[i],s=r.marksAcross(e)||[],u=!!a.isInSet(s);u&&(n[i]={active:!0})})}function _je(r,e,t){var n=r.$from,i=r.$to,a=r.from,s=r.to,u={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}};return e.nodesBetween(a,s,function(f,p,y){var T=Pje(f,y);Yn(Rje,T)||(Yn(zE,T)?(Bje(T,u),u.indent.disabled=!1,u.outdent.disabled=!1):T==="paragraph"||T==="text"?Fje(n,i,t,u):u[T]={active:!0})}),u}function qje(r){return new Xi({view:function(){return{update:function(e){var t=e.state,n=t.selection,i=t.doc,a=t.schema;r.emit("changeToolbarState",{toolbarState:_je(n,i,a)})}}}})}var zje=(function(){function r(e,t,n,i){var a=this;this.openEditor=function(){if(a.innerEditorView)throw new Error("The editor is already opened.");a.dom.draggable=!1,a.wrapper.style.display="none",a.innerViewContainer.style.display="block",a.innerEditorView=new Mm(a.innerViewContainer,{state:vu.create({doc:a.node,plugins:[yh({"Mod-z":function(){return uh(a.innerEditorView.state,a.innerEditorView.dispatch)},"Shift-Mod-z":function(){return ok(a.innerEditorView.state,a.innerEditorView.dispatch)},Tab:function(s,u){return u(s.tr.insertText("	")),!0},Enter:nx,Escape:function(){return a.cancelEditing(),!0},"Ctrl-Enter":function(){return a.saveAndFinishEditing(),!0}}),cx()]}),dispatchTransaction:function(s){return a.dispatchInner(s)},handleDOMEvents:{mousedown:function(){return a.editorView.hasFocus()&&a.innerEditorView.focus(),!0},blur:function(){return a.saveAndFinishEditing(),!0}}}),a.innerEditorView.focus()},this.node=e,this.editorView=t,this.getPos=n,this.toDOMAdaptor=i,this.innerEditorView=null,this.canceled=!1,this.dom=document.createElement("div"),this.dom.className=Et("custom-block"),this.wrapper=document.createElement("div"),this.wrapper.className=Et("custom-block-view"),this.createInnerViewContainer(),this.renderCustomBlock(),this.dom.appendChild(this.innerViewContainer),this.dom.appendChild(this.wrapper)}return r.prototype.renderToolArea=function(){var e=this,t=document.createElement("div"),n=document.createElement("span"),i=document.createElement("button");t.className="tool",n.textContent=this.node.attrs.info,n.className="info",i.type="button",i.addEventListener("click",function(){return e.openEditor()}),t.appendChild(n),t.appendChild(i),this.wrapper.appendChild(t)},r.prototype.renderCustomBlock=function(){var e=this.toDOMAdaptor.getToDOMNode(this.node.attrs.info);if(e){for(var t=e(this.node);this.wrapper.hasChildNodes();)this.wrapper.removeChild(this.wrapper.lastChild);t&&this.wrapper.appendChild(t),this.renderToolArea()}},r.prototype.createInnerViewContainer=function(){this.innerViewContainer=document.createElement("div"),this.innerViewContainer.className=Et("custom-block-editor"),this.innerViewContainer.style.display="none"},r.prototype.closeEditor=function(){this.innerEditorView&&(this.innerEditorView.destroy(),this.innerEditorView=null,this.innerViewContainer.style.display="none"),this.wrapper.style.display="block"},r.prototype.saveAndFinishEditing=function(){var e=this.editorView.state.selection.to,t=this.editorView.state;this.editorView.dispatch(t.tr.setSelection(jr(t.tr,e))),this.editorView.focus(),this.renderCustomBlock(),this.closeEditor()},r.prototype.cancelEditing=function(){var e=Bre(this.innerEditorView.state);for(this.canceled=!0;e--;)uh(this.innerEditorView.state,this.innerEditorView.dispatch),uh(this.editorView.state,this.editorView.dispatch);this.canceled=!1;var t=this.editorView.state.selection.to,n=this.editorView.state;this.editorView.dispatch(n.tr.setSelection(ur.create(n.doc,t))),this.editorView.focus(),this.closeEditor()},r.prototype.dispatchInner=function(e){var t=this.innerEditorView.state.applyTransaction(e),n=t.state,i=t.transactions;if(this.innerEditorView.updateState(n),!this.canceled&&Ea(this.getPos)){for(var a=this.editorView.state.tr,s=Gi.offset(this.getPos()+1),u=0;u<i.length;u+=1)for(var f=i[u].steps,p=0;p<f.length;p+=1)a.step(f[p].map(s));a.docChanged&&this.editorView.dispatch(a)}},r.prototype.update=function(e){return e.sameMarkup(this.node)?(this.node=e,this.innerEditorView||this.renderCustomBlock(),!0):!1},r.prototype.stopEvent=function(e){return!!this.innerEditorView&&!!e.target&&this.innerEditorView.dom.contains(e.target)},r.prototype.ignoreMutation=function(){return!0},r.prototype.destroy=function(){this.dom.removeEventListener("dblclick",this.openEditor),this.closeEditor()},r})(),EC="image-link",Hje=(function(){function r(e,t,n,i){var a=this,s;this.handleMousedown=function(u){u.preventDefault();var f=u.target,p=u.offsetX,y=u.offsetY;if(a.imageLink&&Ea(a.getPos)&&wx(f,EC)){var T=getComputedStyle(f,":before");if(u.stopPropagation(),mk(T,p,y)){var N=a.view.state.tr,O=a.getPos();N.setSelection(jr(N,O,O+1)),a.view.dispatch(N),a.eventEmitter.emit("openPopup","link",a.imageLink.attrs)}}},this.node=e,this.view=t,this.getPos=n,this.eventEmitter=i,this.imageLink=(s=e.marks.filter(function(u){var f=u.type;return f.name==="link"})[0])!==null&&s!==void 0?s:null,this.dom=this.createElement(),this.bindEvent()}return r.prototype.createElement=function(){var e=this.createImageElement(this.node);if(this.imageLink){var t=document.createElement("span");return t.className=EC,t.appendChild(e),t}return e},r.prototype.createImageElement=function(e){var t=document.createElement("img"),n=e.attrs,i=n.imageUrl,a=n.altText,s=vn(e.attrs);return t.src=i,a&&(t.alt=a),kk(s,t),t},r.prototype.bindEvent=function(){this.imageLink&&this.dom.addEventListener("mousedown",this.handleMousedown)},r.prototype.stopEvent=function(){return!0},r.prototype.destroy=function(){this.imageLink&&this.dom.removeEventListener("mousedown",this.handleMousedown)},r})(),Vje="toastui-editor-ww-code-block",$je="toastui-editor-ww-code-block-language",Uje=(function(){function r(e,t,n,i){var a=this;this.contentDOM=null,this.input=null,this.timer=null,this.handleMousedown=function(s){var u=s.target,f=getComputedStyle(u,":after");if(f.backgroundImage!=="none"&&Ea(a.getPos)){var p=a.view.coordsAtPos(a.getPos()),y=p.top,T=p.right;a.createLanguageEditor({top:y,right:T})}},this.handleKeydown=function(s){s.key==="Enter"&&a.input&&(s.preventDefault(),a.changeLanguage())},this.node=e,this.view=t,this.getPos=n,this.eventEmitter=i,this.createElement(),this.bindDOMEvent(),this.bindEvent()}return r.prototype.createElement=function(){var e=this.node.attrs.language,t=document.createElement("div");t.setAttribute("data-language",e||"text"),t.className=Vje;var n=this.createCodeBlockElement(),i=n.firstChild;t.appendChild(n),this.dom=t,this.contentDOM=i},r.prototype.createCodeBlockElement=function(){var e=document.createElement("pre"),t=document.createElement("code"),n=this.node.attrs.language,i=vn(this.node.attrs);return n&&t.setAttribute("data-language",n),kk(i,e),e.appendChild(t),e},r.prototype.createLanguageEditor=function(e){var t=this,n=e.top,i=e.right,a=document.createElement("span");a.className=$je;var s=document.createElement("input");s.type="text",s.value=this.node.attrs.language,a.appendChild(s),this.view.dom.parentElement.appendChild(a);var u=a.clientWidth;qo(a,{top:n+10+"px",left:i-u-10+"px",width:u+"px"}),this.input=s,this.input.addEventListener("blur",function(){return t.changeLanguage()}),this.input.addEventListener("keydown",this.handleKeydown),this.clearTimer(),this.timer=setTimeout(function(){t.input.focus()})},r.prototype.bindDOMEvent=function(){this.dom&&this.dom.addEventListener("click",this.handleMousedown)},r.prototype.bindEvent=function(){var e=this;this.eventEmitter.listen("scroll",function(){e.input&&e.reset()})},r.prototype.changeLanguage=function(){if(this.input&&Ea(this.getPos)){var e=this.input.value;this.reset();var t=this.getPos(),n=this.view.state.tr;n.setNodeMarkup(t,null,{language:e}),this.view.dispatch(n)}},r.prototype.reset=function(){var e;if(!((e=this.input)===null||e===void 0)&&e.parentElement){var t=this.input.parentElement;this.input=null,Du(t)}},r.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},r.prototype.stopEvent=function(){return!0},r.prototype.update=function(e){return e.sameMarkup(this.node)?(this.node=e,!0):!1},r.prototype.destroy=function(){this.reset(),this.clearTimer(),this.dom&&this.dom.removeEventListener("click",this.handleMousedown)},r})(),Wje=/MsoListParagraph/,HE=/style=(.|\n)*mso-/,VE=/mso-list:(.*)/,jje=/O:P/,Gje=/^(n|u|l)/,Kje="p.MsoListParagraph";function Jje(r){return HE.test(r)}function Qje(r){for(var e=[],t=document.createTreeWalker(r,1,null,!1);t.nextNode();){var n=t.currentNode;if(Rm(n)){var i=n,a=i.outerHTML,s=i.textContent,u=HE.test(a),f=VE.test(a);u&&!f&&s?e.push([n,!0]):(jje.test(n.nodeName)||u&&!s||f)&&e.push([n,!1])}}return e.forEach(function(p){var y=p[0],T=p[1];T?vie(y):Du(y)}),r.innerHTML.trim()}function Xje(r,e){var t=r.getAttribute("style");if(t){var n=t.match(VE),i=n[1],a=i.trim().split(" "),s=a[1],u=parseInt(s.replace("level",""),10),f=Gje.test(r.textContent||"");return{id:e,level:u,prev:null,parent:null,children:[],unordered:f,contents:Qje(r)}}return null}function Yje(r,e){if(e.level<r.level)e.children.push(r),r.parent=e;else{for(;e&&e.level!==r.level;)e=e.parent;e&&(r.prev=e,r.parent=e.parent,r.parent&&r.parent.children.push(r))}}function Zje(r){var e=[];return r.forEach(function(t,n){var i=e[n-1],a=Xje(t,n);a&&(i&&Yje(a,i),e.push(a))}),e}function $E(r){var e=r[0].unordered?"ul":"ol",t=document.createElement(e);return r.forEach(function(n){var i=n.children,a=n.contents,s=document.createElement("li");s.innerHTML=a,t.appendChild(s),i.length&&t.appendChild($E(i))}),t}function e8e(r){var e=Zje(r),t=e.filter(function(n){var i=n.parent;return!i});return $E(t)}function t8e(r){for(;r&&!Rm(r);)r=r.nextSibling;return r?!Wje.test(r.className):!0}function r8e(r){var e=document.createElement("div");e.innerHTML=r;var t=[],n=die(e,Kje);n.forEach(function(a){var s=t8e(a.nextSibling);if(t.push(a),s){var u=e8e(t),f=a.nextSibling;f?pie(u,f):hie(e,u),t=[]}Du(a)});var i=n.length?"<p></p>":"";return""+i+e.innerHTML}var MC="<!--StartFragment-->",n8e="<!--EndFragment-->";function i8e(r){var e=r.indexOf(MC),t=r.lastIndexOf(n8e);return e>-1&&t>-1&&(r=r.slice(e+MC.length,t)),r.replace(/<br[^>]*>/g,xx)}function a8e(r){return/<\/td>((?!<\/tr>)[\s\S])*$/i.test(r)&&(r="<tr>"+r+"</tr>"),/<\/tr>((?!<\/table>)[\s\S])*$/i.test(r)&&(r="<table>"+r+"</table>"),r}function o8e(r){return r=i8e(r),r=a8e(r),Jje(r)&&(r=r8e(r)),r}function s8e(r){var e=r.reduce(function(t,n){return t.childCount>n.childCount?t:n});return e.childCount}function UE(r,e,t){for(var n=[],i=r.childCount,a=0;a<i;a+=1)if(!r.child(a).attrs.extended){var s=a<i?t.create(r.child(a).attrs,r.child(a).content):t.createAndFill();n.push(s)}return n}function WE(r,e,t){var n=t.nodes,i=n.tableRow,a=n.tableHeadCell,s=UE(r,e,a);return i.create(null,s)}function jE(r,e,t){var n=t.nodes,i=n.tableRow,a=n.tableBodyCell,s=UE(r,e,a);return i.create(null,s)}function l8e(r,e){for(var t=e.nodes,n=t.tableRow,i=t.tableBodyCell,a=[],s=0;s<r;s+=1){var u=i.createAndFill();a.push(u)}return n.create({dummyRowForPasting:!0},a)}function GE(r){var e=[],t=[];if(r.firstChild.type.name==="tableHead"){var n=r.firstChild;n.forEach(function(a){return e.push(a)})}if(r.lastChild.type.name==="tableBody"){var i=r.lastChild;i.forEach(function(a){return t.push(a)})}return Qi(Qi([],e),t)}function u8e(r,e,t){var n=WE(r,e,t);return t.nodes.tableHead.create(null,n)}function NC(r,e,t){var n=r.map(function(a){return jE(a,e,t)});if(!r.length){var i=l8e(e,t);n.push(i)}return t.nodes.tableBody.create(null,n)}function c8e(r,e,t,n){var i=s8e(r);if(t&&n)return e.nodes.table.create(null,[NC(r,i,e)]);var a=r[0],s=r.slice(1),u=[u8e(a,i,e)];return s.length&&u.push(NC(s,i,e)),e.nodes.table.create(null,u)}function f8e(r,e,t){var n=[],i=r.content,a=r.openStart,s=r.openEnd;return i.forEach(function(u){if(u.type.name==="table"){var f=_E(new ht(Xe.from(u),0,0));if(f){var p=GE(f),y=f.firstChild.type.name==="tableBody",T=c8e(p,e,y,t);n.push(T)}}else n.push(u)}),new ht(Xe.from(n),a,s)}var d8e=4,h8e=2;function Vv(r){return r*d8e}function p8e(r,e,t){var n=[],i=GE(r),a=i[0].childCount,s=i.length,u=e.startRowIdx===0,f=i.slice(0,s);if(u){var p=f.shift();if(p){var y=WE(p,a,t).content;n.push(y)}}return f.forEach(function(T){if(!T.attrs.dummyRowForPasting){var N=jE(T,a,t).content;n.push(N)}}),n}function v8e(r,e,t){for(var n=e.startRowIdx,i=e.startColIdx,a=t.length,s=0,u=function(O){var A=t[O].childCount;t[O].forEach(function(z){var H=z.attrs,j=H.colspan;j>1&&(A+=j-1)}),s=Math.max(s,A)},f=0;f<a;f+=1)u(f);var p=n+a-1,y=i+s-1,T=Math.max(p+1-r.totalRowCount,0),N=Math.max(y+1-r.totalColumnCount,0);return{startRowIdx:n,startColIdx:i,endRowIdx:p,endColIdx:y,addedRowCount:T,addedColumnCount:N}}function m8e(r,e){for(var t=r.startRowIdx,n=r.startColIdx,i=r.endRowIdx,a=r.endColIdx,s=r.addedRowCount,u=r.addedColumnCount,f=t;f<=i-s;f+=1)e.push({rowIdx:f,startColIdx:n,endColIdx:a-u})}function g8e(r,e,t,n,i){for(var a=n.startRowIdx,s=n.startColIdx,u=n.endRowIdx,f=n.endColIdx,p=n.addedRowCount,y=n.addedColumnCount,T=t.totalRowCount,N=0,O=0;O<T;O+=1){var A=t.getCellInfo(O,f-y),z=A.offset,H=A.nodeSize,j=r.mapping.map(z+H),ie=Hv(y,O,e);if(r.insert(j,ie),O>=a&&O<=u-p){var le=t.getCellInfo(O,f-y),ve=r.mapping.map(le.offset),be=j+Vv(y);i[N]={rowIdx:O,startColIdx:s,endColIdx:f,dummyOffsets:[ve,be]},N+=1}}}function y8e(r,e,t,n,i){var a=n.addedRowCount,s=n.addedColumnCount,u=n.startColIdx,f=n.endColIdx,p=r.mapping.maps.length,y=t.tableEndOffset-2,T=PE(a,t.totalColumnCount+s,e),N=y;r.insert(r.mapping.slice(p).map(N),T);for(var O=0;O<a;O+=1){var A=N+Vv(u)+1,z=N+Vv(f+1)+1,H=N+Vv(t.totalColumnCount+s)+h8e;i.push({rowIdx:O+t.totalRowCount,startColIdx:u,endColIdx:f,dummyOffsets:[A,z]}),N=H}}function k8e(r,e,t,n){var i=r.mapping.maps.length;t.forEach(function(a,s){var u=a.rowIdx,f=a.startColIdx,p=a.endColIdx,y=a.dummyOffsets,T=r.mapping.slice(i),N=new ht(e[s],0,0),O=y?y[0]:n.getCellStartOffset(u,f),A=y?y[1]:n.getCellEndOffset(u,p);r.replace(T.map(O),T.map(A),N)})}function w8e(r,e){var t=r.state,n=t.selection,i=t.schema,a=t.tr,s=Lo(n),u=s.anchor,f=s.head;if(u&&f){var p=_E(e);if(!p)return!1;var y=Gn.create(u),T=y.getRectOffsets(u,f),N=p8e(p,T,i),O=v8e(y,T,N),A=[];return C8e(y,O)&&(m8e(O,A),O.addedColumnCount&&g8e(a,i,y,O,A),O.addedRowCount&&y8e(a,i,y,O,A),k8e(a,N,A,y),r.dispatch(a),b8e(r,A,y.getCellInfo(0,0).offset)),!0}return!1}function b8e(r,e,t){var n=r.state,i=n.tr,a=n.doc,s=Gn.create(a.resolve(t)),u=e[0],f=u.rowIdx,p=u.startColIdx,y=vi(e),T=y.rowIdx,N=y.endColIdx,O=s.getCellInfo(f,p).offset,A=s.getCellInfo(T,N).offset;r.dispatch(i.setSelection(new Ik(a.resolve(O),a.resolve(A))))}function C8e(r,e){var t=r.getSpannedOffsets(e),n=Xc(t),i=n.rowCount,a=n.columnCount,s=Xc(e),u=s.rowCount,f=s.columnCount;return i===u&&a===f}var T8e=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e})(Hr),S8e=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",group:"block",attrs:Fe({},Bn()),parseDOM:[{tag:"p"}],toDOM:function(t){var n=t.attrs;return["p",vn(n),0]}}},enumerable:!1,configurable:!0}),e})(Hr),x8e=/\s{1,4}$/,E8e=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e.prototype.addSpaces=function(){return function(t,n){var i=t.selection,a=t.tr,s=i.$from,u=i.$to,f=s.blockRange(u);return f&&!pf(s)&&!gm(s)?(n(a.insertText("    ",s.pos,u.pos)),!0):!1}},e.prototype.removeSpaces=function(){return function(t,n){var i=t.selection,a=t.tr,s=i.$from,u=i.$to,f=i.from,p=s.blockRange(u);if(p&&!pf(s)&&!gm(s)){var y=s.nodeBefore;if(y&&y.isText){var T=y.text,N=T.replace(x8e,""),O=T.length-N.length;return n(a.delete(f-O,f)),!0}}return!1}},e.prototype.keymaps=function(){return{Tab:this.addSpaces(),"Shift-Tab":this.removeSpaces()}},e})(Hr),M8e=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"levels",{get:function(){return[1,2,3,4,5,6]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=this.levels.map(function(n){return{tag:"h"+n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return Fe({level:n},a&&{rawHTML:a})}}});return{attrs:Fe({level:{default:1},headingType:{default:"atx"},rawHTML:{default:null}},Bn()),content:"inline*",group:"block",defining:!0,parseDOM:t,toDOM:function(n){var i=n.attrs;return["h"+i.level,vn(i),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(n,i){var a=n.schema.nodes[t.level?"heading":"paragraph"];return ak(a,t)(n,i)}}},e})(Hr),N8e=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:Fe({language:{default:null},rawHTML:{default:null}},Bn()),code:!0,defining:!0,marks:"",parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function(t){var n=t.getAttribute("data-raw-html"),i=t.firstElementChild;return Fe({language:i?.getAttribute("data-language")||null},n&&{rawHTML:n})}}],toDOM:function(t){var n=t.attrs;return[n.rawHTML||"pre",["code",Fe({"data-language":n.language},vn(n)),0]]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return ak(t.schema.nodes.codeBlock)(t,n)}}},e.prototype.moveCursor=function(t){var n=this;return function(i,a){var s=i.tr,u=i.doc,f=i.schema,p=i.selection.$from,y=n.context.view;if(y.endOfTextblock(t)&&p.node().type.name==="codeBlock"){var T=p.parent.textContent.split(`
`),N=t==="up"?p.start():p.end(),O=t==="up"?[N,T[0].length+N]:[N-vi(T).length,N],A=u.resolve(t==="up"?p.before():p.after()),z=t==="up"?A.nodeBefore:A.nodeAfter;if(Ine(p.pos,O[0],O[1])&&!z){var H=pk(s,A,f);if(H)return a(H),!0}}return!1}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-p":t,"Shift-Mod-P":t,ArrowUp:this.moveCursor("up"),ArrowDown:this.moveCursor("down")}},e})(Hr),O8e=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"bulletList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:Fe({rawHTML:{default:null}},Bn()),parseDOM:[zm("ul")],toDOM:function(t){var n=t.attrs;return["ul",vn(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.changeList=function(){return function(t,n){return IE(t.schema.nodes.bulletList)(t,n)}},e.prototype.commands=function(){return{bulletList:this.changeList,taskList:cje}},e.prototype.keymaps=function(){var t=this.changeList(),n=Rk(),i=n.indent,a=n.outdent;return{"Mod-u":t,"Mod-U":t,Tab:i(),"Shift-Tab":a()}},e})(Hr),D8e=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"orderedList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:Fe({order:{default:1},rawHTML:{default:null}},Bn()),parseDOM:[{tag:"ol",getAttrs:function(t){var n=t.getAttribute("start"),i=t.getAttribute("data-raw-html");return Fe({order:t.hasAttribute("start")?Number(n):1},i&&{rawHTML:i})}}],toDOM:function(t){var n=t.attrs;return[n.rawHTML||"ol",Fe({start:n.order===1?null:n.order},vn(n)),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return IE(t.schema.nodes.orderedList)(t,n)}}},e.prototype.keymaps=function(){var t=this.commands()(),n=Rk(),i=n.indent,a=n.outdent;return{"Mod-o":t,"Mod-O":t,Tab:i(),"Shift-Tab":a()}},e})(Hr),A8e=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph block*",selectable:!1,attrs:{task:{default:!1},checked:{default:!1},rawHTML:{default:null}},defining:!0,parseDOM:[{tag:"li",getAttrs:function(t){var n=t.getAttribute("data-raw-html");return Fe({task:t.hasAttribute("data-task"),checked:t.hasAttribute("data-task-checked")},n&&{rawHTML:n})}}],toDOM:function(t){var n=t.attrs,i=n.task,a=n.checked;if(!i)return[n.rawHTML||"li",0];var s=["task-list-item"];return a&&s.push("checked"),[n.rawHTML||"li",Fe({class:s.join(" "),"data-task":i},a&&{"data-task-checked":a}),0]}}},enumerable:!1,configurable:!0}),e.prototype.liftToPrevListItem=function(){return function(t,n){var i=t.selection,a=t.tr,s=t.schema,u=i.$from,f=i.empty,p=s.nodes.listItem,y=u.parent,T=u.node(-1);if(f&&!y.childCount&&T.type===p){if(u.index(-2)>=1)return a.delete(u.start(-1)-1,u.end(-1)),n(a),!0;var N=u.node(-3);if(N.type===p)return a.delete(u.start(-2)-1,u.end(-1)),n(a),!0}return!1}},e.prototype.keymaps=function(){var t=function(n,i){return vje(n.schema.nodes.listItem)(n,i)};return{Backspace:this.liftToPrevListItem(),Enter:t}},e})(Hr),L8e=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:Fe({rawHTML:{default:null}},Bn()),content:"block+",group:"block",parseDOM:[zm("blockquote")],toDOM:function(t){var n=t.attrs;return["blockquote",vn(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return Cre(t.schema.nodes.blockQuote)(t,n)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Alt-q":t,"Alt-Q":t}},e})(Hr),R8e={left:H8e,right:z8e,up:V8e,down:$8e};function I8e(r,e,t){var n=t[0],i=t[1],a=e.resolve(r.before(n-1));return i===n&&!a.nodeBefore}function P8e(r){for(var e,t=r.depth,n;t&&(n=r.node(t),n.type.name!=="tableBodyCell");){if(n.type.name==="listItem"){var i=r.node(t-1),a=i.lastChild===n,s=((e=n.lastChild)===null||e===void 0?void 0:e.type.name)!=="paragraph";return a?!s:!1}t-=1}return!1}function B8e(r,e,t,n,i){var a=e[0],s=e[1],u=e[2];if(r==="left"||r==="up"){if(i&&!I8e(t,n,[a,s]))return!1;var f=t.before(u),p=n.resolve(f).nodeBefore;if(p)return!1}return!0}function F8e(r,e,t,n,i){if(r==="right"||r==="down"){if(i&&!P8e(t))return!1;var a=t.after(e),s=n.resolve(a).nodeAfter;if(s)return!1}return!0}function _8e(r,e,t,n){var i=e[0],a=e[1],s=i+3,u=a>=s,f=u?i+1:a,p=B8e(r,[a,s,f],t,n,u),y=F8e(r,f,t,n,u);return p&&y}function OC(r,e,t){var n=t[0],i=t[1],a=e.getRowspanStartInfo(n,i),s=r==="up"&&n===0,u=r==="down"&&(a?.count>1?n+a.count-1:n)===e.totalRowCount-1;return s||u}function q8e(r,e,t){var n=r.doc.resolve(e.tableStartOffset-1);return n.nodeBefore?r.setSelection(ir.near(n,-1)):pk(r,n,t)}function Gy(r,e,t,n){n===void 0&&(n=!1);var i=r.doc.resolve(e.tableEndOffset);return n||!i.nodeAfter?pk(r,i,t):r.setSelection(ir.near(i,1))}function z8e(r,e){var t=r[0],n=r[1],i=e.totalRowCount,a=e.totalColumnCount,s=n===a-1,u=t===i-1&&s;if(!u){var f=n+1,p=e.getColspanStartInfo(t,n);p?.count>1&&(f+=p.count-1),(s||f===a)&&(t+=1,f=0);var y=e.getCellInfo(t,f).offset;return y+2}return null}function H8e(r,e){var t=r[0],n=r[1],i=e.totalColumnCount,a=n===0,s=t===0&&a;if(!s){n-=1,a&&(t-=1,n=i-1);var u=e.getCellInfo(t,n),f=u.offset,p=u.nodeSize;return f+p-2}return null}function V8e(r,e){var t=r[0],n=r[1];if(t>0){var i=e.getCellInfo(t-1,n),a=i.offset,s=i.nodeSize;return a+s-2}return null}function $8e(r,e){var t=r[0],n=r[1],i=e.totalRowCount;if(t<i-1){var a=t+1,s=e.getRowspanStartInfo(t,n);s?.count>1&&(a+=s.count-1);var u=e.getCellInfo(a,n).offset;return u+2}return null}function DC(r,e,t,n){var i=R8e[r],a=i(t,n);if(a){var s=r==="right"||r==="down"?1:-1;return e.setSelection(ir.near(e.doc.resolve(a),s))}return null}function U8e(r,e,t){var n=t[0],i=t[1];if(r==="up"||r==="down")return!1;var a=e.tableStartOffset,s=e.tableEndOffset,u=e.getCellInfo(n,i),f=u.offset,p=u.nodeSize,y=r==="left"?a:s,T=r==="left"?f-2:f+p+3;return y===T}function W8e(r,e,t){var n=r.doc.resolve(e.before(t-3));return r.setSelection(new Gt(n))}function j8e(r,e,t){var n,i,a;return r==="up"?(n=t.startRowIdx,i=0,a=-1):(n=t.endRowIdx,i=e.totalColumnCount-1,a=e.getCellInfo(n,i).nodeSize+1),{targetRowIdx:n,insertColIdx:i,nodeSize:a}}function G8e(r,e,t){var n=r.getCellInfo(e,0).offset,i=r.getCellInfo(e,t-1),a=i.offset,s=i.nodeSize;return{from:n,to:a+s}}var K8e=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableHead{1} tableBody{1}",group:"block",attrs:Fe({rawHTML:{default:null}},Bn()),parseDOM:[zm("table")],toDOM:function(t){var n=t.attrs;return["table",vn(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.addTable=function(){return function(t){return t===void 0&&(t={rowCount:2,columnCount:1,data:[]}),function(n,i){var a=t.rowCount,s=t.columnCount,u=t.data,f=n.schema,p=n.selection,y=n.tr,T=p.from,N=p.to,O=p.$from,A=T===N;if(A&&!gm(O)){var z=f.nodes,H=z.tableHead,j=z.tableBody,ie=u?.slice(0,s),le=u?.slice(s,u.length),ve=bje(s,f,ie),be=PE(a-1,s,f,le),me=f.nodes.table.create(null,[H.create(null,ve),j.create(null,be)]);return i(y.replaceSelectionWith(me)),!0}return!1}}},e.prototype.removeTable=function(){return function(){return function(t,n){var i=t.selection,a=t.tr,s=Gn.create(i.$anchor);if(s){var u=s.tableStartOffset,f=s.tableEndOffset,p=u-1,y=jr(a.delete(p,f),p);return n(a.setSelection(y)),!0}return!1}}},e.prototype.addColumn=function(t){return function(){return function(n,i){var a=n.selection,s=n.tr,u=n.schema,f=Lo(a),p=f.anchor,y=f.head;if(p&&y){for(var T=Gn.create(p),N=T.getRectOffsets(p,y),O=t==="left"?N.startColIdx:N.endColIdx+1,A=Xc(N).columnCount,z=T.totalRowCount,H=0;H<z;H+=1){var j=Hv(A,H,u);s.insert(s.mapping.map(T.posAt(H,O)),j)}return i(s),!0}return!1}}},e.prototype.removeColumn=function(){return function(){return function(t,n){var i=t.selection,a=t.tr,s=Lo(i),u=s.anchor,f=s.head;if(u&&f){var p=Gn.create(u),y=p.getRectOffsets(u,f),T=p.totalColumnCount,N=p.totalRowCount,O=Xc(y).columnCount,A=O===T;if(A)return!1;for(var z=y.startColIdx,H=y.endColIdx,j=a.mapping.maps.length,ie=0;ie<N;ie+=1)for(var le=H;le>=z;le-=1){var ve=p.getCellInfo(ie,le),be=ve.offset,me=ve.nodeSize,Ee=a.mapping.slice(j).map(be),Ce=Ee+me;a.delete(Ee,Ce)}return n(a),!0}return!1}}},e.prototype.addRow=function(t){return function(){return function(n,i){var a=n.selection,s=n.schema,u=n.tr,f=Lo(a),p=f.anchor,y=f.head;if(p&&y){var T=Gn.create(p),N=T.totalColumnCount,O=T.getRectOffsets(p,y),A=Xc(O).rowCount,z=j8e(t,T,O),H=z.targetRowIdx,j=z.insertColIdx,ie=z.nodeSize,le=H===0;if(!le){for(var ve=[],be=u.mapping.map(T.posAt(H,j))+ie,me=[],Ee=0;Ee<N;Ee+=1)me=me.concat(Hv(1,H,s));for(var Ce=0;Ce<A;Ce+=1)ve.push(s.nodes.tableRow.create(null,me));return i(u.insert(be,ve)),!0}}return!1}}},e.prototype.removeRow=function(){return function(){return function(t,n){var i=t.selection,a=t.tr,s=Lo(i),u=s.anchor,f=s.head;if(u&&f){var p=Gn.create(u),y=p.totalRowCount,T=p.totalColumnCount,N=p.getRectOffsets(u,f),O=Xc(N).rowCount,A=N.startRowIdx,z=N.endRowIdx,H=A===0,j=O===y-1;if(j||H)return!1;for(var ie=z;ie>=A;ie-=1){var le=G8e(p,ie,T),ve=le.from,be=le.to;a.delete(ve-1,be+1)}return n(a),!0}return!1}}},e.prototype.alignColumn=function(){return function(t){return t===void 0&&(t={align:"center"}),function(n,i){var a=t.align,s=n.selection,u=n.tr,f=Lo(s),p=f.anchor,y=f.head;if(p&&y){for(var T=Gn.create(p),N=T.totalRowCount,O=T.getRectOffsets(p,y),A=O.startColIdx,z=O.endColIdx,H=0;H<N;H+=1)for(var j=A;j<=z;j+=1)if(!T.extendedRowspan(H,j)&&!T.extendedColspan(H,j)){var ie=T.getNodeAndPos(H,j),le=ie.node,ve=ie.pos,be=Cje(le,{align:a});u.setNodeMarkup(ve,null,be)}return i(u),!0}return!1}}},e.prototype.moveToCell=function(t){return function(n,i){var a=n.selection,s=n.tr,u=n.schema,f=Lo(a),p=f.anchor,y=f.head;if(p&&y){var T=Gn.create(p),N=T.getCellIndex(p),O=void 0;if(OC(t,T,N)?O=Gy(s,T,u):O=DC(t,s,N,T),O)return i(O),!0}return!1}},e.prototype.moveInCell=function(t){var n=this;return function(i,a){var s=i.selection,u=i.tr,f=i.doc,p=i.schema,y=s.$from,T=n.context.view;if(!T.endOfTextblock(t))return!1;var N=Ns(y,function(le){var ve=le.type;return ve.name==="tableHeadCell"||ve.name==="tableBodyCell"});if(N){var O=Ns(y,function(le){var ve=le.type;return ve.name==="paragraph"}),A=N.depth;if(O&&_8e(t,[A,O.depth],y,f)){var z=Lo(s).anchor,H=Gn.create(z),j=H.getCellIndex(z),ie=void 0;if(U8e(t,H,j)?ie=W8e(u,y,A):OC(t,H,j)?t==="up"?ie=q8e(u,H,p):t==="down"&&(ie=Gy(u,H,p)):ie=DC(t,u,j,H),ie)return a(ie),!0}}return!1}},e.prototype.deleteCells=function(){return function(t,n){var i=t.schema,a=t.selection,s=t.tr,u=Lo(a),f=u.anchor,p=u.head,y=a instanceof ur;if(f&&p&&!y){for(var T=Gn.create(f),N=T.getRectOffsets(f,p),O=N.startRowIdx,A=N.startColIdx,z=N.endRowIdx,H=N.endColIdx,j=O;j<=z;j+=1)for(var ie=A;ie<=H;ie+=1)if(!T.extendedRowspan(j,ie)&&!T.extendedColspan(j,ie)){var le=T.getNodeAndPos(j,ie),ve=le.node,be=le.pos,me=Hv(1,j,i,ve.attrs);s.replaceWith(s.mapping.map(be),s.mapping.map(be+ve.nodeSize),me)}return n(s),!0}return!1}},e.prototype.exitTable=function(){return function(t,n){var i=t.selection,a=t.tr,s=t.schema,u=i.$from,f=Ns(u,function(N){var O=N.type;return O.name==="tableHeadCell"||O.name==="tableBodyCell"});if(f){var p=Ns(u,function(N){var O=N.type;return O.name==="paragraph"});if(p){var y=Lo(i).anchor,T=Gn.create(y);return n(Gy(a,T,s,!0)),!0}}return!1}},e.prototype.commands=function(){return{addTable:this.addTable(),removeTable:this.removeTable(),addColumnToLeft:this.addColumn("left"),addColumnToRight:this.addColumn("right"),removeColumn:this.removeColumn(),addRowToUp:this.addRow("up"),addRowToDown:this.addRow("down"),removeRow:this.removeRow(),alignColumn:this.alignColumn()}},e.prototype.keymaps=function(){var t=this.deleteCells();return{Tab:this.moveToCell("right"),"Shift-Tab":this.moveToCell("left"),ArrowUp:this.moveInCell("up"),ArrowDown:this.moveInCell("down"),ArrowLeft:this.moveInCell("left"),ArrowRight:this.moveInCell("right"),Backspace:t,"Mod-Backspace":t,Delete:t,"Mod-Delete":t,"Mod-Enter":this.exitTable()}},e})(Hr),J8e=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableHead"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow{1}",attrs:Fe({rawHTML:{default:null}},Bn()),parseDOM:[zm("thead")],toDOM:function(t){var n=t.attrs;return["thead",vn(n),0]}}},enumerable:!1,configurable:!0}),e})(Hr),Q8e=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableBody"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow+",attrs:Fe({rawHTML:{default:null}},Bn()),parseDOM:[{tag:"tbody",getAttrs:function(t){var n=t.querySelectorAll("tr"),i=n[0].children.length,a=t.getAttribute("data-raw-html");return i?Fe({},a&&{rawHTML:a}):!1}}],toDOM:function(t){var n=t.attrs;return["tbody",vn(n),0]}}},enumerable:!1,configurable:!0}),e})(Hr),X8e=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableRow"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(tableHeadCell | tableBodyCell)*",attrs:Fe({rawHTML:{default:null}},Bn()),parseDOM:[{tag:"tr",getAttrs:function(t){var n=t.children.length,i=t.getAttribute("data-raw-html");return n?Fe({},i&&{rawHTML:i}):!1}}],toDOM:function(t){var n=t.attrs;return["tr",vn(n),0]}}},enumerable:!1,configurable:!0}),e})(Hr),Y8e=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableHeadCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph+",attrs:Fe({align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},extended:{default:null}},Bn()),isolating:!0,parseDOM:[AE("th")],toDOM:function(t){var n=t.attrs,i=DE(n);return["th",Fe(Fe({},i),vn(n)),0]}}},enumerable:!1,configurable:!0}),e})(Hr),Z8e=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableBodyCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(paragraph | bulletList | orderedList)+",attrs:{align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},rowspan:{default:null},extended:{default:null}},isolating:!0,parseDOM:[AE("td")],toDOM:function(t){var n=t.attrs,i=DE(n);return["td",i,0]}}},enumerable:!1,configurable:!0}),e})(Hr),e5e=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"image"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{inline:!0,attrs:Fe({imageUrl:{default:""},altText:{default:null},rawHTML:{default:null}},Bn()),group:"inline",selectable:!1,parseDOM:[{tag:"img[src]",getAttrs:function(t){var n=Ru(t,{RETURN_DOM_FRAGMENT:!0}).firstChild,i=n.getAttribute("src")||"",a=n.getAttribute("data-raw-html"),s=n.getAttribute("alt");return Fe({imageUrl:i,altText:s},a&&{rawHTML:a})}}],toDOM:function(t){var n=t.attrs;return[n.rawHTML||"img",Fe(Fe({src:Qc(n.imageUrl)},n.altText&&{alt:n.altText}),vn(n))]}}},enumerable:!1,configurable:!0}),e.prototype.addImage=function(){return function(t){return function(n,i){var a=n.schema,s=n.tr,u=t,f=u.imageUrl,p=u.altText;if(!f)return!1;var y=a.nodes.image.createAndFill(Fe({imageUrl:f},p&&{altText:p}));return i(s.replaceSelectionWith(y).scrollIntoView()),!0}}},e.prototype.commands=function(){return{addImage:this.addImage()}},e})(Hr),AC=1,t5e=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:Fe({rawHTML:{default:null}},Bn()),group:"block",parseDOM:[{tag:"hr"}],selectable:!1,toDOM:function(t){var n=t.attrs;return["div",vn(n),[n.rawHTML||"hr"]]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){var t=this;return function(){return function(n,i){var a,s=n.selection,u=s.$from,f=s.$to;if(u===f){var p=n.doc,y=n.schema.nodes,T=y.thematicBreak,N=y.paragraph,O=[T.create()],A=u.node(AC),z=p.child(p.childCount-1)===A,H=p.resolve(u.after(AC)),j=((a=u.nodeAfter)===null||a===void 0?void 0:a.type.name)===t.name;return(z||j)&&O.push(N.create()),i(n.tr.insert(H.pos,O).scrollIntoView()),!0}return!1}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var t=this.hr()();return{"Mod-l":t,"Mod-L":t}},e})(Hr),r5e=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["b","strong"].map(function(n){return{tag:n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return Fe({},a&&{rawHTML:a})}}});return{attrs:Fe({rawHTML:{default:null}},Bn()),parseDOM:t,toDOM:function(n){var i=n.attrs;return[i.rawHTML||"strong",vn(i)]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return function(){return function(t,n){return xh(t.schema.marks.strong)(t,n)}}},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var t=this.bold()();return{"Mod-b":t,"Mod-B":t}},e})(Gr),n5e=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["i","em"].map(function(n){return{tag:n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return Fe({},a&&{rawHTML:a})}}});return{attrs:Fe({rawHTML:{default:null}},Bn()),parseDOM:t,toDOM:function(n){var i=n.attrs;return[i.rawHTML||"em",vn(i)]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return function(){return function(t,n){return xh(t.schema.marks.emph)(t,n)}}},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var t=this.italic()();return{"Mod-i":t,"Mod-I":t}},e})(Gr),i5e=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["s","del"].map(function(n){return{tag:n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return Fe({},a&&{rawHTML:a})}}});return{attrs:Fe({rawHTML:{default:null}},Bn()),parseDOM:t,toDOM:function(n){var i=n.attrs;return[i.rawHTML||"del",vn(i)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return xh(t.schema.marks.strike)(t,n)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Mod-s":t,"Mod-S":t}},e})(Gr),a5e=(function(r){wt(e,r);function e(t){var n=r.call(this)||this;return n.linkAttributes=t,n}return Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=this;return{attrs:Fe({linkUrl:{default:""},title:{default:null},rawHTML:{default:null}},Bn()),inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(n){var i=Ru(n,{RETURN_DOM_FRAGMENT:!0}).firstChild,a=i.getAttribute("href")||"",s=i.getAttribute("title")||"",u=i.getAttribute("data-raw-html");return Fe({linkUrl:a,title:s},u&&{rawHTML:u})}}],toDOM:function(n){var i=n.attrs;return[i.rawHTML||"a",Fe(Fe({href:Qc(i.linkUrl)},t.linkAttributes),vn(i))]}}},enumerable:!1,configurable:!0}),e.prototype.addLink=function(){return function(t){return function(n,i){var a=t,s=a.linkUrl,u=a.linkText,f=u===void 0?"":u,p=n.schema,y=n.tr,T=n.selection,N=T.empty,O=T.from,A=T.to;if(O&&A&&s){var z={linkUrl:s},H=p.mark("link",z);if(N&&f){var j=Xn(p,f,H);y.replaceRangeWith(O,A,j)}else y.addMark(O,A,H);return i(y.scrollIntoView()),!0}return!1}}},e.prototype.toggleLink=function(){return function(t){return function(n,i){return xh(n.schema.marks.link,t)(n,i)}}},e.prototype.commands=function(){return{addLink:this.addLink(),toggleLink:this.toggleLink()}},e})(Gr),o5e=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:Fe({rawHTML:{default:null}},Bn()),parseDOM:[{tag:"code",getAttrs:function(t){var n=t.getAttribute("data-raw-html");return Fe({},n&&{rawHTML:n})}}],toDOM:function(t){var n=t.attrs;return[n.rawHTML||"code",vn(n)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return xh(t.schema.marks.code)(t,n)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-c":t,"Shift-Mod-C":t}},e})(Gr),s5e=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:{info:{default:null}},atom:!0,code:!0,defining:!0,parseDOM:[{tag:"div[data-custom-info]",getAttrs:function(t){var n=t.getAttribute("data-custom-info");return{info:n}}}],toDOM:function(t){var n=t.attrs;return["div",{"data-custom-info":n.info||null},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(n,i){return t?.info?ak(n.schema.nodes.customBlock,t)(n,i):!1}}},e})(Hr),l5e=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"frontMatter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-front-matter]"}],toDOM:function(){return["div",{"data-front-matter":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n,i){var a=t.selection.$from;return i.endOfTextblock("down")&&a.node().type.name==="frontMatter"?ik(t,n):!1}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e})(Hr),u5e=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"htmlComment"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-html-comment]"}],toDOM:function(){return["div",{"data-html-comment":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n,i){var a=t.selection.$from;return i.endOfTextblock("down")&&a.node().type.name==="htmlComment"?ik(t,n):!1}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e})(Hr);function c5e(r){return new Ix([new T8e,new S8e,new E8e,new M8e,new N8e,new O8e,new D8e,new A8e,new L8e,new K8e,new J8e,new Q8e,new X8e,new Y8e,new Z8e,new e5e,new t5e,new r5e,new n5e,new i5e,new a5e(r),new o5e,new s5e,new l5e,new Lx,new u5e])}var f5e=Et("contents"),d5e=(function(r){wt(e,r);function e(t,n){var i=r.call(this,t)||this,a=n.toDOMAdaptor,s=n.htmlSchemaMap,u=s===void 0?{}:s,f=n.linkAttributes,p=f===void 0?{}:f,y=n.useCommandShortcut,T=y===void 0?!0:y,N=n.wwPlugins,O=N===void 0?[]:N,A=n.wwNodeViews,z=A===void 0?{}:A;return i.editorType="wysiwyg",i.el.classList.add("ww-mode"),i.toDOMAdaptor=a,i.linkAttributes=p,i.extraPlugins=O,i.pluginNodeViews=z,i.specs=i.createSpecs(),i.schema=i.createSchema(u),i.context=i.createContext(),i.keymaps=i.createKeymaps(T),i.view=i.createView(),i.commands=i.createCommands(),i.specs.setContext(Fe(Fe({},i.context),{view:i.view})),i.initEvent(),i}return e.prototype.createSpecs=function(){return c5e(this.linkAttributes)},e.prototype.createContext=function(){return{schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSchema=function(t){return new nS({nodes:Fe(Fe({},this.specs.nodes),t.nodes),marks:Fe(Fe({},this.specs.marks),t.marks)})},e.prototype.createPlugins=function(){return Qi([Mje(),Aje(this.eventEmitter),Lje(),qje(this.eventEmitter)],this.createPluginProps()).concat(this.defaultPlugins)},e.prototype.createPluginNodeViews=function(){var t=this,n=t.eventEmitter,i=t.pluginNodeViews,a={};return i&&Object.keys(i).forEach(function(s){a[s]=function(u,f,p){return i[s](u,f,p,n)}}),a},e.prototype.createView=function(){var t=this,n=this,i=n.toDOMAdaptor,a=n.eventEmitter;return new Mm(this.el,{state:this.createState(),attributes:{class:f5e},nodeViews:Fe({customBlock:function(s,u,f){return new zje(s,u,f,i)},image:function(s,u,f){return new Hje(s,u,f,a)},codeBlock:function(s,u,f){return new Uje(s,u,f,a)},widget:Ax},this.createPluginNodeViews()),dispatchTransaction:function(s){var u=t.view.state.applyTransaction(s).state;t.view.updateState(u),t.emitChangeEvent(s.scrollIntoView()),t.eventEmitter.emit("setFocusedNode",u.selection.$from.node(1))},transformPastedHTML:o8e,transformPasted:function(s){return f8e(s,t.schema,gm(t.view.state.selection.$from))},handlePaste:function(s,u,f){return w8e(s,f)},handleKeyDown:function(s,u){return t.eventEmitter.emit("keydown",t.editorType,u),!1},handleDOMEvents:{paste:function(s,u){var f=u.clipboardData||window.clipboardData,p=f?.items;if(p){var y=zo(p).some(function(N){return N.kind==="string"&&N.type==="text/rtf"});if(!y){var T=Dx(p);T&&(u.preventDefault(),bk(t.eventEmitter,T,u.type))}}return!1},keyup:function(s,u){return t.eventEmitter.emit("keyup",t.editorType,u),!1},scroll:function(){return t.eventEmitter.emit("scroll","editor"),!0}}})},e.prototype.createCommands=function(){return this.specs.commands(this.view,Rk())},e.prototype.getHTML=function(){return wk(this.view.dom.innerHTML)},e.prototype.getModel=function(){return this.view.state.doc},e.prototype.getSelection=function(){var t=this.view.state.selection,n=t.from,i=t.to;return[n,i]},e.prototype.getSchema=function(){return this.view.state.schema},e.prototype.replaceSelection=function(t,n,i){var a=this.view.state,s=a.schema,u=a.tr,f=t.split(`
`),p=f.map(function(N){return sm(s,Cu(N,s))}),y=new ht(Xe.from(p),1,1),T=Es(n)&&Es(i)?u.replaceRange(n,i,y):u.replaceSelection(y);this.view.dispatch(T),this.focus()},e.prototype.deleteSelection=function(t,n){var i=this.view.state.tr,a=Es(t)&&Es(n)?i.deleteRange(t,n):i.deleteSelection();this.view.dispatch(a.scrollIntoView())},e.prototype.getSelectedText=function(t,n){var i=this.view.state,a=i.doc,s=i.selection,u=s.from,f=s.to;return Es(t)&&Es(n)&&(u=t,f=n),a.textBetween(u,f,`
`)},e.prototype.setModel=function(t,n){n===void 0&&(n=!1);var i=this.view.state,a=i.tr,s=i.doc;this.view.dispatch(a.replaceWith(0,s.content.size,t)),n&&this.moveCursorToEnd(!0)},e.prototype.setSelection=function(t,n){n===void 0&&(n=t);var i=this.view.state.tr,a=jr(i,t,n);this.view.dispatch(i.setSelection(a).scrollIntoView())},e.prototype.addWidget=function(t,n,i){var a=this.view,s=a.dispatch,u=a.state;s(u.tr.setMeta("widget",{pos:i??u.selection.to,node:t,style:n}))},e.prototype.replaceWithWidget=function(t,n,i){var a=this.view.state,s=a.tr,u=a.schema,f=Cu(i,u);this.view.dispatch(s.replaceWith(t,n,f))},e.prototype.getRangeInfoOfNode=function(t){var n=this.view.state,i=n.doc,a=n.selection,s=t?i.resolve(t):a.$from,u=s.marks(),f=s.node(),p=s.start(),y=s.end(),T=f.type.name;if(u.length||T==="paragraph"){var N=u[u.length-1],O=function(A){return A.length?Yn(A,N):!0};T=N?N.type.name:"text",f.forEach(function(A,z){var H=A.isText,j=A.nodeSize,ie=A.marks,le=s.pos-p;H&&z<=le&&z+j>=le&&O(ie)&&(p=p+z,y=p+j)})}return{range:[p,y],type:T}},e})(Rx),h5e=eo,p5e=nm;function v5e(r){return!h5e(r)&&!p5e(r)}var m5e=v5e,g5e=m5e;function y5e(r){return g5e(r)&&r!==!1}var k5e=y5e,w5e=k5e;function b5e(r){return!w5e(r)}var C5e=b5e,LC=["afterPreviewRender","updatePreview","changeMode","needChangeMode","command","changePreviewStyle","changePreviewTabPreview","changePreviewTabWrite","scroll","contextmenu","show","hide","changeLanguage","changeToolbarState","toggleScrollSync","mixinTableOffsetMapPrototype","setFocusedNode","removePopupWidget","query","openPopup","closePopup","addImageBlobHook","beforePreviewRender","beforeConvertWysiwygToMarkdown","load","loadUI","change","caretChange","destroy","focus","blur","keydown","keyup"],KE=(function(){function r(){var e=this;this.events=new qE,this.eventTypes=LC.reduce(function(t,n){return Fe(Fe({},t),{type:n})},{}),this.hold=!1,LC.forEach(function(t){e.addEventType(t)})}return r.prototype.listen=function(e,t){var n=this.getTypeInfo(e),i=this.events.get(n.type)||[];if(!this.hasEventType(n.type))throw new Error("There is no event type "+n.type);n.namespace&&(t.namespace=n.namespace),i.push(t),this.events.set(n.type,i)},r.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this.getTypeInfo(e),a=this.events.get(i.type),s=[];return!this.hold&&a&&a.forEach(function(u){var f=u.apply(void 0,t);eo(f)||s.push(f)}),s},r.prototype.emitReduce=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var a=this.events.get(e);return!this.hold&&a&&a.forEach(function(s){var u=s.apply(void 0,Qi([t],n));C5e(u)||(t=u)}),t},r.prototype.getTypeInfo=function(e){var t=e.split(".");return{type:t[0],namespace:t[1]}},r.prototype.hasEventType=function(e){return!eo(this.eventTypes[this.getTypeInfo(e).type])},r.prototype.addEventType=function(e){if(this.hasEventType(e))throw new Error("There is already have event type "+e);this.eventTypes[e]=e},r.prototype.removeEventHandler=function(e,t){var n=this,i=this.getTypeInfo(e),a=i.type,s=i.namespace;a&&t?this.removeEventHandlerWithHandler(a,t):a&&!s?this.events.delete(a):!a&&s?this.events.forEach(function(u,f){n.removeEventHandlerWithTypeInfo(f,s)}):a&&s&&this.removeEventHandlerWithTypeInfo(a,s)},r.prototype.removeEventHandlerWithHandler=function(e,t){var n=this.events.get(e);if(n){var i=n.indexOf(t);n.indexOf(t)>=0&&n.splice(i,1)}},r.prototype.removeEventHandlerWithTypeInfo=function(e,t){var n=[],i=this.events.get(e);i&&(i.map(function(a){return a.namespace!==t&&n.push(a),null}),this.events.set(e,n))},r.prototype.getEvents=function(){return this.events},r.prototype.holdEventInvoke=function(e){this.hold=!0,e(),this.hold=!1},r})(),T5e=(function(){function r(e,t,n,i){this.eventEmitter=e,this.mdCommands=t,this.wwCommands=n,this.getEditorType=i,this.initEvent()}return r.prototype.initEvent=function(){var e=this;this.eventEmitter.listen("command",function(t,n){e.exec(t,n)})},r.prototype.addCommand=function(e,t,n){e==="markdown"?this.mdCommands[t]=n:this.wwCommands[t]=n},r.prototype.deleteCommand=function(e,t){e==="markdown"?delete this.mdCommands[t]:delete this.wwCommands[t]},r.prototype.exec=function(e,t){var n=this.getEditorType();n==="markdown"?this.mdCommands[e](t):this.wwCommands[e](t)},r})();function $v(r){return r[r.length-1]===`
`?r.slice(0,r.length-1):r}function P0(r,e){var t=r.schema,n=e.literal,i=n.match(cf);if(i){var a=i[1],s=i[3],u=(a||s).toLowerCase();return e.type==="htmlInline"&&!!(t.marks[u]||t.nodes[u])}return!1}function B0(r){var e=r.type;return Yn(["text","strong","emph","strike","image","link","code"],e)}function RC(r){return r?.type==="softbreak"}function Qd(r){var e=r.type,t=r.literal,n=e==="htmlInline"&&t.match(cf);if(n){var i=n[1],a=n[3],s=i||a;if(s)return Yn(["ul","ol","li"],s.toLowerCase())}return!1}function S5e(r){var e=r.literal,t=/data-task/.test(e),n=/data-task-checked/.test(e);return{task:t,checked:n}}function IC(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var n=document.createElement("div");n.innerHTML=Ru(r);var i=n.firstChild;return e.map(function(a){return i.getAttribute(a)||""})}function x5e(r){var e={};return Object.keys(r).forEach(function(t){var n=t.split(", ");n.forEach(function(i){var a=i.toLowerCase();e[a]=r[t]})}),e}var E5e={"b, strong":function(r,e,t){var n=r.schema.marks.strong;t?r.openMark(n.create({rawHTML:t})):r.closeMark(n)},"i, em":function(r,e,t){var n=r.schema.marks.emph;t?r.openMark(n.create({rawHTML:t})):r.closeMark(n)},"s, del":function(r,e,t){var n=r.schema.marks.strike;t?r.openMark(n.create({rawHTML:t})):r.closeMark(n)},code:function(r,e,t){var n=r.schema.marks.code;t?r.openMark(n.create({rawHTML:t})):r.closeMark(n)},a:function(r,e,t){var n=e.literal,i=r.schema.marks.link;if(t){var a=IC(n,"href")[0];r.openMark(i.create({linkUrl:a,rawHTML:t}))}else r.closeMark(i)},img:function(r,e,t){var n=e.literal;if(t){var i=IC(n,"src","alt"),a=i[0],s=i[1],u=r.schema.nodes.image;r.addNode(u,Fe({rawHTML:t,imageUrl:a},s&&{altText:s}))}},hr:function(r,e,t){r.addNode(r.schema.nodes.thematicBreak,{rawHTML:t})},br:function(r,e){var t=r.schema.nodes.paragraph,n=e.parent,i=e.prev,a=e.next;n?.type==="paragraph"?(RC(i)&&r.openNode(t),RC(a)?r.closeNode():a&&(r.closeNode(),r.openNode(t))):n?.type==="tableCell"&&(i&&(B0(i)||P0(r,i))&&r.closeNode(),a&&(B0(a)||P0(r,a))&&r.openNode(t))},pre:function(r,e,t){var n,i,a=document.createElement("div");a.innerHTML=e.literal;var s=(i=(n=a.firstChild)===null||n===void 0?void 0:n.firstChild)===null||i===void 0?void 0:i.textContent;r.openNode(r.schema.nodes.codeBlock,{rawHTML:t}),r.addText($v(s)),r.closeNode()},"ul, ol":function(r,e,t){if(e.parent.type==="tableCell"){var n=r.schema.nodes,i=n.bulletList,a=n.orderedList,s=n.paragraph,u=t==="ul"?i:a;t?(e.prev&&!Qd(e.prev)&&r.closeNode(),r.openNode(u,{rawHTML:t})):(r.closeNode(),e.next&&!Qd(e.next)&&r.openNode(s))}},li:function(r,e,t){var n;if(((n=e.parent)===null||n===void 0?void 0:n.type)==="tableCell"){var i=r.schema.nodes,a=i.listItem,s=i.paragraph;if(t){var u=S5e(e);e.prev&&!Qd(e.prev)&&r.closeNode(),r.openNode(a,Fe({rawHTML:t},u)),e.next&&!Qd(e.next)&&r.openNode(s)}else e.prev&&!Qd(e.prev)&&r.closeNode(),r.closeNode()}}},M5e=x5e(E5e);function PC(r){return r.type==="htmlInline"&&m0.test(r.literal)}function JE(r){zo(r.childNodes).forEach(function(e){if(Rm(e)){var t=e.nodeName.toLowerCase();e.setAttribute("data-raw-html",t),e.childNodes&&JE(e)}})}var BC={text:function(r,e){r.addText(e.literal||"")},paragraph:function(r,e,t,n){var i,a=t.entering;if(a){var s=r.schema.nodes.paragraph;((i=e.prev)===null||i===void 0?void 0:i.type)==="paragraph"&&(r.openNode(s,n),r.closeNode()),r.openNode(s,n)}else r.closeNode()},heading:function(r,e,t,n){var i=t.entering;if(i){var a=e,s=a.level,u=a.headingType;r.openNode(r.schema.nodes.heading,Fe({level:s,headingType:u},n))}else r.closeNode()},codeBlock:function(r,e,t){var n=r.schema.nodes.codeBlock,i=e,a=i.info,s=i.literal;r.openNode(n,Fe({language:a},t)),r.addText($v(s||"")),r.closeNode()},list:function(r,e,t,n){var i=t.entering;if(i){var a=r.schema.nodes,s=a.bulletList,u=a.orderedList,f=e.listData,p=f.type,y=f.start;p==="bullet"?r.openNode(s,n):r.openNode(u,Fe({order:y},n))}else r.closeNode()},item:function(r,e,t,n){var i=t.entering,a=r.schema.nodes.listItem,s=e.listData,u=s.task,f=s.checked;if(i){var p=Fe(Fe(Fe({},u&&{task:u}),f&&{checked:f}),n);r.openNode(a,p)}else r.closeNode()},blockQuote:function(r,e,t,n){var i=t.entering;i?r.openNode(r.schema.nodes.blockQuote,n):r.closeNode()},image:function(r,e,t,n){var i=t.entering,a=t.skipChildren,s=r.schema.nodes.image,u=e,f=u.destination,p=u.firstChild;i&&a&&a(),r.addNode(s,Fe(Fe({imageUrl:f},p&&{altText:p.literal}),n))},thematicBreak:function(r,e,t,n){r.addNode(r.schema.nodes.thematicBreak,n)},strong:function(r,e,t,n){var i=t.entering,a=r.schema.marks.strong;i?r.openMark(a.create(n)):r.closeMark(a)},emph:function(r,e,t,n){var i=t.entering,a=r.schema.marks.emph;i?r.openMark(a.create(n)):r.closeMark(a)},link:function(r,e,t,n){var i=t.entering,a=r.schema.marks.link,s=e,u=s.destination,f=s.title;if(i){var p=Fe({linkUrl:u,title:f},n);r.openMark(a.create(p))}else r.closeMark(a)},softbreak:function(r,e){if(e.parent.type==="paragraph"){var t=e.prev,n=e.next;t&&!PC(t)&&r.closeNode(),n&&!PC(n)&&r.openNode(r.schema.nodes.paragraph)}},table:function(r,e,t,n){var i=t.entering;i?r.openNode(r.schema.nodes.table,n):r.closeNode()},tableHead:function(r,e,t,n){var i=t.entering;i?r.openNode(r.schema.nodes.tableHead,n):r.closeNode()},tableBody:function(r,e,t,n){var i=t.entering;i?r.openNode(r.schema.nodes.tableBody,n):r.closeNode()},tableRow:function(r,e,t,n){var i=t.entering;i?r.openNode(r.schema.nodes.tableRow,n):r.closeNode()},tableCell:function(r,e,t){var n=t.entering;if(!e.ignored){var i=function(A){return A&&(B0(A)||P0(r,A))};if(n){var a=r.schema.nodes,s=a.tableHeadCell,u=a.tableBodyCell,f=a.paragraph,p=e.parent.parent,y=p.type==="tableHead"?s:u,T=p.parent,N=(T.columns[e.startIdx]||{}).align,O=Fe({},e.attrs);N&&(O.align=N),r.openNode(y,O),i(e.firstChild)&&r.openNode(f)}else i(e.lastChild)&&r.closeNode(),r.closeNode()}},strike:function(r,e,t,n){var i=t.entering,a=r.schema.marks.strike;i?r.openMark(a.create(n)):r.closeMark(a)},code:function(r,e,t,n){var i=r.schema.marks.code;r.openMark(i.create(n)),r.addText($v(e.literal||"")),r.closeMark(i)},customBlock:function(r,e){var t=r.schema.nodes,n=t.customBlock,i=t.paragraph,a=e,s=a.info,u=a.literal;r.openNode(n,{info:s}),r.addText($v(u||"")),r.closeNode(),e.next||(r.openNode(i),r.closeNode())},frontMatter:function(r,e){r.openNode(r.schema.nodes.frontMatter),r.addText(e.literal),r.closeNode()},htmlInline:function(r,e){var t=e.literal,n=t.match(cf),i=n[1],a=n[3],s=(i||a).toLowerCase(),u=r.schema.marks[s],f=Ru(t);if(u?.spec.attrs.htmlInline)if(i){var p=A0(f);r.openMark(u.create({htmlAttrs:p}))}else r.closeMark(u);else{var y=M5e[s];y&&y(r,e,i)}},htmlBlock:function(r,e){var t=e.literal,n=document.createElement("div"),i=cie.test(t);if(i)r.openNode(r.schema.nodes.htmlComment),r.addText(e.literal),r.closeNode();else{var a=t.match(cf),s=a[1],u=a[3],f=(s||u).toLowerCase(),p=r.schema.nodes[f],y=Ru(t);if(p?.spec.attrs.htmlBlock){var T=A0(y),N=ME(e,f);r.addNode(p,{htmlAttrs:T,childrenHTML:N})}else n.innerHTML=y,JE(n),r.convertByDOMParser(n)}},customInline:function(r,e,t){var n=t.entering,i=t.skipChildren,a=e,s=a.info,u=a.firstChild,f=r.schema;if(s.indexOf("widget")!==-1&&n){var p=yx(e);i(),r.addNode(f.nodes.widget,{info:s},[f.text(mx(s,p))])}else{var y="$$";n&&(y+=u?s+" ":s),r.addText(y)}}};function N5e(r){var e=Object.keys(r),t=Fe({},BC),n=new Ak({gfm:!0,nodeId:!0,convertors:r}),i=n.getConvertors();return e.forEach(function(a){var s=BC[a];s&&!Yn(["htmlBlock","htmlInline"],a)&&(t[a]=function(u,f,p){p.origin=function(){return i[a](f,p,i)};var y=r[a](f,p),T;if(y){var N=Array.isArray(y)?y[0]:y,O=N.attributes,A=N.classNames;T={htmlAttrs:O,classNames:A}}s(u,f,p,T)})}),t}function O5e(r,e){return r.isText&&e.isText&&kr.sameSet(r.marks,e.marks)?r.withText(r.text+e.text):!1}var D5e=(function(){function r(e,t){this.schema=e,this.convertors=t,this.stack=[{type:this.schema.topNodeType,attrs:null,content:[]}],this.marks=kr.none}return r.prototype.top=function(){return vi(this.stack)},r.prototype.push=function(e){this.stack.length&&this.top().content.push(e)},r.prototype.addText=function(e){if(e){var t=this.top().content,n=vi(t),i=this.schema.text(e,this.marks),a=n&&O5e(n,i);a?t[t.length-1]=a:t.push(i)}},r.prototype.openMark=function(e){this.marks=e.addToSet(this.marks)},r.prototype.closeMark=function(e){this.marks=e.removeFromSet(this.marks)},r.prototype.addNode=function(e,t,n){var i=e.createAndFill(t,n,this.marks);return i?(this.push(i),i):null},r.prototype.openNode=function(e,t){this.stack.push({type:e,attrs:t,content:[]})},r.prototype.closeNode=function(){this.marks.length&&(this.marks=kr.none);var e=this.stack.pop(),t=e.type,n=e.attrs,i=e.content;return this.addNode(t,n,i)},r.prototype.convertByDOMParser=function(e){var t=this,n=Su.fromSchema(this.schema).parse(e);n.content.forEach(function(i){return t.push(i)})},r.prototype.closeUnmatchedHTMLInline=function(e,t){var n;if(!t&&e.type!=="htmlInline")for(var i=this.stack.length-1,a=i;a>=0;a-=1){var s=this.stack[a];if(!((n=s.attrs)===null||n===void 0)&&n.rawHTML)s.content.length?this.closeNode():this.stack.pop();else break}},r.prototype.convert=function(e,t){for(var n=e.walker(),i=n.next(),a=function(){var u=i.node,f=i.entering,p=s.convertors[u.type],y=!1;if(p){var T={entering:f,leaf:!Une(u),getChildrenText:Wne,options:{gfm:!0,nodeId:!1,tagFilter:!1,softbreak:`
`},skipChildren:function(){y=!0}};if(s.closeUnmatchedHTMLInline(u,f),p(s,u,T),t?.node===u){var N=s.stack.reduce(function(O,A){return O+A.content.reduce(function(z,H){return z+H.nodeSize},0)},0)+1;t.setMappedPos(N)}}y&&(n.resumeAt(u,!1),n.next()),i=n.next()},s=this;i;)a()},r.prototype.convertNode=function(e,t){return this.convert(e,t),this.stack.length?this.closeNode():null},r})();function A5e(r,e,t){var n=t[0],i=t[1];r.write(n),r.convertInline(e),r.write(i)}function L5e(r,e,t){var n=e.node,i=e.parent,a=t[0],s=t[1];r.stopNewline=!0,r.write(a),r.convertNode(n),r.write(s),i?.type.name==="doc"&&(r.closeBlock(n),r.stopNewline=!1)}function R5e(r,e){var t=r.length,n="",i="";return e==="left"?(n=":",t-=1):e==="right"?(i=":",t-=1):e==="center"&&(n=":",i=":",t-=2),""+n+im("-",Math.max(t,3))+i}var F0={text:function(r,e){var t,n=e.node,i=(t=n.text)!==null&&t!==void 0?t:"";(n.marks||[]).some(function(a){return a.type.name==="link"})?r.text(am(i),!1):r.text(i)},paragraph:function(r,e){var t=e.node,n=e.parent,i=e.index,a=i===void 0?0:i;if(r.stopNewline)r.convertInline(t);else{var s=a===0,u=!s&&n.child(a-1),f=u&&u.childCount===0,p=a<n.childCount-1&&n.child(a+1),y=p&&p.type.name==="paragraph",T=t.childCount===0;if(T&&f)r.write(`<br>
`);else if(T&&!f&&!s){if(n?.type.name==="listItem"){var N=r.getDelim();r.setDelim(""),r.write("<br>"),r.setDelim(N)}r.write(`
`)}else r.convertInline(t),y?r.write(`
`):r.closeBlock(t)}},heading:function(r,e,t){var n=e.node,i=t.delim,a=n.attrs.headingType;a==="atx"?(r.write(i+" "),r.convertInline(n),r.closeBlock(n)):(r.convertInline(n),r.ensureNewLine(),r.write(i),r.closeBlock(n))},codeBlock:function(r,e,t){var n=e.node,i=t.delim,a=t.text,s=i,u=s[0],f=s[1];r.write(u),r.ensureNewLine(),r.text(a,!1),r.ensureNewLine(),r.write(f),r.closeBlock(n)},blockQuote:function(r,e,t){var n=e.node,i=e.parent,a=t.delim;i?.type.name===n.type.name&&r.flushClose(1),r.wrapBlock(a,null,n,function(){return r.convertNode(n)})},bulletList:function(r,e,t){var n=e.node,i=t.delim;r.convertList(n,im(" ",4),function(){return i+" "})},orderedList:function(r,e){var t=e.node,n=t.attrs.order||1;r.convertList(t,im(" ",4),function(i){var a=String(n+i);return a+". "})},listItem:function(r,e){var t=e.node,n=t.attrs,i=n.task,a=n.checked;i&&r.write("["+(a?"x":" ")+"] "),r.convertNode(t)},image:function(r,e,t){var n=t.attrs;r.write("!["+n?.altText+"]("+n?.imageUrl+")")},thematicBreak:function(r,e,t){var n=e.node,i=t.delim;r.write(i),r.closeBlock(n)},table:function(r,e){var t=e.node;r.convertNode(t),r.closeBlock(t)},tableHead:function(r,e,t){var n=e.node,i=t.delim,a=n.firstChild;r.convertNode(n);var s=i??"";!i&&a&&a.forEach(function(u){var f=u.textContent,p=u.attrs,y=R5e(f,p.align);s+="| "+y+" "}),r.write(s+"|"),r.ensureNewLine()},tableBody:function(r,e){var t=e.node;r.convertNode(t)},tableRow:function(r,e){var t=e.node;r.convertNode(t),r.write("|"),r.ensureNewLine()},tableHeadCell:function(r,e,t){var n=e.node,i=t.delim,a=i===void 0?"| ":i;r.write(a),r.convertTableCell(n),r.write(" ")},tableBodyCell:function(r,e,t){var n=e.node,i=t.delim,a=i===void 0?"| ":i;r.write(a),r.convertTableCell(n),r.write(" ")},customBlock:function(r,e,t){var n=e.node,i=t.delim,a=t.text,s=i,u=s[0],f=s[1];r.write(u),r.ensureNewLine(),r.text(a,!1),r.ensureNewLine(),r.write(f),r.closeBlock(n)},frontMatter:function(r,e,t){var n=e.node,i=t.text;r.text(i,!1),r.closeBlock(n)},widget:function(r,e,t){var n=t.text;r.write(n)},html:function(r,e,t){var n=e.node,i=t.text;r.write(i),n.attrs.htmlBlock&&r.closeBlock(n)},htmlComment:function(r,e,t){var n=e.node,i=t.text;r.write(i),r.closeBlock(n)}};function I5e(r,e){var t=e.state,n=e.nodeInfo,i=e.params,a=i.rawHTML;a?Nu(r,["heading","codeBlock"])>-1?A5e(t,n.node,a):Nu(r,["image","thematicBreak"])>-1?t.write(a):L5e(t,n,a):F0[r](t,n,i)}function FC(r,e){var t=r.text,n=/`+/g,i=0;if(r.isText&&t)for(var a=n.exec(t);a;)i=Math.max(i,a[0].length),a=n.exec(t);for(var s=i>0&&e>0?" `":"`",u=0;u<i;u+=1)s+="`";return i>0&&e<0&&(s+=" "),s}function Ka(r){return r?["<"+r+">","</"+r+">"]:null}function Xd(r){return r?"<"+r+">":null}function Yd(r){return r?"</"+r+">":null}var Zd={heading:function(r){var e=r.node,t=e.attrs,n=t.level,i=im("#",n);return t.headingType==="setext"&&(i=n===1?"===":"---"),{delim:i,rawHTML:Ka(t.rawHTML)}},codeBlock:function(r){var e=r.node,t=e,n=t.attrs,i=t.textContent;return{delim:["```"+(n.language||""),"```"],rawHTML:Ka(n.rawHTML),text:i}},blockQuote:function(r){var e=r.node;return{delim:"> ",rawHTML:Ka(e.attrs.rawHTML)}},bulletList:function(r,e){var t=r.node,n=e.inTable,i=t.attrs.rawHTML;return n&&(i=i||"ul"),{delim:"*",rawHTML:Ka(i)}},orderedList:function(r,e){var t=r.node,n=e.inTable,i=t.attrs.rawHTML;return n&&(i=i||"ol"),{rawHTML:Ka(i)}},listItem:function(r,e){var t=r.node,n=e.inTable,i=t.attrs,a=i.task,s=i.checked,u=t.attrs.rawHTML;n&&(u=u||"li");var f=a?' class="task-list-item'+(s?" checked":"")+'"':"",p=a?" data-task"+(s?" data-task-checked":""):"";return{rawHTML:u?["<"+u+f+p+">","</"+u+">"]:null}},table:function(r){var e=r.node;return{rawHTML:Ka(e.attrs.rawHTML)}},tableHead:function(r){var e=r.node;return{rawHTML:Ka(e.attrs.rawHTML)}},tableBody:function(r){var e=r.node;return{rawHTML:Ka(e.attrs.rawHTML)}},tableRow:function(r){var e=r.node;return{rawHTML:Ka(e.attrs.rawHTML)}},tableHeadCell:function(r){var e=r.node;return{rawHTML:Ka(e.attrs.rawHTML)}},tableBodyCell:function(r){var e=r.node;return{rawHTML:Ka(e.attrs.rawHTML)}},image:function(r){var e=r.node,t=e.attrs,n=t.rawHTML,i=t.altText,a=t.imageUrl.replace(/&amp;/g,"&"),s=i?' alt="'+Qc(i)+'"':"";return{rawHTML:n?"<"+n+' src="'+Qc(a)+'"'+s+">":null,attrs:{altText:am(i||""),imageUrl:a}}},thematicBreak:function(r){var e=r.node;return{delim:"***",rawHTML:Xd(e.attrs.rawHTML)}},customBlock:function(r){var e=r.node,t=e,n=t.attrs,i=t.textContent;return{delim:["$$"+n.info,"$$"],text:i}},frontMatter:function(r){var e=r.node;return{text:e.textContent}},widget:function(r){var e=r.node;return{text:e.textContent}},strong:function(r,e){var t=r.node,n=e.entering,i=t.attrs.rawHTML;return{delim:"**",rawHTML:n?Xd(i):Yd(i)}},emph:function(r,e){var t=r.node,n=e.entering,i=t.attrs.rawHTML;return{delim:"*",rawHTML:n?Xd(i):Yd(i)}},strike:function(r,e){var t=r.node,n=e.entering,i=t.attrs.rawHTML;return{delim:"~~",rawHTML:n?Xd(i):Yd(i)}},link:function(r,e){var t=r.node,n=e.entering,i=t.attrs,a=i.title,s=i.rawHTML,u=i.linkUrl.replace(/&amp;/g,"&"),f=a?' title="'+Qc(a)+'"':"";return n?{delim:"[",rawHTML:s?"<"+s+' href="'+Qc(u)+'"'+f+">":null}:{delim:"]("+u+(a?" "+Rne(am(a)):"")+")",rawHTML:Yd(s)}},code:function(r,e){var t=r.node,n=r.parent,i=r.index,a=i===void 0?0:i,s=e.entering,u=s?FC(n.child(a),-1):FC(n.child(a-1),1),f=s?Xd(t.attrs.rawHTML):Yd(t.attrs.rawHTML);return{delim:u,rawHTML:f}},htmlComment:function(r){var e=r.node;return{text:e.textContent}},html:function(r,e){var t=r.node,n=e.entering,i=t.type.name,a=t.attrs.htmlAttrs,s="<"+i,u="</"+i+">";return Object.keys(a).forEach(function(f){s+=" "+f+'="'+a[f].replace(/"/g,"'")+'"'}),s+=">",t.attrs.htmlInline?{rawHTML:n?s:u}:{text:""+s+t.attrs.childrenHTML+u}}},_C={strong:{mixable:!0,removedEnclosingWhitespace:!0},emph:{mixable:!0,removedEnclosingWhitespace:!0},strike:{mixable:!0,removedEnclosingWhitespace:!0},code:{escape:!1},link:null,html:null};function P5e(r){var e={},t=Object.keys(F0);return t.forEach(function(n){e[n]=function(i,a){var s=F0[n];if(s){var u=r[n],f=u?u(a,{inTable:i.inTable}):{};I5e(n,{state:i,nodeInfo:a,params:f})}}}),e}function B5e(r){var e={},t=Object.keys(_C);return t.forEach(function(n){e[n]=function(i,a){var s=_C[n],u=r[n],f=u&&i&&!eo(a),p=f?u(i,{entering:a}):{};return Fe(Fe({},p),s)}}),e}function F5e(r){var e=Object.keys(r);e.forEach(function(i){var a=Zd[i],s=r[i];a?Zd[i]=function(u,f){return f.origin=function(){return a(u,f)},s(u,f)}:Zd[i]=s,delete r[i]});var t=P5e(Zd),n=B5e(Zd);return{nodeTypeConvertors:t,markTypeConvertors:n}}var _5e=(function(){function r(e){var t=e.nodeTypeConvertors,n=e.markTypeConvertors;this.nodeTypeConvertors=t,this.markTypeConvertors=n,this.delim="",this.result="",this.closed=!1,this.tightList=!1,this.stopNewline=!1,this.inTable=!1}return r.prototype.getMarkConvertor=function(e){var t=e.attrs.htmlInline?"html":e.type.name;return this.markTypeConvertors[t]},r.prototype.isInBlank=function(){return/(^|\n)$/.test(this.result)},r.prototype.markText=function(e,t,n,i){var a=this.getMarkConvertor(e);if(a){var s=a({node:e,parent:n,index:i},t),u=s.delim,f=s.rawHTML;return f||u}return""},r.prototype.setDelim=function(e){this.delim=e},r.prototype.getDelim=function(){return this.delim},r.prototype.flushClose=function(e){if(!this.stopNewline&&this.closed){if(this.isInBlank()||(this.result+=`
`),e||(e=2),e>1){var t=this.delim,n=/\s+$/.exec(t);n&&(t=t.slice(0,t.length-n[0].length));for(var i=1;i<e;i+=1)this.result+=t+`
`}this.closed=!1}},r.prototype.wrapBlock=function(e,t,n,i){var a=this.getDelim();this.write(t||e),this.setDelim(this.getDelim()+e),i(),this.setDelim(a),this.closeBlock(n)},r.prototype.ensureNewLine=function(){this.isInBlank()||(this.result+=`
`)},r.prototype.write=function(e){e===void 0&&(e=""),this.flushClose(),this.delim&&this.isInBlank()&&(this.result+=this.delim),e&&(this.result+=e)},r.prototype.closeBlock=function(e){this.closed=e},r.prototype.text=function(e,t){t===void 0&&(t=!0);for(var n=e.split(`
`),i=0;i<n.length;i+=1)this.write(),this.result+=t?Lne(n[i]):n[i],i!==n.length-1&&(this.result+=`
`)},r.prototype.convertBlock=function(e,t,n){var i=e.type.name,a=this.nodeTypeConvertors[i],s={node:e,parent:t,index:n};e.attrs.htmlBlock?this.nodeTypeConvertors.html(this,s):a&&a(this,s)},r.prototype.convertInline=function(e){var t=this,n=[],i="",a=function(s,u,f){var p=s?s.marks:[],y=i;i="";var T=s&&s.isText&&p.some(function(We){var Mt=t.getMarkConvertor(We),tt=Mt&&Mt();return tt&&tt.removedEnclosingWhitespace});if(T&&s&&s.text){var N=/^(\s*)(.*?)(\s*)$/m.exec(s.text),O=N[1],A=N[2],z=N[3];y+=O,i=z,(O||z)&&(s=A?s.withText(A):null,s||(p=n))}for(var H=p.length&&vi(p),j=H&&t.getMarkConvertor(H),ie=j&&j(),le=ie&&ie.escape===!1,ve=p.length-(le?1:0),be=0;be<ve;be+=1){var A=p[be];if(ie&&!ie.mixable)break;for(var me=0;me<n.length;me+=1){var Ee=n[me];if(ie&&!ie.mixable)break;if(A.eq(Ee)){be>me?p=p.slice(0,me).concat(A).concat(p.slice(me,be)).concat(p.slice(be+1,ve)):me>be&&(p=p.slice(0,be).concat(p.slice(be+1,me)).concat(A).concat(p.slice(me,ve)));break}}}for(var Ce=0;Ce<Math.min(n.length,ve)&&p[Ce].eq(n[Ce]);)Ce+=1;for(;Ce<n.length;){var _e=n.pop();_e&&t.text(t.markText(_e,!1,e,f),!1)}if(y&&t.text(y),s){for(;n.length<ve;){var A=p[n.length];n.push(A),t.text(t.markText(A,!0,e,f),!1)}le&&s.isText?t.text(t.markText(H,!0,e,f)+s.text+t.markText(H,!1,e,f+1),!1):t.convertBlock(s,e,f)}};e.forEach(a),a(null,null,e.childCount)},r.prototype.convertList=function(e,t,n){var i=this,a;this.closed&&this.closed.type===e.type?this.flushClose(3):this.tightList&&this.flushClose(1);var s=(a=e.attrs.tight)!==null&&a!==void 0?a:!0,u=this.tightList;this.tightList=s,e.forEach(function(f,p,y){y&&s&&i.flushClose(1),i.wrapBlock(t,n(y),e,function(){return i.convertBlock(f,e,y)})}),this.tightList=u},r.prototype.convertTableCell=function(e){var t=this;this.stopNewline=!0,this.inTable=!0,e.forEach(function(n,i,a){if(Yn(["bulletList","orderedList"],n.type.name))t.convertBlock(n,e,a),t.closed=!1;else if(t.convertInline(n),a<e.childCount-1){var s=e.child(a+1);s.type.name==="paragraph"&&t.write("<br>")}}),this.stopNewline=!1,this.inTable=!1},r.prototype.convertNode=function(e,t){var n=this;return e.forEach(function(i,a,s){if(n.convertBlock(i,e,s),t?.node===i){var u=n.result.split(`
`);t.setMappedPos([u.length,vi(u).length+1])}}),this.result},r})(),q5e=(function(){function r(e,t,n,i){var a=this;this.setMappedPos=function(s){a.mappedPosWhenConverting=s},this.schema=e,this.eventEmitter=i,this.focusedNode=null,this.mappedPosWhenConverting=null,this.toWwConvertors=N5e(n),this.toMdConvertors=F5e(t||{}),this.eventEmitter.listen("setFocusedNode",function(s){return a.focusedNode=s})}return r.prototype.getMappedPos=function(){return this.mappedPosWhenConverting},r.prototype.getInfoForPosSync=function(){return{node:this.focusedNode,setMappedPos:this.setMappedPos}},r.prototype.toWysiwygModel=function(e){var t=new D5e(this.schema,this.toWwConvertors);return t.convertNode(e,this.getInfoForPosSync())},r.prototype.toMarkdownText=function(e){var t=new _5e(this.toMdConvertors),n=t.convertNode(e,this.getInfoForPosSync());return n=this.eventEmitter.emitReduce("beforeConvertWysiwygToMarkdown",n),n},r})();function z5e(r){var e=r.plugin,t=r.eventEmitter,n=r.usageStatistics,i=r.instance,a={Plugin:Xi,PluginKey:bh,Selection:ir,TextSelection:ur},s={Decoration:Ki,DecorationSet:sn},u={Fragment:Xe},f={InputRule:Sl,inputRules:lx,undoInputRule:Mre},p={keymap:yh},y={eventEmitter:t,usageStatistics:n,instance:i,pmState:a,pmView:s,pmModel:u,pmRules:f,pmKeymap:p,i18n:Xt};if(kf(e)){var T=e[0],N=e[1],O=N===void 0?{}:N;return T(y,O)}return e(y)}function QE(r){var e=r.plugins,t=r.eventEmitter,n=r.usageStatistics,i=r.instance;return t.listen("mixinTableOffsetMapPrototype",yje),(e??[]).reduce(function(a,s){var u=z5e({plugin:s,eventEmitter:t,usageStatistics:n,instance:i});if(!u)throw new Error("The return value of the executed plugin is empty.");var f=u.markdownParsers,p=u.toHTMLRenderers,y=u.toMarkdownRenderers,T=u.markdownPlugins,N=u.wysiwygPlugins,O=u.wysiwygNodeViews,A=u.markdownCommands,z=u.wysiwygCommands,H=u.toolbarItems;return p&&(a.toHTMLRenderers=om(a.toHTMLRenderers,p)),y&&(a.toMarkdownRenderers=om(a.toMarkdownRenderers,y)),T&&(a.mdPlugins=a.mdPlugins.concat(T)),N&&(a.wwPlugins=a.wwPlugins.concat(N)),O&&(a.wwNodeViews=Fe(Fe({},a.wwNodeViews),O)),A&&(a.mdCommands=Fe(Fe({},a.mdCommands),A)),z&&(a.wwCommands=Fe(Fe({},a.wwCommands),z)),H&&(a.toolbarItems=a.toolbarItems.concat(H)),f&&(a.markdownParsers=Fe(Fe({},a.markdownParsers),f)),a},{toHTMLRenderers:{},toMarkdownRenderers:{},mdPlugins:[],wwPlugins:[],wwNodeViews:{},mdCommands:{},wwCommands:{},toolbarItems:[],markdownParsers:{}})}var H5e="data-task",V5e="data-task-disabled",$5e="checked";function U5e(r){["htmlBlock","htmlInline"].forEach(function(e){r[e]&&Object.keys(r[e]).forEach(function(t){return EE(t)})})}var XE=(function(){function r(e){var t=this;this.options=sk({linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,usageStatistics:!0,theme:"light"},e),this.eventEmitter=new KE;var n=hx(this.options.linkAttributes),i=QE({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this})||{},a=i.toHTMLRenderers,s=i.markdownParsers,u=this.options,f=u.customHTMLRenderer,p=u.extendedAutolinks,y=u.referenceDefinition,T=u.frontMatter,N=u.customHTMLSanitizer,O={linkAttributes:n,customHTMLRenderer:Fe(Fe({},a),f),extendedAutolinks:p,referenceDefinition:y,frontMatter:T,sanitizer:N||Ru};U5e(O.customHTMLRenderer),this.options.events&&sf(this.options.events,function(le,ve){t.on(ve,le)});var A=this.options,z=A.el,H=A.initialValue,j=A.theme,ie=z.innerHTML;j!=="light"&&z.classList.add(Et(j)),z.innerHTML="",this.toastMark=new CE("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:p,referenceDefinition:y,disallowDeepHeading:!0,frontMatter:T,customParser:s}),this.preview=new OE(this.eventEmitter,Fe(Fe({},O),{isViewer:!0})),Ux(this.preview.previewContent,"mousedown",this.toggleTask.bind(this)),H?this.setMarkdown(H):ie&&this.preview.setHTML(ie),z.appendChild(this.preview.previewContent),this.eventEmitter.emit("load",this)}return r.prototype.toggleTask=function(e){var t=e.target,n=getComputedStyle(t,":before");!t.hasAttribute(V5e)&&t.hasAttribute(H5e)&&mk(n,e.offsetX,e.offsetY)&&(gk(t,$5e),this.eventEmitter.emit("change",{source:"viewer",date:e}))},r.prototype.setMarkdown=function(e){var t=this.toastMark.getLineTexts(),n=t.length,i=vi(t),a=[n,i.length+1],s=this.toastMark.editMarkdown([1,1],a,e||"");this.eventEmitter.emit("updatePreview",s)},r.prototype.on=function(e,t){this.eventEmitter.listen(e,t)},r.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},r.prototype.addHook=function(e,t){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,t)},r.prototype.destroy=function(){$x(this.preview.el,"mousedown",this.toggleTask.bind(this)),this.preview.destroy(),this.eventEmitter.emit("destroy")},r.prototype.isViewer=function(){return!0},r.prototype.isMarkdownMode=function(){return!1},r.prototype.isWysiwygMode=function(){return!1},r})();function Uv(r){return r instanceof pl}function YE(r){var e=["document","blockQuote","bulletList","orderedList","listItem","paragraph","heading","emph","strong","strike","link","image","table","tableHead","tableBody","tableRow","tableHeadCell","tableBodyCell"];return Yn(e,r)}function W5e(r){var e=r.attrs,t=r.type,n=t.name,i={type:n,wysiwygNode:!0,literal:!YE(n)&&Uv(r)?r.textContent:null},a={heading:{level:e.level},link:{destination:e.linkUrl,title:e.title},image:{destination:e.imageUrl},codeBlock:{info:e.language},bulletList:{type:"list",listData:{type:"bullet"}},orderedList:{type:"list",listData:{type:"ordered",start:e.order}},listItem:{type:"item",listData:{task:e.task,checked:e.checked}},tableHeadCell:{type:"tableCell",cellType:"head",align:e.align},tableBodyCell:{type:"tableCell",cellType:"body",align:e.align},customBlock:{info:e.info}},s=a[n],u=Fe(Fe({},i),s),f=r.attrs,p=f.htmlAttrs,y=f.childrenHTML;return p?Fe(Fe({},u),{attrs:p,childrenHTML:y}):u}var j5e={openTag:function(r,e){var t=r,n=t.tagName,i=t.classNames,a=t.attributes,s=document.createElement(n),u={};i&&(s.className=i.join(" ")),a&&(u=Fe(Fe({},u),a)),kk(u,s),e.push(s)},closeTag:function(r,e){if(e.length>1){var t=e.pop();vi(e).appendChild(t)}},html:function(r,e){vi(e).insertAdjacentHTML("beforeend",r.content)},text:function(r,e){var t=document.createTextNode(r.content);vi(e).appendChild(t)}},G5e=(function(){function r(e,t){var n=Lk(e,t),i=Fe(Fe({},t.htmlBlock),t.htmlInline);this.customConvertorKeys=Object.keys(t).concat(Object.keys(i)),this.renderer=new Ak({gfm:!0,convertors:Fe(Fe({},n),i)}),this.convertors=this.renderer.getConvertors()}return r.prototype.generateTokens=function(e){var t=W5e(e),n={entering:!0,leaf:Uv(e)?e.isLeaf:!1,options:this.renderer.getOptions(),getChildrenText:function(){return Uv(e)?e.textContent:""},skipChildren:function(){return!1}},i=this.convertors[e.type.name],a=i(t,n,this.convertors),s=kf(a)?a:[a];return(YE(e.type.name)||e.attrs.htmlInline)&&(n.entering=!1,s.push({type:"text",content:Uv(e)?e.textContent:""}),s=s.concat(i(t,n,this.convertors))),s},r.prototype.toDOMNode=function(e){var t=this.generateTokens(e),n=[];return t.forEach(function(i){return j5e[i.type](i,n)}),n[0]},r.prototype.getToDOMNode=function(e){return Yn(this.customConvertorKeys,e)?this.toDOMNode.bind(this):null},r})(),K5e=100,J5e=15,Rv=null,Ky=null;function qC(r,e){var t=e.syncScrollTop,n=e.releaseEventBlock;Ky&&clearTimeout(Ky),t(r),Ky=setTimeout(function(){n()},J5e)}function Q5e(r,e,t){var n=e-r,i=Date.now(),a=function(){var s=Date.now(),u=(s-i)/K5e,f;Rv&&clearTimeout(Rv),u<1?(f=r+n*Math.cos((1-u)*Math.PI/2),qC(Math.ceil(f),t),Rv=setTimeout(a,1)):(qC(e,t),Rv=null)};a()}var X5e=18,Y5e=(function(){function r(e,t,n){this.latestEditorScrollTop=null,this.latestPreviewScrollTop=null,this.blockedScroll=null,this.active=!0,this.timer=null;var i=t.previewContent,a=t.el;this.previewRoot=i,this.previewEl=a,this.mdEditor=e,this.editorView=e.view,this.toastMark=e.getToastMark(),this.eventEmitter=n,this.addScrollSyncEvent()}return r.prototype.addScrollSyncEvent=function(){var e=this;this.eventEmitter.listen("afterPreviewRender",function(){e.clearTimer(),e.timer=setTimeout(function(){e.syncPreviewScrollTop(!0)},200)}),this.eventEmitter.listen("scroll",function(t,n){e.active&&(t==="editor"&&e.blockedScroll!=="editor"?e.syncPreviewScrollTop():t==="preview"&&e.blockedScroll!=="preview"&&e.syncEditorScrollTop(n))}),this.eventEmitter.listen("toggleScrollSync",function(t){e.active=t})},r.prototype.getMdNodeAtPos=function(e,t){var n=e.content.findIndex(t.pos),i=n.index;return this.toastMark.findFirstNodeAtLine(i+1)},r.prototype.getScrollTopByCaretPos=function(){var e=this.mdEditor.getSelection(),t=this.toastMark.findFirstNodeAtLine(e[0][0]),n=this.previewEl.clientHeight,i=Uy(this.previewRoot,t).el,a=mm(i,this.previewRoot)||i.offsetTop,s=i.clientHeight,u=a+s-n*.5;this.latestEditorScrollTop=null;var f=i.getBoundingClientRect().top-this.previewEl.getBoundingClientRect().top;return f<n?null:u},r.prototype.syncPreviewScrollTop=function(e){e===void 0&&(e=!1);var t=this,n=t.editorView,i=t.previewEl,a=t.previewRoot,s=n.dom.getBoundingClientRect(),u=s.left,f=s.top,p=n.posAtCoords({left:u,top:f}),y=n.state.doc,T=this.getMdNodeAtPos(y,p);if(!(!T||Fne(T))){var N=i.scrollTop,O=n.dom,A=O.scrollTop,z=O.scrollHeight,H=O.clientHeight,j=O.children,ie=z-A<=H+X5e,le=ie?i.scrollHeight:0;if(A&&!ie){if(e){var ve=this.getScrollTopByCaretPos();if(!ve)return;le=ve}else{var be=Uy(this.previewRoot,T),me=be.el,Ee=be.mdNode,Ce=SC(y,Ee,j),_e=Ce.height,We=Ce.rect,Mt=mm(me,a)||me.offsetTop,tt=me.clientHeight,Rt=f>We.top?Math.min((f-We.top)/_e,1):0;le=Mt+tt*Rt}le=this.getResolvedScrollTop("editor",A,le,N),this.latestEditorScrollTop=A}le!==N&&this.run("editor",le,N)}},r.prototype.syncEditorScrollTop=function(e){var t=this,n=t.toastMark,i=t.editorView,a=t.previewRoot,s=t.previewEl,u=i.dom,f=i.state,p=s.scrollTop,y=s.clientHeight,T=s.scrollHeight,N=T-p<=y,O=u.scrollTop,A=N?u.scrollHeight:0;if(p&&e&&!N){if(e=KWe(e,a),!e.getAttribute("data-nodeid"))return;var z=u.children,H=Number(e.getAttribute("data-nodeid")),j=Uy(this.previewRoot,n.findNodeById(H)),ie=j.mdNode,le=j.el,ve=Eh(ie);A=z[ve-1].offsetTop;var be=SC(f.doc,ie,z).height,me=rje(le,a,H),Ee=me.nodeHeight,Ce=me.offsetTop;A+=QWe(p,Ce,Ee,be),A=this.getResolvedScrollTop("preview",p,A,O),this.latestPreviewScrollTop=p}A!==O&&this.run("preview",A,O)},r.prototype.getResolvedScrollTop=function(e,t,n,i){var a=e==="editor"?this.latestEditorScrollTop:this.latestPreviewScrollTop;return a===null?n:a<t?Math.max(n,i):Math.min(n,i)},r.prototype.run=function(e,t,n){var i=this,a;e==="editor"?(a=this.previewEl,this.blockedScroll="preview"):(a=this.editorView.dom,this.blockedScroll="editor");var s={syncScrollTop:function(u){return a.scrollTop=u},releaseEventBlock:function(){return i.blockedScroll=null}};Q5e(n,t,s)},r.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},r.prototype.destroy=function(){this.clearTimer(),this.eventEmitter.removeEventHandler("scroll"),this.eventEmitter.removeEventHandler("afterPreviewRender")},r})(),Z5e={getPopupInitialValues:function(r,e){var t=e.popupName;return t==="link"?{linkText:r.getSelectedText()}:{}}};function e6e(r){r.eventEmitter.listen("query",function(e,t){return Z5e[e](r,t)})}var ZE=(function(){function r(e){var t=this;this.initialHTML=e.el.innerHTML,e.el.innerHTML="",this.options=sk({previewStyle:"tab",previewHighlight:!0,initialEditType:"markdown",height:"300px",minHeight:"200px",language:"en-US",useCommandShortcut:!0,usageStatistics:!0,toolbarItems:[["heading","bold","italic","strike"],["hr","quote"],["ul","ol","task","indent","outdent"],["table","image","link"],["code","codeblock"],["scrollSync"]],hideModeSwitch:!1,linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,customMarkdownRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,widgetRules:[],theme:"light",autofocus:!0},e);var n=this.options,i=n.customHTMLRenderer,a=n.extendedAutolinks,s=n.referenceDefinition,u=n.frontMatter,f=n.customMarkdownRenderer,p=n.useCommandShortcut,y=n.initialEditType,T=n.widgetRules,N=n.customHTMLSanitizer;this.mode=y||"markdown",this.mdPreviewStyle=this.options.previewStyle,this.i18n=Xt,this.i18n.setCode(this.options.language),this.eventEmitter=new KE,Gne(T);var O=hx(this.options.linkAttributes);this.pluginInfo=QE({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this});var A=this.pluginInfo,z=A.toHTMLRenderers,H=A.toMarkdownRenderers,j=A.mdPlugins,ie=A.wwPlugins,le=A.wwNodeViews,ve=A.mdCommands,be=A.wwCommands,me=A.markdownParsers,Ee={linkAttributes:O,customHTMLRenderer:om(z,i),extendedAutolinks:a,referenceDefinition:s,frontMatter:u,sanitizer:N||Ru},Ce=new G5e(O,Ee.customHTMLRenderer),_e=HWe(Ee.customHTMLRenderer,Ee.sanitizer,Ce);this.toastMark=new CE("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:a,referenceDefinition:s,disallowDeepHeading:!0,frontMatter:u,customParser:me}),this.mdEditor=new Jae(this.eventEmitter,{toastMark:this.toastMark,useCommandShortcut:p,mdPlugins:j}),this.preview=new OE(this.eventEmitter,Fe(Fe({},Ee),{isViewer:!1,highlight:this.options.previewHighlight})),this.wwEditor=new d5e(this.eventEmitter,{toDOMAdaptor:Ce,useCommandShortcut:p,htmlSchemaMap:_e,linkAttributes:O,wwPlugins:ie,wwNodeViews:le}),this.convertor=new q5e(this.wwEditor.getSchema(),Fe(Fe({},H),f),Lk(O,Ee.customHTMLRenderer),this.eventEmitter),this.setMinHeight(this.options.minHeight),this.setHeight(this.options.height),this.setMarkdown(this.options.initialValue,!1),this.options.placeholder&&this.setPlaceholder(this.options.placeholder),this.options.initialValue||this.setHTML(this.initialHTML,!1),this.commandManager=new T5e(this.eventEmitter,this.mdEditor.commands,this.wwEditor.commands,function(){return t.mode}),this.options.usageStatistics&&Nne(),this.scrollSync=new Y5e(this.mdEditor,this.preview,this.eventEmitter),this.addInitEvent(),this.addInitCommand(ve,be),e6e(this),this.options.hooks&&sf(this.options.hooks,function(We,Mt){return t.addHook(Mt,We)}),this.options.events&&sf(this.options.events,function(We,Mt){return t.on(Mt,We)}),this.eventEmitter.emit("load",this),this.moveCursorToStart(this.options.autofocus)}return r.prototype.addInitEvent=function(){var e=this;this.on("needChangeMode",this.changeMode.bind(this)),this.on("loadUI",function(){if(e.height!=="auto"){var t=Math.min(parseInt(e.minHeight,10),parseInt(e.height,10)-75)+"px";e.setMinHeight(t)}}),kie(this.eventEmitter)},r.prototype.addInitCommand=function(e,t){var n=this,i=function(a,s){Object.keys(s).forEach(function(u){n.addCommand(a,u,s[u])})};this.addCommand("markdown","toggleScrollSync",function(a){return n.eventEmitter.emit("toggleScrollSync",a.active),!0}),i("markdown",e),i("wysiwyg",t)},r.prototype.getCurrentModeEditor=function(){return this.isMarkdownMode()?this.mdEditor:this.wwEditor},r.factory=function(e){return e.viewer?new XE(e):new r(e)},r.setLanguage=function(e,t){Xt.setLanguage(e,t)},r.prototype.changePreviewStyle=function(e){this.mdPreviewStyle!==e&&(this.mdPreviewStyle=e,this.eventEmitter.emit("changePreviewStyle",e))},r.prototype.exec=function(e,t){this.commandManager.exec(e,t)},r.prototype.addCommand=function(e,t,n){var i=this,a=function(s){s===void 0&&(s={});var u=(e==="markdown"?i.mdEditor:i.wwEditor).view;n(s,u.state,u.dispatch,u)};this.commandManager.addCommand(e,t,a)},r.prototype.on=function(e,t){this.eventEmitter.listen(e,t)},r.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},r.prototype.addHook=function(e,t){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,t)},r.prototype.removeHook=function(e){this.eventEmitter.removeEventHandler(e)},r.prototype.focus=function(){this.getCurrentModeEditor().focus()},r.prototype.blur=function(){this.getCurrentModeEditor().blur()},r.prototype.moveCursorToEnd=function(e){e===void 0&&(e=!0),this.getCurrentModeEditor().moveCursorToEnd(e)},r.prototype.moveCursorToStart=function(e){e===void 0&&(e=!0),this.getCurrentModeEditor().moveCursorToStart(e)},r.prototype.setMarkdown=function(e,t){if(e===void 0&&(e=""),t===void 0&&(t=!0),this.mdEditor.setMarkdown(e,t),this.isWysiwygMode()){var n=this.toastMark.getRootNode(),i=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(i,t)}},r.prototype.setHTML=function(e,t){e===void 0&&(e=""),t===void 0&&(t=!0);var n=document.createElement("div");n.innerHTML=mie(e);var i=Su.fromSchema(this.wwEditor.schema).parse(n);this.isMarkdownMode()?this.mdEditor.setMarkdown(this.convertor.toMarkdownText(i),t):this.wwEditor.setModel(i,t)},r.prototype.getMarkdown=function(){return this.isMarkdownMode()?this.mdEditor.getMarkdown():this.convertor.toMarkdownText(this.wwEditor.getModel())},r.prototype.getHTML=function(){var e=this;this.eventEmitter.holdEventInvoke(function(){if(e.isMarkdownMode()){var i=e.toastMark.getRootNode(),a=e.convertor.toWysiwygModel(i);e.wwEditor.setModel(a)}});var t=wk(this.wwEditor.view.dom.innerHTML);if(this.placeholder){var n=new RegExp('<span class="placeholder[^>]+>'+this.placeholder+"</span>","i");return t.replace(n,"")}return t},r.prototype.insertText=function(e){this.getCurrentModeEditor().replaceSelection(e)},r.prototype.setSelection=function(e,t){this.getCurrentModeEditor().setSelection(e,t)},r.prototype.replaceSelection=function(e,t,n){this.getCurrentModeEditor().replaceSelection(e,t,n)},r.prototype.deleteSelection=function(e,t){this.getCurrentModeEditor().deleteSelection(e,t)},r.prototype.getSelectedText=function(e,t){return this.getCurrentModeEditor().getSelectedText(e,t)},r.prototype.getRangeInfoOfNode=function(e){return this.getCurrentModeEditor().getRangeInfoOfNode(e)},r.prototype.addWidget=function(e,t,n){this.getCurrentModeEditor().addWidget(e,t,n)},r.prototype.replaceWithWidget=function(e,t,n){this.getCurrentModeEditor().replaceWithWidget(e,t,n)},r.prototype.setHeight=function(e){var t=this.options.el;Rs(e)&&(e==="auto"?Po(t,"auto-height"):Qa(t,"auto-height"),this.setMinHeight(this.getMinHeight())),qo(t,{height:e}),this.height=e},r.prototype.getHeight=function(){return this.height},r.prototype.setMinHeight=function(e){if(e!==this.minHeight){var t=this.height||this.options.height;t!=="auto"&&this.options.el.querySelector("."+Et("main"))&&(e=Math.min(parseInt(e,10),parseInt(t,10)-75)+"px");var n=parseInt(e,10);this.minHeight=e,this.wwEditor.setMinHeight(n),this.mdEditor.setMinHeight(n),this.preview.setMinHeight(n)}},r.prototype.getMinHeight=function(){return this.minHeight},r.prototype.isMarkdownMode=function(){return this.mode==="markdown"},r.prototype.isWysiwygMode=function(){return this.mode==="wysiwyg"},r.prototype.isViewer=function(){return!1},r.prototype.getCurrentPreviewStyle=function(){return this.mdPreviewStyle},r.prototype.changeMode=function(e,t){if(this.mode!==e){if(this.mode=e,this.isWysiwygMode()){var n=this.toastMark.getRootNode(),i=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(i)}else{var i=this.wwEditor.getModel();this.mdEditor.setMarkdown(this.convertor.toMarkdownText(i),!t)}if(this.eventEmitter.emit("removePopupWidget"),this.eventEmitter.emit("changeMode",e),!t){var a=this.convertor.getMappedPos();this.focus(),this.isWysiwygMode()&&Es(a)?this.wwEditor.setSelection(a):Array.isArray(a)&&this.mdEditor.setSelection(a)}}},r.prototype.destroy=function(){var e=this;this.wwEditor.destroy(),this.mdEditor.destroy(),this.preview.destroy(),this.scrollSync.destroy(),this.eventEmitter.emit("destroy"),this.eventEmitter.getEvents().forEach(function(t,n){return e.off(n)})},r.prototype.hide=function(){this.eventEmitter.emit("hide")},r.prototype.show=function(){this.eventEmitter.emit("show")},r.prototype.setScrollTop=function(e){this.getCurrentModeEditor().setScrollTop(e)},r.prototype.getScrollTop=function(){return this.getCurrentModeEditor().getScrollTop()},r.prototype.reset=function(){this.wwEditor.setModel([]),this.mdEditor.setMarkdown("")},r.prototype.getSelection=function(){return this.getCurrentModeEditor().getSelection()},r.prototype.setPlaceholder=function(e){this.placeholder=e,this.mdEditor.setPlaceholder(e),this.wwEditor.setPlaceholder(e)},r.prototype.getEditorElements=function(){return{mdEditor:this.mdEditor.getElement(),mdPreview:this.preview.getElement(),wwEditor:this.wwEditor.getElement()}},r.prototype.convertPosToMatchEditorMode=function(e,t,n){var i,a;t===void 0&&(t=e),n===void 0&&(n=this.mode);var s=this.mdEditor.view.state.doc,u=Array.isArray(e),f=Array.isArray(t),p=e,y=t;if(u!==f)throw new Error("Types of arguments must be same");return n==="markdown"&&!u&&!f?(i=_v(s,e,t),p=i[0],y=i[1]):n==="wysiwyg"&&u&&f&&(a=du(s,e,t),p=a[0],y=a[1]),[p,y]},r})();function t6e(r){for(var e,t,n=arguments,i=1,a="",s="",u=[0],f=function(y){i===1&&(y||(a=a.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?u.push(y?n[y]:a):i===3&&(y||a)?(u[1]=y?n[y]:a,i=2):i===2&&a==="..."&&y?u[2]=hk(u[2]||{},n[y]):i===2&&a&&!y?(u[2]=u[2]||{})[a]=!0:i>=5&&(i===5?((u[2]=u[2]||{})[t]=y?a?a+n[y]:n[y]:a,i=6):(y||a)&&(u[2][t]+=y?a+n[y]:a)),a=""},p=0;p<r.length;p++){p&&(i===1&&f(),f(p));for(let y=0;y<r[p].length;y++)e=r[p][y],i===1?e==="<"?(f(),u=[u,"",null],i=3):a+=e:i===4?a==="--"&&e===">"?(i=1,a=""):a=e+a[0]:s?e===s?s="":a+=e:e==='"'||e==="'"?s=e:e===">"?(f(),i=1):i&&(e==="="?(i=5,t=a,a=""):e==="/"&&(i<5||r[p][y+1]===">")?(f(),i===3&&(u=u[0]),i=u,(u=u[0]).push(this.apply(null,i.slice(1))),i=0):e===" "||e==="	"||e===`
`||e==="\r"?(f(),i=2):a+=e),i===3&&a==="!--"&&(i=4,u=u[0])}return f(),u.length>2?u.slice(1):u[1]}function r6e(r){return typeof r=="boolean"||r instanceof Boolean}var n6e=r6e,i6e=(function(){function r(e){this.current=e,this.root=e,this.entering=!0}return r.prototype.walk=function(){var e=this,t=e.entering,n=e.current;return n?(t?n.firstChild?(this.current=n.firstChild,this.entering=!0):this.entering=!1:n===this.root?this.current=null:n.next?(this.current=n.next,this.entering=!0):(this.current=n.parent,this.entering=!1),{vnode:n,entering:t}):null},r})(),Ya=(function(){function r(e,t,n){this.parent=null,this.old=null,this.firstChild=null,this.next=null,this.skip=!1,this.type=e,this.props=t,this.children=n,this.props.children=n,t.ref&&(this.ref=t.ref,delete t.ref),t.key&&(this.key=t.key,delete t.key)}return r.prototype.walker=function(){return new i6e(this)},r.removalNodes=[],r})();function a6e(r){return new Ya("TEXT_NODE",{nodeValue:r},[])}function zC(r,e){var t=r;n6e(r)||r==null?t=null:(Rs(r)||Es(r))&&(t=a6e(String(r))),t&&e.push(t)}function o6e(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var i=[];return t.forEach(function(a){Array.isArray(a)?a.forEach(function(s){zC(s,i)}):zC(a,i)}),new Ya(r,e||{},i)}var dr=t6e.bind(o6e);function s6e(r){return r===Object(r)}var l6e=s6e;function u6e(r){var e;return r.type==="TEXT_NODE"?e=document.createTextNode(r.props.nodeValue):(e=document.createElement(r.type),tM(e,{},r.props)),e}function eM(r,e){r.node?e.removeChild(r.node):eM(r.firstChild,e)}function c6e(r,e,t){Object.keys(e).forEach(function(n){if(/^on/.test(n)){if(!t[n]||e[n]!==t[n]){var i=n.slice(2).toLowerCase();r.removeEventListener(i,e[n])}}else n!=="children"&&!t[n]&&!fie(r)&&r.removeAttribute(n)}),tM(r,e,t,function(n){return!uk(e[n],t[n])})}var f6e=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function tM(r,e,t,n){Object.keys(t).forEach(function(i){if(!n||n(i))if(/^on/.test(i)){var a=i.slice(2).toLowerCase();r.addEventListener(a,t[i])}else i==="nodeValue"?r[i]=t[i]:i==="style"&&l6e(t[i])?d6e(r,e[i],t[i]):i!=="children"&&(t[i]===!1?r.removeAttribute(i):r.setAttribute(i,t[i]))})}function d6e(r,e,t){e&&Object.keys(e).forEach(function(n){r.style[n]=""}),Object.keys(t).forEach(function(n){var i=t[n];r.style[n]=Es(i)&&!f6e.test(n)?i+"px":i})}function Pk(r){if(Ya.removalNodes.forEach(function(a){return VC(a)}),r){for(var e=void 0,t=r.walker();e=t.walk();)if(r=e.vnode,e.entering)VC(r);else if(Ea(r.type)){var n=r.component;if(!r.old&&n.mounted&&n.mounted(),r.old&&n.updated){var i=n.prevProps||{};n.updated(i)}}}}function HC(r){for(var e=r.parent;!e.node;)e=e.parent;return e.node}function VC(r){if(!(!r||!r.parent)){if(r.node){var e=HC(r);r.effect==="A"?e.appendChild(r.node):r.effect==="U"&&c6e(r.node,r.old.props,r.props)}if(r.effect==="D"){for(var t=void 0,n=r.walker();t=n.walk();)if(r=t.vnode,!t.entering)if(Ea(r.type)){var i=r.component;i.beforeDestroy&&i.beforeDestroy()}else{var e=HC(r);eM(r,e)}}r.ref&&(r.component?r.ref(r.component):r.node&&r.ref(r.node))}}function h6e(r,e){var t=e.props,n=e.component;return n?(n.prevProps=n.props,n.props=e.props,n):new r(t)}function rM(r){for(var e=r;r&&!r.skip;){if(Ea(r.type)){var t=h6e(r.type,r);t.vnode=r,r.component=t,r.props.children=r.children=[t.render()],$C(r)}else r.node||(r.node=u6e(r)),$C(r);if(r.firstChild)r=r.firstChild;else{for(;r&&r.parent&&!r.next&&(r=r.parent,r!==e););r=r.next}}}function p6e(r,e){return r&&e&&e.type===r.type&&(!e.key||e.key===r.key)}function $C(r){var e=r.children,t=r.old?r.old.firstChild:null,n=null;e.forEach(function(a,s){var u=p6e(t,a);u&&(a.old=t,a.parent=r,a.node=t.node,a.component=t.component,a.effect="U"),a&&!u&&(a.old=null,a.parent=r,a.node=null,a.effect="A"),t&&!u&&(Ya.removalNodes.push(t),t.effect="D"),t&&(t=t.next),s===0?r.firstChild=a:a&&(n.next=a),n=a});var i=vi(e);if(!e.length)for(;t;)Ya.removalNodes.push(t),t.effect="D",t=t.next;for(;t&&i;)t&&i.old!==t&&(Ya.removalNodes.push(t),t.effect="D",t=t.next)}function v6e(r){r.effect="D",Ya.removalNodes=[r],Pk(),Ya.removalNodes=[]}function m6e(r){var e=r.vnode;e.effect="U",e.old=e,e.next&&(e.next.skip=!0),Ya.removalNodes=[],rM(e),Pk(e),e.next&&(e.next.skip=!1)}function g6e(r,e){var t=new Ya(r.tagName.toLowerCase(),{},[e]);return t.node=r,Ya.removalNodes=[],rM(t),Pk(t),function(){return v6e(t.firstChild)}}var gi=(function(){function r(e){this.props=e,this.state={},this.refs={}}return r.prototype.setState=function(e){var t=Fe(Fe({},this.state),e);uk(this.state,t)||(this.state=t,m6e(this))},r})(),y6e=(function(r){wt(e,r);function e(t){var n=r.call(this,t)||this;return n.state={hide:!1},n}return e.prototype.show=function(){this.setState({hide:!1})},e.prototype.hide=function(){this.setState({hide:!0})},e.prototype.render=function(){var t=this.props,n=t.editorType,i=t.eventEmitter;return dr(UC||(UC=fr([`
      <div class="`,'" style="display: ',`">
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
      </div>
    `],[`
      <div class="`,'" style="display: ',`">
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
      </div>
    `])),Et("mode-switch"),this.state.hide?"none":"block",n==="markdown"?" active":"",function(){i.emit("needChangeMode","markdown")},Xt.get("Markdown"),n==="wysiwyg"?" active":"",function(){i.emit("needChangeMode","wysiwyg")},Xt.get("WYSIWYG"))},e})(gi),UC;function k6e(r,e){var t,n;e=e||0;function i(){n=Array.prototype.slice.call(arguments),window.clearTimeout(t),t=window.setTimeout(function(){r.apply(null,n)},e)}return i}var w6e=k6e,b6e=w6e;function C6e(r,e){var t,n=!0,i=function(y){r.apply(null,y),t=null},a,s,u;e=e||0,a=b6e(i,e);function f(){if(u=Array.prototype.slice.call(arguments),n){i(u),n=!1;return}s=Number(new Date),t=t||s,a(u),s-t>=e&&i(u)}function p(){n=!0,t=null}return f.reset=p,f}var T6e=C6e,nM=(function(){if(typeof Map<"u")return Map;function r(e,t){var n=-1;return e.some(function(i,a){return i[0]===t?(n=a,!0):!1}),n}return(function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var n=r(this.__entries__,t),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(t,n){var i=r(this.__entries__,t);~i?this.__entries__[i][1]=n:this.__entries__.push([t,n])},e.prototype.delete=function(t){var n=this.__entries__,i=r(n,t);~i&&n.splice(i,1)},e.prototype.has=function(t){return!!~r(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,n){n===void 0&&(n=null);for(var i=0,a=this.__entries__;i<a.length;i++){var s=a[i];t.call(n,s[1],s[0])}},e})()})(),_0=typeof window<"u"&&typeof document<"u"&&window.document===document,ym=(function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()})(),S6e=(function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(ym):function(r){return setTimeout(function(){return r(Date.now())},1e3/60)}})(),x6e=2;function E6e(r,e){var t=!1,n=!1,i=0;function a(){t&&(t=!1,r()),n&&u()}function s(){S6e(a)}function u(){var f=Date.now();if(t){if(f-i<x6e)return;n=!0}else t=!0,n=!1,setTimeout(s,e);i=f}return u}var M6e=20,N6e=["top","right","bottom","left","width","height","size","weight"],O6e=typeof MutationObserver<"u",D6e=(function(){function r(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=E6e(this.refresh.bind(this),M6e)}return r.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},r.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},r.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},r.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},r.prototype.connect_=function(){!_0||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),O6e?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},r.prototype.disconnect_=function(){!_0||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},r.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=t===void 0?"":t,i=N6e.some(function(a){return!!~n.indexOf(a)});i&&this.refresh()},r.getInstance=function(){return this.instance_||(this.instance_=new r),this.instance_},r.instance_=null,r})(),iM=(function(r,e){for(var t=0,n=Object.keys(e);t<n.length;t++){var i=n[t];Object.defineProperty(r,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return r}),mf=(function(r){var e=r&&r.ownerDocument&&r.ownerDocument.defaultView;return e||ym}),aM=Hm(0,0,0,0);function km(r){return parseFloat(r)||0}function WC(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(n,i){var a=r["border-"+i+"-width"];return n+km(a)},0)}function A6e(r){for(var e=["top","right","bottom","left"],t={},n=0,i=e;n<i.length;n++){var a=i[n],s=r["padding-"+a];t[a]=km(s)}return t}function L6e(r){var e=r.getBBox();return Hm(0,0,e.width,e.height)}function R6e(r){var e=r.clientWidth,t=r.clientHeight;if(!e&&!t)return aM;var n=mf(r).getComputedStyle(r),i=A6e(n),a=i.left+i.right,s=i.top+i.bottom,u=km(n.width),f=km(n.height);if(n.boxSizing==="border-box"&&(Math.round(u+a)!==e&&(u-=WC(n,"left","right")+a),Math.round(f+s)!==t&&(f-=WC(n,"top","bottom")+s)),!P6e(r)){var p=Math.round(u+a)-e,y=Math.round(f+s)-t;Math.abs(p)!==1&&(u-=p),Math.abs(y)!==1&&(f-=y)}return Hm(i.left,i.top,u,f)}var I6e=(function(){return typeof SVGGraphicsElement<"u"?function(r){return r instanceof mf(r).SVGGraphicsElement}:function(r){return r instanceof mf(r).SVGElement&&typeof r.getBBox=="function"}})();function P6e(r){return r===mf(r).document.documentElement}function B6e(r){return _0?I6e(r)?L6e(r):R6e(r):aM}function F6e(r){var e=r.x,t=r.y,n=r.width,i=r.height,a=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(a.prototype);return iM(s,{x:e,y:t,width:n,height:i,top:t,right:e+n,bottom:i+t,left:e}),s}function Hm(r,e,t,n){return{x:r,y:e,width:t,height:n}}var _6e=(function(){function r(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Hm(0,0,0,0),this.target=e}return r.prototype.isActive=function(){var e=B6e(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},r.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},r})(),q6e=(function(){function r(e,t){var n=F6e(t);iM(this,{target:e,contentRect:n})}return r})(),z6e=(function(){function r(e,t,n){if(this.activeObservations_=[],this.observations_=new nM,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return r.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof mf(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new _6e(e)),this.controller_.addObserver(this),this.controller_.refresh())}},r.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof mf(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},r.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},r.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},r.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(n){return new q6e(n.target,n.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},r.prototype.clearActive=function(){this.activeObservations_.splice(0)},r.prototype.hasActive=function(){return this.activeObservations_.length>0},r})(),oM=typeof WeakMap<"u"?new WeakMap:new nM,sM=(function(){function r(e){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=D6e.getInstance(),n=new z6e(e,t,this);oM.set(this,n)}return r})();["observe","unobserve","disconnect"].forEach(function(r){sM.prototype[r]=function(){var e;return(e=oM.get(this))[r].apply(e,arguments)}});var H6e=(function(){return typeof ym.ResizeObserver<"u"?ym.ResizeObserver:sM})(),V6e=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.execCommand=function(t){var n=Bo(t.target,"li");this.props.execCommand("heading",{level:Number(n.getAttribute("data-level"))})},e.prototype.render=function(){var t=this;return dr(GC||(GC=fr([`
      <ul
        onClick=`,`
        aria-role="menu"
        aria-label="`,`"
      >
        `,`
        <li data-type="Paragraph" aria-role="menuitem">
          <div>`,`</div>
        </li>
      </ul>
    `],[`
      <ul
        onClick=`,`
        aria-role="menu"
        aria-label="`,`"
      >
        `,`
        <li data-type="Paragraph" aria-role="menuitem">
          <div>`,`</div>
        </li>
      </ul>
    `])),function(n){return t.execCommand(n)},Xt.get("Headings"),[1,2,3,4,5,6].map(function(n){return dr(jC||(jC=fr([`
              <li data-level="`,`" data-type="Heading" aria-role="menuitem">
                <`,">"," ",`</$>
              </li>
            `],[`
              <li data-level="`,`" data-type="Heading" aria-role="menuitem">
                <`,">"," ",`</$>
              </li>
            `])),n,"h"+n,Xt.get("Heading"),n)}),Xt.get("Paragraph"))},e})(gi),jC,GC,lM=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.toggleTab=function(t,n){this.props.onClick(t,n)},e.prototype.render=function(){var t=this;return dr(JC||(JC=fr([`
      <div class="`,`" aria-role="tabpanel">
        `,`
      </div>
    `],[`
      <div class="`,`" aria-role="tabpanel">
        `,`
      </div>
    `])),Et("tabs"),this.props.tabs.map(function(n){var i=n.name,a=n.text,s=t.props.activeTab===i;return dr(KC||(KC=fr([`
            <div
              class="tab-item`,`"
              onClick=`,`
              aria-role="tab"
              aria-label="`,`"
              aria-selected="`,`"
              tabindex="`,`"
            >
              `,`
            </div>
          `],[`
            <div
              class="tab-item`,`"
              onClick=`,`
              aria-role="tab"
              aria-label="`,`"
              aria-selected="`,`"
              tabindex="`,`"
            >
              `,`
            </div>
          `])),s?" active":"",function(u){return t.toggleTab(u,i)},Xt.get(a),s?"true":"false",s?"0":"-1",Xt.get(a))}))},e})(gi),KC,JC,$6e="ui",U6e=(function(r){wt(e,r);function e(t){var n=r.call(this,t)||this;return n.initialize=function(i){i===void 0&&(i="file");var a=n.refs.url;a.value="",n.refs.altText.value="",n.refs.file.value="",Qa(a,"wrong"),n.setState({activeTab:i,file:null,fileNameElClassName:""})},n.execCommand=function(){n.state.activeTab==="file"?n.emitAddImageBlob():n.emitAddImage()},n.toggleTab=function(i,a){a!==n.state.activeTab&&n.initialize(a)},n.showFileSelectBox=function(){n.refs.file.click()},n.changeFile=function(i){var a=i.target.files;a?.length&&n.setState({file:a[0]})},n.state={activeTab:"file",file:null,fileNameElClassName:""},n.tabs=[{name:"file",text:"File"},{name:"url",text:"URL"}],n}return e.prototype.emitAddImageBlob=function(){var t=this,n=this.refs.file.files,i=this.refs.altText,a=" wrong";if(n?.length){a="";var s=n.item(0),u=function(f,p){return t.props.execCommand("addImage",{imageUrl:f,altText:p||i.value})};this.props.eventEmitter.emit("addImageBlobHook",s,u,$6e)}this.setState({fileNameElClassName:a})},e.prototype.emitAddImage=function(){var t=this.refs.url,n=this.refs.altText,i=t.value,a=n.value||"image";if(Qa(t,"wrong"),!i.length){Po(t,"wrong");return}i&&this.props.execCommand("addImage",{imageUrl:i,altText:a})},e.prototype.preventSelectStart=function(t){t.preventDefault()},e.prototype.updated=function(){this.props.show||this.initialize()},e.prototype.render=function(){var t=this,n=this.state,i=n.activeTab,a=n.file,s=n.fileNameElClassName;return dr(QC||(QC=fr([`
      <div aria-label="`,`">
        <`," tabs="," activeTab="," onClick=",` />
        <div style="display:`,`">
          <label for="toastuiImageUrlInput">`,`</label>
          <input
            id="toastuiImageUrlInput"
            type="text"
            ref=`,`
          />
        </div>
        <div style="display:`,`;position: relative;">
          <label for="toastuiImageFileInput">`,`</label>
          <span
            class="`,"",`"
            onClick=`,`
            onSelectstart=`,`
          >
            `,`
          </span>
          <button
            type="button"
            class="`,`"
            onClick=`,`
          >
            `,`
          </button>
          <input
            id="toastuiImageFileInput"
            type="file"
            accept="image/*"
            onChange=`,`
            ref=`,`
          />
        </div>
        <label for="toastuiAltTextInput">`,`</label>
        <input
          id="toastuiAltTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `],[`
      <div aria-label="`,`">
        <`," tabs="," activeTab="," onClick=",` />
        <div style="display:`,`">
          <label for="toastuiImageUrlInput">`,`</label>
          <input
            id="toastuiImageUrlInput"
            type="text"
            ref=`,`
          />
        </div>
        <div style="display:`,`;position: relative;">
          <label for="toastuiImageFileInput">`,`</label>
          <span
            class="`,"",`"
            onClick=`,`
            onSelectstart=`,`
          >
            `,`
          </span>
          <button
            type="button"
            class="`,`"
            onClick=`,`
          >
            `,`
          </button>
          <input
            id="toastuiImageFileInput"
            type="file"
            accept="image/*"
            onChange=`,`
            ref=`,`
          />
        </div>
        <label for="toastuiAltTextInput">`,`</label>
        <input
          id="toastuiAltTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `])),Xt.get("Insert image"),lM,this.tabs,i,this.toggleTab,i==="url"?"block":"none",Xt.get("Image URL"),function(u){return t.refs.url=u},i==="file"?"block":"none",Xt.get("Select image file"),Et("file-name"),a?" has-file":s,this.showFileSelectBox,this.preventSelectStart,a?a.name:Xt.get("No file"),Et("file-select-button"),this.showFileSelectBox,Xt.get("Choose a file"),this.changeFile,function(u){return t.refs.file=u},Xt.get("Description"),function(u){return t.refs.altText=u},Et("button-container"),Et("close-button"),this.props.hidePopup,Xt.get("Cancel"),Et("ok-button"),this.execCommand,Xt.get("OK"))},e})(gi),QC,W6e=(function(r){wt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.execCommand=function(){var n=t.refs.url,i=t.refs.text;if(Qa(n,"wrong"),Qa(i,"wrong"),n.value.length<1){Po(n,"wrong");return}var a=eo(t.props.initialValues.linkUrl);if(a&&i.value.length<1){Po(i,"wrong");return}t.props.execCommand("addLink",{linkUrl:n.value,linkText:i.value})},t}return e.prototype.initialize=function(){var t=this.props.initialValues,n=t.linkUrl,i=t.linkText,a=this.refs.url,s=this.refs.text;Qa(a,"wrong"),Qa(s,"wrong","disabled"),s.removeAttribute("disabled"),n&&(Po(s,"disabled"),s.setAttribute("disabled","disabled")),a.value=n||"",s.value=i||""},e.prototype.mounted=function(){this.initialize()},e.prototype.updated=function(t){!t.show&&this.props.show&&this.initialize()},e.prototype.render=function(){var t=this;return dr(XC||(XC=fr([`
      <div aria-label="`,`">
        <label for="toastuiLinkUrlInput">`,`</label>
        <input
          id="toastuiLinkUrlInput"
          type="text"
          ref=`,`
        />
        <label for="toastuiLinkTextInput">`,`</label>
        <input
          id="toastuiLinkTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `],[`
      <div aria-label="`,`">
        <label for="toastuiLinkUrlInput">`,`</label>
        <input
          id="toastuiLinkUrlInput"
          type="text"
          ref=`,`
        />
        <label for="toastuiLinkTextInput">`,`</label>
        <input
          id="toastuiLinkTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `])),Xt.get("Insert link"),Xt.get("URL"),function(n){return t.refs.url=n},Xt.get("Link text"),function(n){return t.refs.text=n},Et("button-container"),Et("close-button"),this.props.hidePopup,Xt.get("Cancel"),Et("ok-button"),this.execCommand,Xt.get("OK"))},e})(gi),XC,YC=20,ZC=20,eT=5,tT=14,rT=5,nT=9,j6e=1,G6e=1,iT=1,K6e=(function(r){wt(e,r);function e(t){var n=r.call(this,t)||this;return n.extendSelectionRange=function(i){var a=i.pageX,s=i.pageY,u=a-n.offsetRect.left,f=s-n.offsetRect.top,p=n.getSelectionRangeByOffset(u,f);n.setState(Fe({},p))},n.execCommand=function(){n.props.execCommand("addTable",{rowCount:n.state.rowIdx+1,columnCount:n.state.colIdx+1})},n.state={rowIdx:-1,colIdx:-1},n}return e.prototype.getDescription=function(){return this.state.colIdx===-1?"":this.state.colIdx+1+" x "+(this.state.rowIdx+1)},e.prototype.getBoundByRange=function(t,n){return{width:(t+1)*YC,height:(n+1)*ZC}},e.prototype.getRangeByOffset=function(t,n){return{colIdx:Math.floor(t/YC),rowIdx:Math.floor(n/ZC)}},e.prototype.getTableRange=function(){var t=this.state,n=t.colIdx,i=t.rowIdx,a=Math.max(n,rT),s=Math.max(i,eT);return n>=rT&&a<nT&&(a+=1),i>=eT&&s<tT&&(s+=1),{colIdx:a+1,rowIdx:s+1}},e.prototype.getSelectionAreaBound=function(){var t=this.getBoundByRange(this.state.colIdx,this.state.rowIdx),n=t.width,i=t.height;return!n&&!i?{display:"none"}:{width:n-iT,height:i-iT,display:"block"}},e.prototype.getSelectionRangeByOffset=function(t,n){var i=this.getRangeByOffset(t,n);return i.rowIdx=Math.min(Math.max(i.rowIdx,j6e),tT),i.colIdx=Math.min(Math.max(i.colIdx,G6e),nT),i},e.prototype.updated=function(){if(!this.props.show)this.setState({colIdx:-1,rowIdx:-1});else if(this.state.colIdx===-1&&this.state.rowIdx===-1){var t=this.refs.tableEl.getBoundingClientRect(),n=t.left,i=t.top;this.offsetRect={left:window.pageXOffset+n,top:window.pageYOffset+i}}},e.prototype.createTableArea=function(t){for(var n=t.colIdx,i=t.rowIdx,a=[],s=0;s<i;s+=1){for(var u=[],f=0;f<n;f+=1){var p=""+Et("table-cell")+(s>0?"":" header");u.push(dr(aT||(aT=fr(['<div class="','"></div>'],['<div class="','"></div>'])),p))}a.push(dr(oT||(oT=fr(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),Et("table-row"),u))}return dr(sT||(sT=fr(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),Et("table"),a)},e.prototype.render=function(){var t=this,n=this.getTableRange(),i=this.getSelectionAreaBound();return dr(lT||(lT=fr([`
      <div aria-label="`,`">
        <div
          class="`,`"
          ref=`,`
          onMousemove=`,`
          onClick=`,`
        >
          `,`
          <div class="`,'" style=',`></div>
        </div>
        <p class="`,'">',`</p>
      </div>
    `],[`
      <div aria-label="`,`">
        <div
          class="`,`"
          ref=`,`
          onMousemove=`,`
          onClick=`,`
        >
          `,`
          <div class="`,'" style=',`></div>
        </div>
        <p class="`,'">',`</p>
      </div>
    `])),Xt.get("Insert table"),Et("table-selection"),function(a){return t.refs.tableEl=a},this.extendSelectionRange,this.execCommand,this.createTableArea(n),Et("table-selection-layer"),i,Et("table-description"),this.getDescription())},e})(gi),aT,oT,sT,lT,J6e=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.mounted=function(){this.refs.el.appendChild(this.props.body)},e.prototype.updated=function(t){this.refs.el.replaceChild(this.props.body,t.body)},e.prototype.render=function(){var t=this;return dr(uT||(uT=fr(["<div ref=","></div>"],["<div ref=","></div>"])),function(n){return t.refs.el=n})},e})(gi),uT;function q0(r){return Rs(r)?X6e(r):r}function Q6e(){var r=document.createElement("label"),e=document.createElement("input"),t=document.createElement("span");r.className="scroll-sync active",e.type="checkbox",e.checked=!0,t.className="switch";var n=function(i){return e.addEventListener("change",function(a){var s=a.target.checked;s?Po(r,"active"):Qa(r,"active"),i("toggleScrollSync",{active:s})})};return r.appendChild(e),r.appendChild(t),{name:"scrollSync",el:r,onMounted:n}}function X6e(r){var e;switch(r){case"heading":e={name:"heading",className:"heading",tooltip:Xt.get("Headings"),state:"heading"};break;case"bold":e={name:"bold",className:"bold",command:"bold",tooltip:Xt.get("Bold"),state:"strong"};break;case"italic":e={name:"italic",className:"italic",command:"italic",tooltip:Xt.get("Italic"),state:"emph"};break;case"strike":e={name:"strike",className:"strike",command:"strike",tooltip:Xt.get("Strike"),state:"strike"};break;case"hr":e={name:"hr",className:"hrline",command:"hr",tooltip:Xt.get("Line"),state:"thematicBreak"};break;case"quote":e={name:"quote",className:"quote",command:"blockQuote",tooltip:Xt.get("Blockquote"),state:"blockQuote"};break;case"ul":e={name:"ul",className:"bullet-list",command:"bulletList",tooltip:Xt.get("Unordered list"),state:"bulletList"};break;case"ol":e={name:"ol",className:"ordered-list",command:"orderedList",tooltip:Xt.get("Ordered list"),state:"orderedList"};break;case"task":e={name:"task",className:"task-list",command:"taskList",tooltip:Xt.get("Task"),state:"taskList"};break;case"table":e={name:"table",className:"table",tooltip:Xt.get("Insert table"),state:"table"};break;case"image":e={name:"image",className:"image",tooltip:Xt.get("Insert image")};break;case"link":e={name:"link",className:"link",tooltip:Xt.get("Insert link")};break;case"code":e={name:"code",className:"code",command:"code",tooltip:Xt.get("Code"),state:"code"};break;case"codeblock":e={name:"codeblock",className:"codeblock",command:"codeBlock",tooltip:Xt.get("Insert CodeBlock"),state:"codeBlock"};break;case"indent":e={name:"indent",className:"indent",command:"indent",tooltip:Xt.get("Indent"),state:"indent"};break;case"outdent":e={name:"outdent",className:"outdent",command:"outdent",tooltip:Xt.get("Outdent"),state:"outdent"};break;case"scrollSync":e=Q6e();break;case"more":e={name:"more",className:"more",tooltip:Xt.get("More")};break}return e.name!=="scrollSync"&&(e.className+=" "+Et("toolbar-icons")),e}function Bk(r,e){var t=e.el,n=e.pos,i=e.popup,a=e.initialValues;switch(r){case"heading":return{render:function(s){return dr(cT||(cT=fr(["<"," ..."," />"],["<"," ..."," />"])),V6e,s)},className:Et("popup-add-heading"),fromEl:t,pos:n};case"link":return{render:function(s){return dr(fT||(fT=fr(["<"," ..."," />"],["<"," ..."," />"])),W6e,s)},className:Et("popup-add-link"),fromEl:t,pos:n,initialValues:a};case"image":return{render:function(s){return dr(dT||(dT=fr(["<"," ..."," />"],["<"," ..."," />"])),U6e,s)},className:Et("popup-add-image"),fromEl:t,pos:n};case"table":return{render:function(s){return dr(hT||(hT=fr(["<"," ..."," />"],["<"," ..."," />"])),K6e,s)},className:Et("popup-add-table"),fromEl:t,pos:n};case"customPopupBody":return i?Fe({render:function(s){return dr(pT||(pT=fr(["<"," ..."," body="," />"],["<"," ..."," body="," />"])),J6e,s,i.body)},fromEl:t,pos:n},i):null;default:return null}}function wm(r){r.hidden=r.length===r.filter(function(e){return e.hidden}).length}function Y6e(r,e){var t=function(n){return n.hidden=n.name==="scrollSync"&&e,n};return r.reduce(function(n,i){n.push(i.map(function(s){return t(q0(s))}));var a=n[(n.length||1)-1];return a&&wm(a),n},[])}function Z6e(r,e){r.forEach(function(t){t.forEach(function(n){return n.hidden=n.name==="scrollSync"&&e}),wm(t)})}var cT,fT,dT,hT,pT,e9e=20,t9e=(function(r){wt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.handleMousedown=function(n){!Bo(n.target,"."+Et("popup"))&&!Bo(n.target,t.props.info.fromEl)&&t.props.hidePopup()},t}return e.prototype.mounted=function(){document.addEventListener("mousedown",this.handleMousedown),this.props.eventEmitter.listen("closePopup",this.props.hidePopup)},e.prototype.beforeDestroy=function(){document.removeEventListener("mousedown",this.handleMousedown)},e.prototype.updated=function(t){var n=this.props,i=n.show,a=n.info;if(i&&a.pos&&t.show!==i){var s=Fe({},a.pos),u=this.refs.el.offsetWidth,f=Bo(this.refs.el,"."+Et("toolbar")),p=f.offsetWidth;s.left+u>=p&&(s.left=p-u-e9e),uk(this.state.popupPos,s)||this.setState({popupPos:s})}},e.prototype.render=function(){var t=this,n=this.props,i=n.info,a=n.show,s=n.hidePopup,u=n.eventEmitter,f=n.execCommand,p=i||{},y=p.className,T=y===void 0?"":y,N=p.style,O=p.render,A=p.initialValues,z=A===void 0?{}:A,H=Fe(Fe({display:a?"block":"none"},N),this.state.popupPos);return dr(vT||(vT=fr([`
      <div
        class="`," ",`"
        style=`,`
        ref=`,`
        aria-role="dialog"
      >
        <div class="`,`">
          `,`
        </div>
      </div>
    `],[`
      <div
        class="`," ",`"
        style=`,`
        ref=`,`
        aria-role="dialog"
      >
        <div class="`,`">
          `,`
        </div>
      </div>
    `])),Et("popup"),T,H,function(j){return t.refs.el=j},Et("popup-body"),O&&O({eventEmitter:u,show:a,hidePopup:s,execCommand:f,initialValues:z}))},e})(gi),vT,mT=6;function Fk(r){return(function(e){wt(t,e);function t(n){var i=e.call(this,n)||this;return i.showTooltip=function(a){var s=i.props.item.tooltip;if(!i.props.disabled&&s){var u=i.getBound(a),f=u.left+mT+"px",p=u.top+mT+"px";qo(i.props.tooltipRef.current,{display:"block",left:f,top:p}),i.props.tooltipRef.current.querySelector(".text").textContent=s}},i.hideTooltip=function(){qo(i.props.tooltipRef.current,"display","none")},i.state={active:!1,disabled:n.disabled},i.addEvent(),i}return t.prototype.addEvent=function(){var n=this,i=this.props,a=i.item,s=i.eventEmitter;a.state&&s.listen("changeToolbarState",function(u){var f,p=u.toolbarState,y=(f=p[a.state])!==null&&f!==void 0?f:{},T=y.active,N=y.disabled;n.setState({active:!!T,disabled:N??n.props.disabled})})},t.prototype.getBound=function(n){var i=Nx(n,Bo(n,"."+Et("toolbar"))),a=i.offsetLeft,s=i.offsetTop;return{left:a,top:n.offsetHeight+s}},t.prototype.render=function(){return dr(gT||(gT=fr([`
        <`,`
          ...`,`
          active=`,`
          showTooltip=`,`
          hideTooltip=`,`
          getBound=`,`
          disabled=`,`
        />
      `],[`
        <`,`
          ...`,`
          active=`,`
          showTooltip=`,`
          hideTooltip=`,`
          getBound=`,`
          disabled=`,`
        />
      `])),r,this.props,this.state.active,this.showTooltip,this.hideTooltip,this.getBound,this.state.disabled||this.props.disabled)},t})(gi)}var gT,r9e=80,n9e=(function(r){wt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.showTooltip=function(){t.props.showTooltip(t.refs.el)},t.execCommand=function(){var n=t.props,i=n.item,a=n.execCommand,s=n.setPopupInfo,u=n.getBound,f=n.eventEmitter,p=i.command,y=i.name,T=i.popup;if(p)a(p);else{var N=T?"customPopupBody":y,O=f.emit("query","getPopupInitialValues",{popupName:N})[0],A=Bk(N,{el:t.refs.el,pos:u(t.refs.el),popup:T,initialValues:O});A&&s(A)}},t}return e.prototype.mounted=function(){this.setItemWidth()},e.prototype.updated=function(t){t.item.name!==this.props.item.name&&this.setItemWidth()},e.prototype.setItemWidth=function(){var t=this.props,n=t.setItemWidth,i=t.item;n&&n(i.name,yk(this.refs.el)+(i.hidden?r9e:0))},e.prototype.render=function(){var t=this,n=this.props,i=n.hideTooltip,a=n.disabled,s=n.item,u=n.active,f=Fe({display:s.hidden?"none":null},s.style),p=""+(s.className||"")+(u?" active":"");return dr(yT||(yT=fr([`
      <button
        ref=`,`
        type="button"
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
        disabled=`,`
        aria-label=`,`
      >
        `,`
      </button>
    `],[`
      <button
        ref=`,`
        type="button"
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
        disabled=`,`
        aria-label=`,`
      >
        `,`
      </button>
    `])),function(y){return t.refs.el=y},f,p,this.execCommand,this.showTooltip,i,!!a,s.text||s.tooltip||"",s.text||"")},e})(gi),i9e=Fk(n9e),yT,a9e=(function(r){wt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.showTooltip=function(){t.props.showTooltip(t.refs.el)},t.showPopup=function(){var n=Bk("customPopupBody",{el:t.refs.el,pos:t.props.getBound(t.refs.el),popup:t.props.item.popup});n&&t.props.setPopupInfo(n)},t}return e.prototype.mounted=function(){var t=this.props,n=t.setItemWidth,i=t.item;this.refs.el.appendChild(i.el),n&&n(i.name,yk(this.refs.el)),i.onMounted&&i.onMounted(this.props.execCommand)},e.prototype.updated=function(t){var n,i=this.props,a=i.item,s=i.active,u=i.disabled;(t.active!==s||t.disabled!==u)&&((n=a.onUpdated)===null||n===void 0||n.call(a,{active:s,disabled:u}))},e.prototype.render=function(){var t=this,n=this.props,i=n.disabled,a=n.item,s={display:a.hidden?"none":"inline-block"},u=function(f){return i?null:f};return dr(kT||(kT=fr([`
      <div
        ref=`,`
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
      ></div>
    `],[`
      <div
        ref=`,`
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
      ></div>
    `])),function(f){return t.refs.el=f},s,Et("toolbar-item-wrapper"),u(this.showPopup),u(this.showTooltip),u(this.props.hideTooltip))},e})(gi),o9e=Fk(a9e),kT,uM=(function(r){wt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.render=function(){var t=this,n=this.props,i=n.group,a=n.hiddenDivider,s=i.hidden?{display:"none"}:null,u=a?{display:"none"}:null;return dr(bT||(bT=fr([`
      <div class="`,'" style=',`>
        `,`
        <div class="`,'" style=',`></div>
      </div>
    `],[`
      <div class="`,'" style=',`>
        `,`
        <div class="`,'" style=',`></div>
      </div>
    `])),Et("toolbar-group"),s,i.map(function(f){var p=f.el?o9e:i9e;return dr(wT||(wT=fr(["<"," key="," ..."," item="," />"],["<"," key="," ..."," item="," />"])),p,f.name,t.props,f)}),Et("toolbar-divider"),u)},e})(gi),wT,bT,s9e=4,l9e=(function(r){wt(e,r);function e(t){var n=r.call(this,t)||this;return n.handleClickDocument=function(i){var a=i.target;!Bo(a,"."+Et("dropdown-toolbar"))&&!Bo(a,".more")&&n.setState({showDropdown:!1,dropdownPos:null})},n.showTooltip=function(){n.props.showTooltip(n.refs.el)},n.state={showDropdown:!1,dropdownPos:null},n}return e.prototype.getBound=function(){var t=this.props.getBound(this.refs.el);return t.top+=s9e,Fe(Fe({},t),{left:null,right:10})},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.updated=function(){this.state.showDropdown&&!this.state.dropdownPos&&this.setState({dropdownPos:this.getBound()})},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.render=function(){var t=this,n=this.state,i=n.showDropdown,a=n.dropdownPos,s=this.props,u=s.disabled,f=s.item,p=s.items,y=s.hideTooltip,T=p.filter(function(A){return!A.hidden}),N=T.length?null:{display:"none"},O=i?null:{display:"none"};return dr(TT||(TT=fr([`
      <div class="`,'" style=',`>
        <button
          ref=`,`
          type="button"
          class=`,`
          onClick=`,`
          onMouseover=`,`
          onMouseout=`,`
          disabled=`,`
        ></button>
        <div
          class="`,`"
          style=`,`
          ref=`,`
        >
          `,`
        </div>
      </div>
    `],[`
      <div class="`,'" style=',`>
        <button
          ref=`,`
          type="button"
          class=`,`
          onClick=`,`
          onMouseover=`,`
          onMouseout=`,`
          disabled=`,`
        ></button>
        <div
          class="`,`"
          style=`,`
          ref=`,`
        >
          `,`
        </div>
      </div>
    `])),Et("toolbar-group"),N,function(A){return t.refs.el=A},f.className,function(){return t.setState({showDropdown:!0})},this.showTooltip,y,u,Et("dropdown-toolbar"),Fe(Fe({},O),a),function(A){return t.refs.dropdownEl=A},T.length?T.map(function(A,z){var H;return dr(CT||(CT=fr([`
                  <`,`
                    group=`,`
                    hiddenDivider=`,`
                    ...`,`
                  />
                `],[`
                  <`,`
                    group=`,`
                    hiddenDivider=`,`
                    ...`,`
                  />
                `])),uM,A,z===T.length-1||((H=T[z+1])===null||H===void 0?void 0:H.hidden),t.props)}):null)},e})(gi),u9e=Fk(l9e),CT,TT,c9e=50,f9e=(function(r){wt(e,r);function e(t){var n=r.call(this,t)||this;return n.toggleTab=function(i,a){var s=n.props.eventEmitter;if(n.state.activeTab!==a){var u=a==="write"?"changePreviewTabWrite":"changePreviewTabPreview";s.emit(u),n.setState({activeTab:a})}},n.setItemWidth=function(i,a){n.itemWidthMap[i]=a},n.setPopupInfo=function(i){n.setState({showPopup:!0,popupInfo:i})},n.openPopup=function(i,a){a===void 0&&(a={});var s=n.refs.el.querySelector("."+Et("toolbar-group")+" ."+i);if(s){var u=Nx(s,Bo(s,"."+Et("toolbar"))),f=u.offsetLeft,p=u.offsetTop,y=Bk(i,{el:s,pos:{left:f,top:s.offsetHeight+p},initialValues:a});y&&n.setPopupInfo(y)}},n.hidePopup=function(){n.state.showPopup&&n.setState({showPopup:!1})},n.execCommand=function(i,a){var s=n.props.eventEmitter;s.emit("command",i,a),n.hidePopup()},n.tabs=[{name:"write",text:"Write"},{name:"preview",text:"Preview"}],n.itemWidthMap={},n.initialItems=Y6e(t.toolbarItems||[],n.hiddenScrollSync()),n.state={items:n.initialItems,dropdownItems:[],showPopup:!1,popupInfo:{},activeTab:"write"},n.tooltipRef={current:null},n.resizeObserver=new H6e(function(){return n.handleResize()}),n.addEvent(),n}return e.prototype.insertToolbarItem=function(t,n){var i=t.groupIndex,a=t.itemIndex,s=this.initialItems[i];n=q0(n),s?s.splice(a,0,n):this.initialItems.push([n]),this.setState(this.classifyToolbarItems())},e.prototype.removeToolbarItem=function(t){var n=this;lf(this.initialItems,function(i){var a=!1;return lf(i,function(s,u){return s.name===t?(a=!0,i.splice(u,1),n.setState(n.classifyToolbarItems()),!1):!0}),!a})},e.prototype.addEvent=function(){var t=this,n=this.props.eventEmitter;this.handleResize=T6e(function(){t.setState({items:t.initialItems,dropdownItems:[]}),t.setState(t.classifyToolbarItems())},200),n.listen("openPopup",this.openPopup)},e.prototype.appendTooltipToRoot=function(){var t='<div class="'+Et("tooltip")+`" style="display:none">
        <div class="arrow"></div>
        <span class="text"></span>
      </div>`;this.tooltipRef.current=Mx(t,this.refs.el)},e.prototype.hiddenScrollSync=function(){return this.props.editorType==="wysiwyg"||this.props.previewStyle==="tab"},e.prototype.movePrevItemToDropdownToolbar=function(t,n,i,a){var s=function(f){var p=f.pop();p&&a.push(p)};if(t>1)s(i);else{var u=vi(n);u&&s(u)}},e.prototype.classifyToolbarItems=function(){var t=this,n=0,i=this.refs.el.clientWidth,a=this.refs.el.querySelector("."+Et("toolbar-divider")),s=a?yk(a):0,u=[],f=[],p=!1;return this.initialItems.forEach(function(y,T){var N=[],O=[];y.forEach(function(A,z){A.hidden||(n+=t.itemWidthMap[A.name],n>i-c9e?(p||(t.movePrevItemToDropdownToolbar(z,u,N,O),p=!0),O.push(A)):N.push(A))}),N.length&&(wm(N),u.push(N)),O.length&&(wm(O),f.push(O)),T<t.state.items.length-1&&(n+=s)}),{items:u,dropdownItems:f}},e.prototype.mounted=function(){this.props.previewStyle==="tab"&&this.props.eventEmitter.emit("changePreviewTabWrite",!0),this.setState(this.classifyToolbarItems()),this.appendTooltipToRoot(),this.resizeObserver.observe(this.refs.el)},e.prototype.updated=function(t){var n=this.props,i=n.editorType,a=n.previewStyle,s=n.eventEmitter,u=a!==t.previewStyle,f=i!==t.editorType;if(u||f){Z6e(this.initialItems,this.hiddenScrollSync());var p=this.classifyToolbarItems();(u||a==="tab"&&i==="markdown")&&(s.emit("changePreviewTabWrite"),p.activeTab="write"),this.setState(p)}},e.prototype.beforeDestroy=function(){window.removeEventListener("resize",this.handleResize),this.resizeObserver.disconnect(),Du(this.tooltipRef.current)},e.prototype.render=function(){var t=this,n=this.props,i=n.previewStyle,a=n.eventEmitter,s=n.editorType,u=this.state,f=u.popupInfo,p=u.showPopup,y=u.activeTab,T=u.items,N=u.dropdownItems,O={eventEmitter:a,tooltipRef:this.tooltipRef,disabled:s==="markdown"&&i==="tab"&&y==="preview",execCommand:this.execCommand,setPopupInfo:this.setPopupInfo},A=i==="tab"?{borderTopLeftRadius:0}:null;return dr(xT||(xT=fr([`
      <div class="`,`">
        <div
          class="`,`"
          style="display: `,`"
        >
          <`," tabs="," activeTab="," onClick=",` />
        </div>
        <div
          class="`,`"
          ref=`,`
          style=`,`
        >
          `,`
          <`,`
            item=`,`
            items=`,`
            ...`,`
          />
        </div>
        <`,`
          info=`,`
          show=`,`
          eventEmitter=`,`
          hidePopup=`,`
          execCommand=`,`
        />
      </div>
    `],[`
      <div class="`,`">
        <div
          class="`,`"
          style="display: `,`"
        >
          <`," tabs="," activeTab="," onClick=",` />
        </div>
        <div
          class="`,`"
          ref=`,`
          style=`,`
        >
          `,`
          <`,`
            item=`,`
            items=`,`
            ...`,`
          />
        </div>
        <`,`
          info=`,`
          show=`,`
          eventEmitter=`,`
          hidePopup=`,`
          execCommand=`,`
        />
      </div>
    `])),Et("toolbar"),Et("md-tab-container"),s==="wysiwyg"||i==="vertical"?"none":"block",lM,this.tabs,y,this.toggleTab,Et("defaultUI-toolbar"),function(z){return t.refs.el=z},A,T.map(function(z,H){var j;return dr(ST||(ST=fr([`
              <`,`
                group=`,`
                hiddenDivider=`,`
                setItemWidth=`,`
                ...`,`
              />
            `],[`
              <`,`
                group=`,`
                hiddenDivider=`,`
                setItemWidth=`,`
                ...`,`
              />
            `])),uM,z,H===T.length-1||((j=T[H+1])===null||j===void 0?void 0:j.hidden),t.setItemWidth,O)}),u9e,q0("more"),N,O,t9e,f,p,a,this.hidePopup,this.execCommand)},e})(gi),ST,xT,d9e=(function(r){wt(e,r);function e(t){var n=r.call(this,t)||this;return n.handleClickDocument=function(i){Bo(i.target,"."+Et("context-menu"))||n.setState({pos:null})},n.state={pos:null,menuGroups:[]},n.addEvent(),n}return e.prototype.addEvent=function(){var t=this;this.props.eventEmitter.listen("contextmenu",function(n){var i=n.pos,a=n.menuGroups;t.setState({pos:i,menuGroups:a})})},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.getMenuGroupElements=function(){var t=this,n=this.state,i=n.pos,a=n.menuGroups;return i?a.reduce(function(s,u){var f=[];return u.forEach(function(p){var y=p.label,T=p.className,N=T===void 0?!1:T,O=p.disabled,A=p.onClick,z=function(){O||(A(),t.setState({pos:null}))};f.push(dr(ET||(ET=fr([`
                <li
                  onClick=`,`
                  class="menu-item`,`"
                  aria-role="menuitem"
                >
                  <span class="`,'">',`</span>
                </li>
              `],[`
                <li
                  onClick=`,`
                  class="menu-item`,`"
                  aria-role="menuitem"
                >
                  <span class="`,'">',`</span>
                </li>
              `])),z,O?" disabled":"",N,y))}),s.push(dr(MT||(MT=fr([`<ul class="menu-group">
              `,`
            </ul>`],[`<ul class="menu-group">
              `,`
            </ul>`])),f)),s},[]):[]},e.prototype.render=function(){var t=Fe({display:this.state.pos?"block":"none"},this.state.pos);return dr(NT||(NT=fr(['<div class="','" style=',` aria-role="menu">
      `,`
    </div>`],['<div class="','" style=',` aria-role="menu">
      `,`
    </div>`])),Et("context-menu"),t,this.getMenuGroupElements())},e})(gi),ET,MT,NT,h9e=(function(r){wt(e,r);function e(t){var n=r.call(this,t)||this;n.changeMode=function(s){s!==n.state.editorType&&n.setState({editorType:s})},n.changePreviewStyle=function(s){s!==n.state.previewStyle&&n.setState({previewStyle:s})},n.hide=function(){n.setState({hide:!0})},n.show=function(){n.setState({hide:!1})};var i=t.editorType,a=t.previewStyle;return n.state={editorType:i,previewStyle:a,hide:!1},n.addEvent(),n}return e.prototype.mounted=function(){var t=this.props.slots,n=t.wwEditor,i=t.mdEditor,a=t.mdPreview;this.refs.wwContainer.appendChild(n),this.refs.mdContainer.insertAdjacentElement("afterbegin",i),this.refs.mdContainer.appendChild(a)},e.prototype.insertToolbarItem=function(t,n){this.toolbar.insertToolbarItem(t,n)},e.prototype.removeToolbarItem=function(t){this.toolbar.removeToolbarItem(t)},e.prototype.render=function(){var t=this,n=this.props,i=n.eventEmitter,a=n.hideModeSwitch,s=n.toolbarItems,u=n.theme,f=this.state,p=f.hide,y=f.previewStyle,T=f.editorType,N=p?" hidden":"",O=Et(T==="markdown"?"md-mode":"ww-mode"),A=Et("md")+"-"+y+"-style",z=Et([u!=="light",u+" "]);return dr(DT||(DT=fr([`
      <div
        class="`,"","",`"
        ref=`,`
      >
        <`,`
          ref=`,`
          eventEmitter=`,`
          previewStyle=`,`
          toolbarItems=`,`
          editorType=`,`
        />
        <div
          class="`," ",`"
          ref=`,`
        >
          <div class="`,`">
            <div
              class="`," ",`"
              ref=`,`
            >
              <div class="`,`"></div>
            </div>
            <div
              class="`,`"
              ref=`,`
            />
          </div>
        </div>
        `,`
        <`," eventEmitter=",` />
      </div>
    `],[`
      <div
        class="`,"","",`"
        ref=`,`
      >
        <`,`
          ref=`,`
          eventEmitter=`,`
          previewStyle=`,`
          toolbarItems=`,`
          editorType=`,`
        />
        <div
          class="`," ",`"
          ref=`,`
        >
          <div class="`,`">
            <div
              class="`," ",`"
              ref=`,`
            >
              <div class="`,`"></div>
            </div>
            <div
              class="`,`"
              ref=`,`
            />
          </div>
        </div>
        `,`
        <`," eventEmitter=",` />
      </div>
    `])),z,Et("defaultUI"),N,function(H){return t.refs.el=H},f9e,function(H){return t.toolbar=H},i,y,s,T,Et("main"),O,function(H){return t.refs.editorSection=H},Et("main-container"),Et("md-container"),A,function(H){return t.refs.mdContainer=H},Et("md-splitter"),Et("ww-container"),function(H){return t.refs.wwContainer=H},!a&&dr(OT||(OT=fr(["<"," eventEmitter="," editorType="," />"],["<"," eventEmitter="," editorType="," />"])),y6e,i,T),d9e,i)},e.prototype.addEvent=function(){var t=this.props.eventEmitter;t.listen("hide",this.hide),t.listen("show",this.show),t.listen("changeMode",this.changeMode),t.listen("changePreviewStyle",this.changePreviewStyle)},e})(gi),OT,DT,p9e=(function(r){wt(e,r);function e(t){var n,i=r.call(this,t)||this,a,s=g6e(i.options.el,dr(AT||(AT=fr([`
        <`,`
          ref=`,`
          eventEmitter=`,`
          slots=`,`
          hideModeSwitch=`,`
          toolbarItems=`,`
          previewStyle=`,`
          editorType=`,`
          theme=`,`
        />
      `],[`
        <`,`
          ref=`,`
          eventEmitter=`,`
          slots=`,`
          hideModeSwitch=`,`
          toolbarItems=`,`
          previewStyle=`,`
          editorType=`,`
          theme=`,`
        />
      `])),h9e,function(u){return a=u},i.eventEmitter,i.getEditorElements(),i.options.hideModeSwitch,i.options.toolbarItems,i.options.previewStyle,i.options.initialEditType,i.options.theme));return i.setMinHeight(i.options.minHeight),i.setHeight(i.options.height),i.defaultUI={insertToolbarItem:a.insertToolbarItem.bind(a),removeToolbarItem:a.removeToolbarItem.bind(a),destroy:s},(n=i.pluginInfo.toolbarItems)===null||n===void 0||n.forEach(function(u){var f=u.groupIndex,p=u.itemIndex,y=u.item;i.defaultUI.insertToolbarItem({groupIndex:f,itemIndex:p},y)}),i.eventEmitter.emit("loadUI",i),i}return e.factory=function(t){return t.viewer?new XE(t):new e(t)},e.prototype.insertToolbarItem=function(t,n){this.defaultUI.insertToolbarItem(t,n)},e.prototype.removeToolbarItem=function(t){this.defaultUI.removeToolbarItem(t)},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.defaultUI.destroy()},e})(ZE),AT;ZE.setLanguage(["en","en-US"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Write",Preview:"Preview",Headings:"Headings",Paragraph:"Paragraph",Bold:"Bold",Italic:"Italic",Strike:"Strike",Code:"Inline code",Line:"Line",Blockquote:"Blockquote","Unordered list":"Unordered list","Ordered list":"Ordered list",Task:"Task",Indent:"Indent",Outdent:"Outdent","Insert link":"Insert link","Insert CodeBlock":"Insert codeBlock","Insert table":"Insert table","Insert image":"Insert image",Heading:"Heading","Image URL":"Image URL","Select image file":"Select image file","Choose a file":"Choose a file","No file":"No file",Description:"Description",OK:"OK",More:"More",Cancel:"Cancel",File:"File",URL:"URL","Link text":"Link text","Add row to up":"Add row to up","Add row to down":"Add row to down","Add column to left":"Add column to left","Add column to right":"Add column to right","Remove row":"Remove row","Remove column":"Remove column","Align column to left":"Align column to left","Align column to center":"Align column to center","Align column to right":"Align column to right","Remove table":"Remove table","Would you like to paste as table?":"Would you like to paste as table?","Text color":"Text color","Auto scroll enabled":"Auto scroll enabled","Auto scroll disabled":"Auto scroll disabled","Choose language":"Choose language"});var Jy={exports:{}},ji={},Ca={},Ni={},Qy,LT;function v9e(){if(LT)return Qy;LT=1;function r(e){this.content=e}return r.prototype={constructor:r,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var i=n&&n!=e?this.remove(n):this,a=i.find(e),s=i.content.slice();return a==-1?s.push(n||e,t):(s[a+1]=t,n&&(s[a]=n)),new r(s)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new r(n)},addToStart:function(e,t){return new r([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new r(n)},addBefore:function(e,t,n){var i=this.remove(t),a=i.content.slice(),s=i.find(e);return a.splice(s==-1?a.length:s,0,t,n),new r(a)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=r.from(e),e.size?new r(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=r.from(e),e.size?new r(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=r.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}},r.from=function(e){if(e instanceof r)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new r(t)},Qy=r,Qy}var RT;function Vm(){if(RT)return Ni;RT=1;function r(V,R){var b=typeof Symbol<"u"&&V[Symbol.iterator]||V["@@iterator"];if(!b){if(Array.isArray(V)||(b=e(V))||R){b&&(V=b);var E=0,B=function(){};return{s:B,n:function(){return E>=V.length?{done:!0}:{done:!1,value:V[E++]}},e:function(Oe){throw Oe},f:B}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var K=!0,Z=!1,ae;return{s:function(){b=b.call(V)},n:function(){var Oe=b.next();return K=Oe.done,Oe},e:function(Oe){Z=!0,ae=Oe},f:function(){try{!K&&b.return!=null&&b.return()}finally{if(Z)throw ae}}}}function e(V,R){if(V){if(typeof V=="string")return t(V,R);var b=Object.prototype.toString.call(V).slice(8,-1);if(b==="Object"&&V.constructor&&(b=V.constructor.name),b==="Map"||b==="Set")return Array.from(V);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return t(V,R)}}function t(V,R){(R==null||R>V.length)&&(R=V.length);for(var b=0,E=new Array(R);b<R;b++)E[b]=V[b];return E}function n(){return typeof Reflect<"u"&&Reflect.get?n=Reflect.get.bind():n=function(R,b,E){var B=i(R,b);if(B){var K=Object.getOwnPropertyDescriptor(B,b);return K.get?K.get.call(arguments.length<3?R:E):K.value}},n.apply(this,arguments)}function i(V,R){for(;!Object.prototype.hasOwnProperty.call(V,R)&&(V=A(V),V!==null););return V}function a(V,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");V.prototype=Object.create(R&&R.prototype,{constructor:{value:V,writable:!0,configurable:!0}}),Object.defineProperty(V,"prototype",{writable:!1}),R&&O(V,R)}function s(V){var R=T();return function(){var E=A(V),B;if(R){var K=A(this).constructor;B=Reflect.construct(E,arguments,K)}else B=E.apply(this,arguments);return u(this,B)}}function u(V,R){if(R&&(z(R)==="object"||typeof R=="function"))return R;if(R!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f(V)}function f(V){if(V===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V}function p(V){var R=typeof Map=="function"?new Map:void 0;return p=function(E){if(E===null||!N(E))return E;if(typeof E!="function")throw new TypeError("Super expression must either be null or a function");if(typeof R<"u"){if(R.has(E))return R.get(E);R.set(E,B)}function B(){return y(E,arguments,A(this).constructor)}return B.prototype=Object.create(E.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),O(B,E)},p(V)}function y(V,R,b){return T()?y=Reflect.construct.bind():y=function(B,K,Z){var ae=[null];ae.push.apply(ae,K);var ye=Function.bind.apply(B,ae),Oe=new ye;return Z&&O(Oe,Z.prototype),Oe},y.apply(null,arguments)}function T(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function N(V){try{return Function.toString.call(V).indexOf("[native code]")!==-1}catch{return typeof V=="function"}}function O(V,R){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,B){return E.__proto__=B,E},O(V,R)}function A(V){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(b){return b.__proto__||Object.getPrototypeOf(b)},A(V)}function z(V){"@babel/helpers - typeof";return z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},z(V)}function H(V,R){if(!(V instanceof R))throw new TypeError("Cannot call a class as a function")}function j(V,R){for(var b=0;b<R.length;b++){var E=R[b];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(V,le(E.key),E)}}function ie(V,R,b){return R&&j(V.prototype,R),b&&j(V,b),Object.defineProperty(V,"prototype",{writable:!1}),V}function le(V){var R=ve(V,"string");return z(R)==="symbol"?R:String(R)}function ve(V,R){if(z(V)!=="object"||V===null)return V;var b=V[Symbol.toPrimitive];if(b!==void 0){var E=b.call(V,R);if(z(E)!=="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(V)}var be=v9e();function me(V,R,b){for(var E=0;;E++){if(E==V.childCount||E==R.childCount)return V.childCount==R.childCount?null:b;var B=V.child(E),K=R.child(E);if(B==K){b+=B.nodeSize;continue}if(!B.sameMarkup(K))return b;if(B.isText&&B.text!=K.text){for(var Z=0;B.text[Z]==K.text[Z];Z++)b++;return b}if(B.content.size||K.content.size){var ae=me(B.content,K.content,b+1);if(ae!=null)return ae}b+=B.nodeSize}}function Ee(V,R,b,E){for(var B=V.childCount,K=R.childCount;;){if(B==0||K==0)return B==K?null:{a:b,b:E};var Z=V.child(--B),ae=R.child(--K),ye=Z.nodeSize;if(Z==ae){b-=ye,E-=ye;continue}if(!Z.sameMarkup(ae))return{a:b,b:E};if(Z.isText&&Z.text!=ae.text){for(var Oe=0,Qe=Math.min(Z.text.length,ae.text.length);Oe<Qe&&Z.text[Z.text.length-Oe-1]==ae.text[ae.text.length-Oe-1];)Oe++,b--,E--;return{a:b,b:E}}if(Z.content.size||ae.content.size){var je=Ee(Z.content,ae.content,b-1,E-1);if(je)return je}b-=ye,E-=ye}}var Ce=(function(){function V(R,b){if(H(this,V),this.content=R,this.size=b||0,b==null)for(var E=0;E<R.length;E++)this.size+=R[E].nodeSize}return ie(V,[{key:"nodesBetween",value:function(b,E,B){for(var K=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,Z=arguments.length>4?arguments[4]:void 0,ae=0,ye=0;ye<E;ae++){var Oe=this.content[ae],Qe=ye+Oe.nodeSize;if(Qe>b&&B(Oe,K+ye,Z||null,ae)!==!1&&Oe.content.size){var je=ye+1;Oe.nodesBetween(Math.max(0,b-je),Math.min(Oe.content.size,E-je),B,K+je)}ye=Qe}}},{key:"descendants",value:function(b){this.nodesBetween(0,this.size,b)}},{key:"textBetween",value:function(b,E,B,K){var Z="",ae=!0;return this.nodesBetween(b,E,function(ye,Oe){var Qe=ye.isText?ye.text.slice(Math.max(b,Oe)-Oe,E-Oe):ye.isLeaf?K?typeof K=="function"?K(ye):K:ye.type.spec.leafText?ye.type.spec.leafText(ye):"":"";ye.isBlock&&(ye.isLeaf&&Qe||ye.isTextblock)&&B&&(ae?ae=!1:Z+=B),Z+=Qe},0),Z}},{key:"append",value:function(b){if(!b.size)return this;if(!this.size)return b;var E=this.lastChild,B=b.firstChild,K=this.content.slice(),Z=0;for(E.isText&&E.sameMarkup(B)&&(K[K.length-1]=E.withText(E.text+B.text),Z=1);Z<b.content.length;Z++)K.push(b.content[Z]);return new V(K,this.size+b.size)}},{key:"cut",value:function(b){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.size;if(b==0&&E==this.size)return this;var B=[],K=0;if(E>b)for(var Z=0,ae=0;ae<E;Z++){var ye=this.content[Z],Oe=ae+ye.nodeSize;Oe>b&&((ae<b||Oe>E)&&(ye.isText?ye=ye.cut(Math.max(0,b-ae),Math.min(ye.text.length,E-ae)):ye=ye.cut(Math.max(0,b-ae-1),Math.min(ye.content.size,E-ae-1))),B.push(ye),K+=ye.nodeSize),ae=Oe}return new V(B,K)}},{key:"cutByIndex",value:function(b,E){return b==E?V.empty:b==0&&E==this.content.length?this:new V(this.content.slice(b,E))}},{key:"replaceChild",value:function(b,E){var B=this.content[b];if(B==E)return this;var K=this.content.slice(),Z=this.size+E.nodeSize-B.nodeSize;return K[b]=E,new V(K,Z)}},{key:"addToStart",value:function(b){return new V([b].concat(this.content),this.size+b.nodeSize)}},{key:"addToEnd",value:function(b){return new V(this.content.concat(b),this.size+b.nodeSize)}},{key:"eq",value:function(b){if(this.content.length!=b.content.length)return!1;for(var E=0;E<this.content.length;E++)if(!this.content[E].eq(b.content[E]))return!1;return!0}},{key:"firstChild",get:function(){return this.content.length?this.content[0]:null}},{key:"lastChild",get:function(){return this.content.length?this.content[this.content.length-1]:null}},{key:"childCount",get:function(){return this.content.length}},{key:"child",value:function(b){var E=this.content[b];if(!E)throw new RangeError("Index "+b+" out of range for "+this);return E}},{key:"maybeChild",value:function(b){return this.content[b]||null}},{key:"forEach",value:function(b){for(var E=0,B=0;E<this.content.length;E++){var K=this.content[E];b(K,B,E),B+=K.nodeSize}}},{key:"findDiffStart",value:function(b){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return me(this,b,E)}},{key:"findDiffEnd",value:function(b){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.size,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.size;return Ee(this,b,E,B)}},{key:"findIndex",value:function(b){if(b==0)return We(0,b);if(b==this.size)return We(this.content.length,b);if(b>this.size||b<0)throw new RangeError("Position ".concat(b," outside of fragment (").concat(this,")"));for(var E=0,B=0;;E++){var K=this.child(E),Z=B+K.nodeSize;if(Z>=b)return Z==b?We(E+1,Z):We(E,B);B=Z}}},{key:"toString",value:function(){return"<"+this.toStringInner()+">"}},{key:"toStringInner",value:function(){return this.content.join(", ")}},{key:"toJSON",value:function(){return this.content.length?this.content.map(function(b){return b.toJSON()}):null}}],[{key:"fromJSON",value:function(b,E){if(!E)return V.empty;if(!Array.isArray(E))throw new RangeError("Invalid input for Fragment.fromJSON");return new V(E.map(b.nodeFromJSON))}},{key:"fromArray",value:function(b){if(!b.length)return V.empty;for(var E,B=0,K=0;K<b.length;K++){var Z=b[K];B+=Z.nodeSize,K&&Z.isText&&b[K-1].sameMarkup(Z)?(E||(E=b.slice(0,K)),E[E.length-1]=Z.withText(E[E.length-1].text+Z.text)):E&&E.push(Z)}return new V(E||b,B)}},{key:"from",value:function(b){if(!b)return V.empty;if(b instanceof V)return b;if(Array.isArray(b))return this.fromArray(b);if(b.attrs)return new V([b],b.nodeSize);throw new RangeError("Can not convert "+b+" to a Fragment"+(b.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}]),V})();Ce.empty=new Ce([],0);var _e={index:0,offset:0};function We(V,R){return _e.index=V,_e.offset=R,_e}function Mt(V,R){if(V===R)return!0;if(!(V&&z(V)=="object")||!(R&&z(R)=="object"))return!1;var b=Array.isArray(V);if(Array.isArray(R)!=b)return!1;if(b){if(V.length!=R.length)return!1;for(var E=0;E<V.length;E++)if(!Mt(V[E],R[E]))return!1}else{for(var B in V)if(!(B in R)||!Mt(V[B],R[B]))return!1;for(var K in R)if(!(K in V))return!1}return!0}var tt=(function(){function V(R,b){H(this,V),this.type=R,this.attrs=b}return ie(V,[{key:"addToSet",value:function(b){for(var E,B=!1,K=0;K<b.length;K++){var Z=b[K];if(this.eq(Z))return b;if(this.type.excludes(Z.type))E||(E=b.slice(0,K));else{if(Z.type.excludes(this.type))return b;!B&&Z.type.rank>this.type.rank&&(E||(E=b.slice(0,K)),E.push(this),B=!0),E&&E.push(Z)}}return E||(E=b.slice()),B||E.push(this),E}},{key:"removeFromSet",value:function(b){for(var E=0;E<b.length;E++)if(this.eq(b[E]))return b.slice(0,E).concat(b.slice(E+1));return b}},{key:"isInSet",value:function(b){for(var E=0;E<b.length;E++)if(this.eq(b[E]))return!0;return!1}},{key:"eq",value:function(b){return this==b||this.type==b.type&&Mt(this.attrs,b.attrs)}},{key:"toJSON",value:function(){var b={type:this.type.name};for(var E in this.attrs){b.attrs=this.attrs;break}return b}}],[{key:"fromJSON",value:function(b,E){if(!E)throw new RangeError("Invalid input for Mark.fromJSON");var B=b.marks[E.type];if(!B)throw new RangeError("There is no mark type ".concat(E.type," in this schema"));var K=B.create(E.attrs);return B.checkAttrs(K.attrs),K}},{key:"sameSet",value:function(b,E){if(b==E)return!0;if(b.length!=E.length)return!1;for(var B=0;B<b.length;B++)if(!b[B].eq(E[B]))return!1;return!0}},{key:"setFrom",value:function(b){if(!b||Array.isArray(b)&&b.length==0)return V.none;if(b instanceof V)return[b];var E=b.slice();return E.sort(function(B,K){return B.type.rank-K.type.rank}),E}}]),V})();tt.none=[];var Rt=(function(V){a(b,V);var R=s(b);function b(){return H(this,b),R.apply(this,arguments)}return ie(b)})(p(Error)),Dt=(function(){function V(R,b,E){H(this,V),this.content=R,this.openStart=b,this.openEnd=E}return ie(V,[{key:"size",get:function(){return this.content.size-this.openStart-this.openEnd}},{key:"insertAt",value:function(b,E){var B=St(this.content,b+this.openStart,E);return B&&new V(B,this.openStart,this.openEnd)}},{key:"removeBetween",value:function(b,E){return new V(zt(this.content,b+this.openStart,E+this.openStart),this.openStart,this.openEnd)}},{key:"eq",value:function(b){return this.content.eq(b.content)&&this.openStart==b.openStart&&this.openEnd==b.openEnd}},{key:"toString",value:function(){return this.content+"("+this.openStart+","+this.openEnd+")"}},{key:"toJSON",value:function(){if(!this.content.size)return null;var b={content:this.content.toJSON()};return this.openStart>0&&(b.openStart=this.openStart),this.openEnd>0&&(b.openEnd=this.openEnd),b}}],[{key:"fromJSON",value:function(b,E){if(!E)return V.empty;var B=E.openStart||0,K=E.openEnd||0;if(typeof B!="number"||typeof K!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new V(Ce.fromJSON(b,E.content),B,K)}},{key:"maxOpen",value:function(b){for(var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,B=0,K=0,Z=b.firstChild;Z&&!Z.isLeaf&&(E||!Z.type.spec.isolating);Z=Z.firstChild)B++;for(var ae=b.lastChild;ae&&!ae.isLeaf&&(E||!ae.type.spec.isolating);ae=ae.lastChild)K++;return new V(b,B,K)}}]),V})();Dt.empty=new Dt(Ce.empty,0,0);function zt(V,R,b){var E=V.findIndex(R),B=E.index,K=E.offset,Z=V.maybeChild(B),ae=V.findIndex(b),ye=ae.index,Oe=ae.offset;if(K==R||Z.isText){if(Oe!=b&&!V.child(ye).isText)throw new RangeError("Removing non-flat range");return V.cut(0,R).append(V.cut(b))}if(B!=ye)throw new RangeError("Removing non-flat range");return V.replaceChild(B,Z.copy(zt(Z.content,R-K-1,b-K-1)))}function St(V,R,b,E){var B=V.findIndex(R),K=B.index,Z=B.offset,ae=V.maybeChild(K);if(Z==R||ae.isText)return E&&!E.canReplace(K,K,b)?null:V.cut(0,R).append(b).append(V.cut(R));var ye=St(ae.content,R-Z-1,b,ae);return ye&&V.replaceChild(K,ae.copy(ye))}function Pt(V,R,b){if(b.openStart>V.depth)throw new Rt("Inserted content deeper than insertion position");if(V.depth-b.openStart!=R.depth-b.openEnd)throw new Rt("Inconsistent open depths");return Ye(V,R,b,0)}function Ye(V,R,b,E){var B=V.index(E),K=V.node(E);if(B==R.index(E)&&E<V.depth-b.openStart){var Z=Ye(V,R,b,E+1);return K.copy(K.content.replaceChild(B,Z))}else if(b.content.size)if(!b.openStart&&!b.openEnd&&V.depth==E&&R.depth==E){var ae=V.parent,ye=ae.content;return ct(ae,ye.cut(0,V.parentOffset).append(b.content).append(ye.cut(R.parentOffset)))}else{var Oe=xe(b,V),Qe=Oe.start,je=Oe.end;return ct(K,pt(V,Qe,je,R,E))}else return ct(K,Ht(V,R,E))}function mt(V,R){if(!R.type.compatibleContent(V.type))throw new Rt("Cannot join "+R.type.name+" onto "+V.type.name)}function Ve(V,R,b){var E=V.node(b);return mt(E,R.node(b)),E}function ge(V,R){var b=R.length-1;b>=0&&V.isText&&V.sameMarkup(R[b])?R[b]=V.withText(R[b].text+V.text):R.push(V)}function Le(V,R,b,E){var B=(R||V).node(b),K=0,Z=R?R.index(b):B.childCount;V&&(K=V.index(b),V.depth>b?K++:V.textOffset&&(ge(V.nodeAfter,E),K++));for(var ae=K;ae<Z;ae++)ge(B.child(ae),E);R&&R.depth==b&&R.textOffset&&ge(R.nodeBefore,E)}function ct(V,R){return V.type.checkContent(R),V.copy(R)}function pt(V,R,b,E,B){var K=V.depth>B&&Ve(V,R,B+1),Z=E.depth>B&&Ve(b,E,B+1),ae=[];return Le(null,V,B,ae),K&&Z&&R.index(B)==b.index(B)?(mt(K,Z),ge(ct(K,pt(V,R,b,E,B+1)),ae)):(K&&ge(ct(K,Ht(V,R,B+1)),ae),Le(R,b,B,ae),Z&&ge(ct(Z,Ht(b,E,B+1)),ae)),Le(E,null,B,ae),new Ce(ae)}function Ht(V,R,b){var E=[];if(Le(null,V,b,E),V.depth>b){var B=Ve(V,R,b+1);ge(ct(B,Ht(V,R,b+1)),E)}return Le(R,null,b,E),new Ce(E)}function xe(V,R){for(var b=R.depth-V.openStart,E=R.node(b),B=E.copy(V.content),K=b-1;K>=0;K--)B=R.node(K).copy(Ce.from(B));return{start:B.resolveNoCache(V.openStart+b),end:B.resolveNoCache(B.content.size-V.openEnd-b)}}var we=(function(){function V(R,b,E){H(this,V),this.pos=R,this.path=b,this.parentOffset=E,this.depth=b.length/3-1}return ie(V,[{key:"resolveDepth",value:function(b){return b==null?this.depth:b<0?this.depth+b:b}},{key:"parent",get:function(){return this.node(this.depth)}},{key:"doc",get:function(){return this.node(0)}},{key:"node",value:function(b){return this.path[this.resolveDepth(b)*3]}},{key:"index",value:function(b){return this.path[this.resolveDepth(b)*3+1]}},{key:"indexAfter",value:function(b){return b=this.resolveDepth(b),this.index(b)+(b==this.depth&&!this.textOffset?0:1)}},{key:"start",value:function(b){return b=this.resolveDepth(b),b==0?0:this.path[b*3-1]+1}},{key:"end",value:function(b){return b=this.resolveDepth(b),this.start(b)+this.node(b).content.size}},{key:"before",value:function(b){if(b=this.resolveDepth(b),!b)throw new RangeError("There is no position before the top-level node");return b==this.depth+1?this.pos:this.path[b*3-1]}},{key:"after",value:function(b){if(b=this.resolveDepth(b),!b)throw new RangeError("There is no position after the top-level node");return b==this.depth+1?this.pos:this.path[b*3-1]+this.path[b*3].nodeSize}},{key:"textOffset",get:function(){return this.pos-this.path[this.path.length-1]}},{key:"nodeAfter",get:function(){var b=this.parent,E=this.index(this.depth);if(E==b.childCount)return null;var B=this.pos-this.path[this.path.length-1],K=b.child(E);return B?b.child(E).cut(B):K}},{key:"nodeBefore",get:function(){var b=this.index(this.depth),E=this.pos-this.path[this.path.length-1];return E?this.parent.child(b).cut(0,E):b==0?null:this.parent.child(b-1)}},{key:"posAtIndex",value:function(b,E){E=this.resolveDepth(E);for(var B=this.path[E*3],K=E==0?0:this.path[E*3-1]+1,Z=0;Z<b;Z++)K+=B.child(Z).nodeSize;return K}},{key:"marks",value:function(){var b=this.parent,E=this.index();if(b.content.size==0)return tt.none;if(this.textOffset)return b.child(E).marks;var B=b.maybeChild(E-1),K=b.maybeChild(E);if(!B){var Z=B;B=K,K=Z}for(var ae=B.marks,ye=0;ye<ae.length;ye++)ae[ye].type.spec.inclusive===!1&&(!K||!ae[ye].isInSet(K.marks))&&(ae=ae[ye--].removeFromSet(ae));return ae}},{key:"marksAcross",value:function(b){var E=this.parent.maybeChild(this.index());if(!E||!E.isInline)return null;for(var B=E.marks,K=b.parent.maybeChild(b.index()),Z=0;Z<B.length;Z++)B[Z].type.spec.inclusive===!1&&(!K||!B[Z].isInSet(K.marks))&&(B=B[Z--].removeFromSet(B));return B}},{key:"sharedDepth",value:function(b){for(var E=this.depth;E>0;E--)if(this.start(E)<=b&&this.end(E)>=b)return E;return 0}},{key:"blockRange",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this,E=arguments.length>1?arguments[1]:void 0;if(b.pos<this.pos)return b.blockRange(this);for(var B=this.depth-(this.parent.inlineContent||this.pos==b.pos?1:0);B>=0;B--)if(b.pos<=this.end(B)&&(!E||E(this.node(B))))return new Pe(this,b,B);return null}},{key:"sameParent",value:function(b){return this.pos-this.parentOffset==b.pos-b.parentOffset}},{key:"max",value:function(b){return b.pos>this.pos?b:this}},{key:"min",value:function(b){return b.pos<this.pos?b:this}},{key:"toString",value:function(){for(var b="",E=1;E<=this.depth;E++)b+=(b?"/":"")+this.node(E).type.name+"_"+this.index(E-1);return b+":"+this.parentOffset}}],[{key:"resolve",value:function(b,E){if(!(E>=0&&E<=b.content.size))throw new RangeError("Position "+E+" out of range");for(var B=[],K=0,Z=E,ae=b;;){var ye=ae.content.findIndex(Z),Oe=ye.index,Qe=ye.offset,je=Z-Qe;if(B.push(ae,Oe,K+Qe),!je||(ae=ae.child(Oe),ae.isText))break;Z=je-1,K+=Qe+1}return new V(E,B,Z)}},{key:"resolveCached",value:function(b,E){var B=se.get(b);if(B)for(var K=0;K<B.elts.length;K++){var Z=B.elts[K];if(Z.pos==E)return Z}else se.set(b,B=new oe);var ae=B.elts[B.i]=V.resolve(b,E);return B.i=(B.i+1)%he,ae}}]),V})(),oe=ie(function V(){H(this,V),this.elts=[],this.i=0}),he=12,se=new WeakMap,Pe=(function(){function V(R,b,E){H(this,V),this.$from=R,this.$to=b,this.depth=E}return ie(V,[{key:"start",get:function(){return this.$from.before(this.depth+1)}},{key:"end",get:function(){return this.$to.after(this.depth+1)}},{key:"parent",get:function(){return this.$from.node(this.depth)}},{key:"startIndex",get:function(){return this.$from.index(this.depth)}},{key:"endIndex",get:function(){return this.$to.indexAfter(this.depth)}}]),V})(),He=Object.create(null),nt=(function(){function V(R,b,E){var B=arguments.length>3&&arguments[3]!==void 0?arguments[3]:tt.none;H(this,V),this.type=R,this.attrs=b,this.marks=B,this.content=E||Ce.empty}return ie(V,[{key:"children",get:function(){return this.content.content}},{key:"nodeSize",get:function(){return this.isLeaf?1:2+this.content.size}},{key:"childCount",get:function(){return this.content.childCount}},{key:"child",value:function(b){return this.content.child(b)}},{key:"maybeChild",value:function(b){return this.content.maybeChild(b)}},{key:"forEach",value:function(b){this.content.forEach(b)}},{key:"nodesBetween",value:function(b,E,B){var K=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;this.content.nodesBetween(b,E,B,K,this)}},{key:"descendants",value:function(b){this.nodesBetween(0,this.content.size,b)}},{key:"textContent",get:function(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}},{key:"textBetween",value:function(b,E,B,K){return this.content.textBetween(b,E,B,K)}},{key:"firstChild",get:function(){return this.content.firstChild}},{key:"lastChild",get:function(){return this.content.lastChild}},{key:"eq",value:function(b){return this==b||this.sameMarkup(b)&&this.content.eq(b.content)}},{key:"sameMarkup",value:function(b){return this.hasMarkup(b.type,b.attrs,b.marks)}},{key:"hasMarkup",value:function(b,E,B){return this.type==b&&Mt(this.attrs,E||b.defaultAttrs||He)&&tt.sameSet(this.marks,B||tt.none)}},{key:"copy",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return b==this.content?this:new V(this.type,this.attrs,b,this.marks)}},{key:"mark",value:function(b){return b==this.marks?this:new V(this.type,this.attrs,this.content,b)}},{key:"cut",value:function(b){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.content.size;return b==0&&E==this.content.size?this:this.copy(this.content.cut(b,E))}},{key:"slice",value:function(b){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.content.size,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(b==E)return Dt.empty;var K=this.resolve(b),Z=this.resolve(E),ae=B?0:K.sharedDepth(E),ye=K.start(ae),Oe=K.node(ae),Qe=Oe.content.cut(K.pos-ye,Z.pos-ye);return new Dt(Qe,K.depth-ae,Z.depth-ae)}},{key:"replace",value:function(b,E,B){return Pt(this.resolve(b),this.resolve(E),B)}},{key:"nodeAt",value:function(b){for(var E=this;;){var B=E.content.findIndex(b),K=B.index,Z=B.offset;if(E=E.maybeChild(K),!E)return null;if(Z==b||E.isText)return E;b-=Z+1}}},{key:"childAfter",value:function(b){var E=this.content.findIndex(b),B=E.index,K=E.offset;return{node:this.content.maybeChild(B),index:B,offset:K}}},{key:"childBefore",value:function(b){if(b==0)return{node:null,index:0,offset:0};var E=this.content.findIndex(b),B=E.index,K=E.offset;if(K<b)return{node:this.content.child(B),index:B,offset:K};var Z=this.content.child(B-1);return{node:Z,index:B-1,offset:K-Z.nodeSize}}},{key:"resolve",value:function(b){return we.resolveCached(this,b)}},{key:"resolveNoCache",value:function(b){return we.resolve(this,b)}},{key:"rangeHasMark",value:function(b,E,B){var K=!1;return E>b&&this.nodesBetween(b,E,function(Z){return B.isInSet(Z.marks)&&(K=!0),!K}),K}},{key:"isBlock",get:function(){return this.type.isBlock}},{key:"isTextblock",get:function(){return this.type.isTextblock}},{key:"inlineContent",get:function(){return this.type.inlineContent}},{key:"isInline",get:function(){return this.type.isInline}},{key:"isText",get:function(){return this.type.isText}},{key:"isLeaf",get:function(){return this.type.isLeaf}},{key:"isAtom",get:function(){return this.type.isAtom}},{key:"toString",value:function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var b=this.type.name;return this.content.size&&(b+="("+this.content.toStringInner()+")"),Wt(this.marks,b)}},{key:"contentMatchAt",value:function(b){var E=this.type.contentMatch.matchFragment(this.content,0,b);if(!E)throw new Error("Called contentMatchAt on a node with invalid content");return E}},{key:"canReplace",value:function(b,E){var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ce.empty,K=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,Z=arguments.length>4&&arguments[4]!==void 0?arguments[4]:B.childCount,ae=this.contentMatchAt(b).matchFragment(B,K,Z),ye=ae&&ae.matchFragment(this.content,E);if(!ye||!ye.validEnd)return!1;for(var Oe=K;Oe<Z;Oe++)if(!this.type.allowsMarks(B.child(Oe).marks))return!1;return!0}},{key:"canReplaceWith",value:function(b,E,B,K){if(K&&!this.type.allowsMarks(K))return!1;var Z=this.contentMatchAt(b).matchType(B),ae=Z&&Z.matchFragment(this.content,E);return ae?ae.validEnd:!1}},{key:"canAppend",value:function(b){return b.content.size?this.canReplace(this.childCount,this.childCount,b.content):this.type.compatibleContent(b.type)}},{key:"check",value:function(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);for(var b=tt.none,E=0;E<this.marks.length;E++){var B=this.marks[E];B.type.checkAttrs(B.attrs),b=B.addToSet(b)}if(!tt.sameSet(b,this.marks))throw new RangeError("Invalid collection of marks for node ".concat(this.type.name,": ").concat(this.marks.map(function(K){return K.type.name})));this.content.forEach(function(K){return K.check()})}},{key:"toJSON",value:function(){var b={type:this.type.name};for(var E in this.attrs){b.attrs=this.attrs;break}return this.content.size&&(b.content=this.content.toJSON()),this.marks.length&&(b.marks=this.marks.map(function(B){return B.toJSON()})),b}}],[{key:"fromJSON",value:function(b,E){if(!E)throw new RangeError("Invalid input for Node.fromJSON");var B=void 0;if(E.marks){if(!Array.isArray(E.marks))throw new RangeError("Invalid mark data for Node.fromJSON");B=E.marks.map(b.markFromJSON)}if(E.type=="text"){if(typeof E.text!="string")throw new RangeError("Invalid text node in JSON");return b.text(E.text,B)}var K=Ce.fromJSON(b,E.content),Z=b.nodeType(E.type).create(E.attrs,K,B);return Z.type.checkAttrs(Z.attrs),Z}}]),V})();nt.prototype.text=void 0;var qt=(function(V){a(b,V);var R=s(b);function b(E,B,K,Z){var ae;if(H(this,b),ae=R.call(this,E,B,null,Z),!K)throw new RangeError("Empty text nodes are not allowed");return ae.text=K,ae}return ie(b,[{key:"toString",value:function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Wt(this.marks,JSON.stringify(this.text))}},{key:"textContent",get:function(){return this.text}},{key:"textBetween",value:function(B,K){return this.text.slice(B,K)}},{key:"nodeSize",get:function(){return this.text.length}},{key:"mark",value:function(B){return B==this.marks?this:new b(this.type,this.attrs,this.text,B)}},{key:"withText",value:function(B){return B==this.text?this:new b(this.type,this.attrs,B,this.marks)}},{key:"cut",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.text.length;return B==0&&K==this.text.length?this:this.withText(this.text.slice(B,K))}},{key:"eq",value:function(B){return this.sameMarkup(B)&&this.text==B.text}},{key:"toJSON",value:function(){var B=n(A(b.prototype),"toJSON",this).call(this);return B.text=this.text,B}}]),b})(nt);function Wt(V,R){for(var b=V.length-1;b>=0;b--)R=V[b].type.name+"("+R+")";return R}var Vt=(function(){function V(R){H(this,V),this.validEnd=R,this.next=[],this.wrapCache=[]}return ie(V,[{key:"matchType",value:function(b){for(var E=0;E<this.next.length;E++)if(this.next[E].type==b)return this.next[E].next;return null}},{key:"matchFragment",value:function(b){for(var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.childCount,K=this,Z=E;K&&Z<B;Z++)K=K.matchType(b.child(Z).type);return K}},{key:"inlineContent",get:function(){return this.next.length!=0&&this.next[0].type.isInline}},{key:"defaultType",get:function(){for(var b=0;b<this.next.length;b++){var E=this.next[b].type;if(!(E.isText||E.hasRequiredAttrs()))return E}return null}},{key:"compatible",value:function(b){for(var E=0;E<this.next.length;E++)for(var B=0;B<b.next.length;B++)if(this.next[E].type==b.next[B].type)return!0;return!1}},{key:"fillBefore",value:function(b){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,K=[this];function Z(ae,ye){var Oe=ae.matchFragment(b,B);if(Oe&&(!E||Oe.validEnd))return Ce.from(ye.map(function(cr){return cr.createAndFill()}));for(var Qe=0;Qe<ae.next.length;Qe++){var je=ae.next[Qe],at=je.type,Ot=je.next;if(!(at.isText||at.hasRequiredAttrs())&&K.indexOf(Ot)==-1){K.push(Ot);var Zt=Z(Ot,ye.concat(at));if(Zt)return Zt}}return null}return Z(this,[])}},{key:"findWrapping",value:function(b){for(var E=0;E<this.wrapCache.length;E+=2)if(this.wrapCache[E]==b)return this.wrapCache[E+1];var B=this.computeWrapping(b);return this.wrapCache.push(b,B),B}},{key:"computeWrapping",value:function(b){for(var E=Object.create(null),B=[{match:this,type:null,via:null}];B.length;){var K=B.shift(),Z=K.match;if(Z.matchType(b)){for(var ae=[],ye=K;ye.type;ye=ye.via)ae.push(ye.type);return ae.reverse()}for(var Oe=0;Oe<Z.next.length;Oe++){var Qe=Z.next[Oe],je=Qe.type,at=Qe.next;!je.isLeaf&&!je.hasRequiredAttrs()&&!(je.name in E)&&(!K.type||at.validEnd)&&(B.push({match:je.contentMatch,type:je,via:K}),E[je.name]=!0)}}return null}},{key:"edgeCount",get:function(){return this.next.length}},{key:"edge",value:function(b){if(b>=this.next.length)throw new RangeError("There's no ".concat(b,"th edge in this content match"));return this.next[b]}},{key:"toString",value:function(){var b=[];function E(B){b.push(B);for(var K=0;K<B.next.length;K++)b.indexOf(B.next[K].next)==-1&&E(B.next[K].next)}return E(this),b.map(function(B,K){for(var Z=K+(B.validEnd?"*":" ")+" ",ae=0;ae<B.next.length;ae++)Z+=(ae?", ":"")+B.next[ae].type.name+"->"+b.indexOf(B.next[ae].next);return Z}).join(`
`)}}],[{key:"parse",value:function(b,E){var B=new br(b,E);if(B.next==null)return V.empty;var K=Kt(B);B.next&&B.err("Unexpected trailing text");var Z=ut(Fn(K));return Bt(Z,B),Z}}]),V})();Vt.empty=new Vt(!0);var br=(function(){function V(R,b){H(this,V),this.string=R,this.nodeTypes=b,this.inline=null,this.pos=0,this.tokens=R.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}return ie(V,[{key:"next",get:function(){return this.tokens[this.pos]}},{key:"eat",value:function(b){return this.next==b&&(this.pos++||!0)}},{key:"err",value:function(b){throw new SyntaxError(b+" (in content expression '"+this.string+"')")}}]),V})();function Kt(V){var R=[];do R.push(Pr(V));while(V.eat("|"));return R.length==1?R[0]:{type:"choice",exprs:R}}function Pr(V){var R=[];do R.push(yr(V));while(V.next&&V.next!=")"&&V.next!="|");return R.length==1?R[0]:{type:"seq",exprs:R}}function yr(V){for(var R=yi(V);;)if(V.eat("+"))R={type:"plus",expr:R};else if(V.eat("*"))R={type:"star",expr:R};else if(V.eat("?"))R={type:"opt",expr:R};else if(V.eat("{"))R=nr(V,R);else break;return R}function Sr(V){/\D/.test(V.next)&&V.err("Expected number, got '"+V.next+"'");var R=Number(V.next);return V.pos++,R}function nr(V,R){var b=Sr(V),E=b;return V.eat(",")&&(V.next!="}"?E=Sr(V):E=-1),V.eat("}")||V.err("Unclosed braced range"),{type:"range",min:b,max:E,expr:R}}function Vr(V,R){var b=V.nodeTypes,E=b[R];if(E)return[E];var B=[];for(var K in b){var Z=b[K];Z.isInGroup(R)&&B.push(Z)}return B.length==0&&V.err("No node type or group '"+R+"' found"),B}function yi(V){if(V.eat("(")){var R=Kt(V);return V.eat(")")||V.err("Missing closing paren"),R}else if(/\W/.test(V.next))V.err("Unexpected token '"+V.next+"'");else{var b=Vr(V,V.next).map(function(E){return V.inline==null?V.inline=E.isInline:V.inline!=E.isInline&&V.err("Mixing inline and block content"),{type:"name",value:E}});return V.pos++,b.length==1?b[0]:{type:"choice",exprs:b}}}function Fn(V){var R=[[]];return B(K(V,0),b()),R;function b(){return R.push([])-1}function E(Z,ae,ye){var Oe={term:ye,to:ae};return R[Z].push(Oe),Oe}function B(Z,ae){Z.forEach(function(ye){return ye.to=ae})}function K(Z,ae){if(Z.type=="choice")return Z.exprs.reduce(function(Yi,Jr){return Yi.concat(K(Jr,ae))},[]);if(Z.type=="seq")for(var ye=0;;ye++){var Oe=K(Z.exprs[ye],ae);if(ye==Z.exprs.length-1)return Oe;B(Oe,ae=b())}else if(Z.type=="star"){var Qe=b();return E(ae,Qe),B(K(Z.expr,Qe),Qe),[E(Qe)]}else if(Z.type=="plus"){var je=b();return B(K(Z.expr,ae),je),B(K(Z.expr,je),je),[E(je)]}else{if(Z.type=="opt")return[E(ae)].concat(K(Z.expr,ae));if(Z.type=="range"){for(var at=ae,Ot=0;Ot<Z.min;Ot++){var Zt=b();B(K(Z.expr,at),Zt),at=Zt}if(Z.max==-1)B(K(Z.expr,at),at);else for(var cr=Z.min;cr<Z.max;cr++){var Ar=b();E(at,Ar),B(K(Z.expr,at),Ar),at=Ar}return[E(at)]}else{if(Z.type=="name")return[E(ae,void 0,Z.value)];throw new Error("Unknown expr type")}}}}function Br(V,R){return R-V}function lt(V,R){var b=[];return E(R),b.sort(Br);function E(B){var K=V[B];if(K.length==1&&!K[0].term)return E(K[0].to);b.push(B);for(var Z=0;Z<K.length;Z++){var ae=K[Z],ye=ae.term,Oe=ae.to;!ye&&b.indexOf(Oe)==-1&&E(Oe)}}}function ut(V){var R=Object.create(null);return b(lt(V,0));function b(E){var B=[];E.forEach(function(ye){V[ye].forEach(function(Oe){var Qe=Oe.term,je=Oe.to;if(Qe){for(var at,Ot=0;Ot<B.length;Ot++)B[Ot][0]==Qe&&(at=B[Ot][1]);lt(V,je).forEach(function(Zt){at||B.push([Qe,at=[]]),at.indexOf(Zt)==-1&&at.push(Zt)})}})});for(var K=R[E.join(",")]=new Vt(E.indexOf(V.length-1)>-1),Z=0;Z<B.length;Z++){var ae=B[Z][1].sort(Br);K.next.push({type:B[Z][0],next:R[ae.join(",")]||b(ae)})}return K}}function Bt(V,R){for(var b=0,E=[V];b<E.length;b++){for(var B=E[b],K=!B.validEnd,Z=[],ae=0;ae<B.next.length;ae++){var ye=B.next[ae],Oe=ye.type,Qe=ye.next;Z.push(Oe.name),K&&!(Oe.isText||Oe.hasRequiredAttrs())&&(K=!1),E.indexOf(Qe)==-1&&E.push(Qe)}K&&R.err("Only non-generatable nodes ("+Z.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function $t(V){var R=Object.create(null);for(var b in V){var E=V[b];if(!E.hasDefault)return null;R[b]=E.default}return R}function Yt(V,R){var b=Object.create(null);for(var E in V){var B=R&&R[E];if(B===void 0){var K=V[E];if(K.hasDefault)B=K.default;else throw new RangeError("No value supplied for attribute "+E)}b[E]=B}return b}function Yr(V,R,b,E){for(var B in R)if(!(B in V))throw new RangeError("Unsupported attribute ".concat(B," for ").concat(b," of type ").concat(B));for(var K in V){var Z=V[K];Z.validate&&Z.validate(R[K])}}function pr(V,R){var b=Object.create(null);if(R)for(var E in R)b[E]=new _n(V,E,R[E]);return b}var Cr=(function(){function V(R,b,E){H(this,V),this.name=R,this.schema=b,this.spec=E,this.markSet=null,this.groups=E.group?E.group.split(" "):[],this.attrs=pr(R,E.attrs),this.defaultAttrs=$t(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(E.inline||R=="text"),this.isText=R=="text"}return ie(V,[{key:"isInline",get:function(){return!this.isBlock}},{key:"isTextblock",get:function(){return this.isBlock&&this.inlineContent}},{key:"isLeaf",get:function(){return this.contentMatch==Vt.empty}},{key:"isAtom",get:function(){return this.isLeaf||!!this.spec.atom}},{key:"isInGroup",value:function(b){return this.groups.indexOf(b)>-1}},{key:"whitespace",get:function(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}},{key:"hasRequiredAttrs",value:function(){for(var b in this.attrs)if(this.attrs[b].isRequired)return!0;return!1}},{key:"compatibleContent",value:function(b){return this==b||this.contentMatch.compatible(b.contentMatch)}},{key:"computeAttrs",value:function(b){return!b&&this.defaultAttrs?this.defaultAttrs:Yt(this.attrs,b)}},{key:"create",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,E=arguments.length>1?arguments[1]:void 0,B=arguments.length>2?arguments[2]:void 0;if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new nt(this,this.computeAttrs(b),Ce.from(E),tt.setFrom(B))}},{key:"createChecked",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,E=arguments.length>1?arguments[1]:void 0,B=arguments.length>2?arguments[2]:void 0;return E=Ce.from(E),this.checkContent(E),new nt(this,this.computeAttrs(b),E,tt.setFrom(B))}},{key:"createAndFill",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,E=arguments.length>1?arguments[1]:void 0,B=arguments.length>2?arguments[2]:void 0;if(b=this.computeAttrs(b),E=Ce.from(E),E.size){var K=this.contentMatch.fillBefore(E);if(!K)return null;E=K.append(E)}var Z=this.contentMatch.matchFragment(E),ae=Z&&Z.fillBefore(Ce.empty,!0);return ae?new nt(this,b,E.append(ae),tt.setFrom(B)):null}},{key:"validContent",value:function(b){var E=this.contentMatch.matchFragment(b);if(!E||!E.validEnd)return!1;for(var B=0;B<b.childCount;B++)if(!this.allowsMarks(b.child(B).marks))return!1;return!0}},{key:"checkContent",value:function(b){if(!this.validContent(b))throw new RangeError("Invalid content for node ".concat(this.name,": ").concat(b.toString().slice(0,50)))}},{key:"checkAttrs",value:function(b){Yr(this.attrs,b,"node",this.name)}},{key:"allowsMarkType",value:function(b){return this.markSet==null||this.markSet.indexOf(b)>-1}},{key:"allowsMarks",value:function(b){if(this.markSet==null)return!0;for(var E=0;E<b.length;E++)if(!this.allowsMarkType(b[E].type))return!1;return!0}},{key:"allowedMarks",value:function(b){if(this.markSet==null)return b;for(var E,B=0;B<b.length;B++)this.allowsMarkType(b[B].type)?E&&E.push(b[B]):E||(E=b.slice(0,B));return E?E.length?E:tt.none:b}}],[{key:"compile",value:function(b,E){var B=Object.create(null);b.forEach(function(ae,ye){return B[ae]=new V(ae,E,ye)});var K=E.spec.topNode||"doc";if(!B[K])throw new RangeError("Schema is missing its top node type ('"+K+"')");if(!B.text)throw new RangeError("Every schema needs a 'text' type");for(var Z in B.text.attrs)throw new RangeError("The text node type should not have attributes");return B}}]),V})();function Sn(V,R,b){var E=b.split("|");return function(B){var K=B===null?"null":z(B);if(E.indexOf(K)<0)throw new RangeError("Expected value of type ".concat(E," for attribute ").concat(R," on type ").concat(V,", got ").concat(K))}}var _n=(function(){function V(R,b,E){H(this,V),this.hasDefault=Object.prototype.hasOwnProperty.call(E,"default"),this.default=E.default,this.validate=typeof E.validate=="string"?Sn(R,b,E.validate):E.validate}return ie(V,[{key:"isRequired",get:function(){return!this.hasDefault}}]),V})(),Dr=(function(){function V(R,b,E,B){H(this,V),this.name=R,this.rank=b,this.schema=E,this.spec=B,this.attrs=pr(R,B.attrs),this.excluded=null;var K=$t(this.attrs);this.instance=K?new tt(this,K):null}return ie(V,[{key:"create",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return!b&&this.instance?this.instance:new tt(this,Yt(this.attrs,b))}},{key:"removeFromSet",value:function(b){for(var E=0;E<b.length;E++)b[E].type==this&&(b=b.slice(0,E).concat(b.slice(E+1)),E--);return b}},{key:"isInSet",value:function(b){for(var E=0;E<b.length;E++)if(b[E].type==this)return b[E]}},{key:"checkAttrs",value:function(b){Yr(this.attrs,b,"mark",this.name)}},{key:"excludes",value:function(b){return this.excluded.indexOf(b)>-1}}],[{key:"compile",value:function(b,E){var B=Object.create(null),K=0;return b.forEach(function(Z,ae){return B[Z]=new V(Z,K++,E,ae)}),B}}]),V})(),ln=(function(){function V(R){var b=this;H(this,V),this.linebreakReplacement=null,this.cached=Object.create(null);var E=this.spec={};for(var B in R)E[B]=R[B];E.nodes=be.from(R.nodes),E.marks=be.from(R.marks||{}),this.nodes=Cr.compile(this.spec.nodes,this),this.marks=Dr.compile(this.spec.marks,this);var K=Object.create(null);for(var Z in this.nodes){if(Z in this.marks)throw new RangeError(Z+" can not be both a node and a mark");var ae=this.nodes[Z],ye=ae.spec.content||"",Oe=ae.spec.marks;if(ae.contentMatch=K[ye]||(K[ye]=Vt.parse(ye,this.nodes)),ae.inlineContent=ae.contentMatch.inlineContent,ae.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!ae.isInline||!ae.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=ae}ae.markSet=Oe=="_"?null:Oe?Zn(this,Oe.split(" ")):Oe==""||!ae.inlineContent?[]:null}for(var Qe in this.marks){var je=this.marks[Qe],at=je.spec.excludes;je.excluded=at==null?[je]:at==""?[]:Zn(this,at.split(" "))}this.nodeFromJSON=function(Ot){return nt.fromJSON(b,Ot)},this.markFromJSON=function(Ot){return tt.fromJSON(b,Ot)},this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}return ie(V,[{key:"node",value:function(b){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,B=arguments.length>2?arguments[2]:void 0,K=arguments.length>3?arguments[3]:void 0;if(typeof b=="string")b=this.nodeType(b);else if(b instanceof Cr){if(b.schema!=this)throw new RangeError("Node type from different schema used ("+b.name+")")}else throw new RangeError("Invalid node type: "+b);return b.createChecked(E,B,K)}},{key:"text",value:function(b,E){var B=this.nodes.text;return new qt(B,B.defaultAttrs,b,tt.setFrom(E))}},{key:"mark",value:function(b,E){return typeof b=="string"&&(b=this.marks[b]),b.create(E)}},{key:"nodeType",value:function(b){var E=this.nodes[b];if(!E)throw new RangeError("Unknown node type: "+b);return E}}]),V})();function Zn(V,R){for(var b=[],E=0;E<R.length;E++){var B=R[E],K=V.marks[B],Z=K;if(K)b.push(K);else for(var ae in V.marks){var ye=V.marks[ae];(B=="_"||ye.spec.group&&ye.spec.group.split(" ").indexOf(B)>-1)&&b.push(Z=ye)}if(!Z)throw new SyntaxError("Unknown mark type: '"+R[E]+"'")}return b}function qn(V){return V.tag!=null}function Zr(V){return V.style!=null}var Kr=(function(){function V(R,b){var E=this;H(this,V),this.schema=R,this.rules=b,this.tags=[],this.styles=[];var B=this.matchedStyles=[];b.forEach(function(K){if(qn(K))E.tags.push(K);else if(Zr(K)){var Z=/[^=]*/.exec(K.style)[0];B.indexOf(Z)<0&&B.push(Z),E.styles.push(K)}}),this.normalizeLists=!this.tags.some(function(K){if(!/^(ul|ol)\b/.test(K.tag)||!K.node)return!1;var Z=R.nodes[K.node];return Z.contentMatch.matchType(Z)})}return ie(V,[{key:"parse",value:function(b){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},B=new F(this,E,!1);return B.addAll(b,tt.none,E.from,E.to),B.finish()}},{key:"parseSlice",value:function(b){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},B=new F(this,E,!0);return B.addAll(b,tt.none,E.from,E.to),Dt.maxOpen(B.finish())}},{key:"matchTag",value:function(b,E,B){for(var K=B?this.tags.indexOf(B)+1:0;K<this.tags.length;K++){var Z=this.tags[K];if(G(b,Z.tag)&&(Z.namespace===void 0||b.namespaceURI==Z.namespace)&&(!Z.context||E.matchesContext(Z.context))){if(Z.getAttrs){var ae=Z.getAttrs(b);if(ae===!1)continue;Z.attrs=ae||void 0}return Z}}}},{key:"matchStyle",value:function(b,E,B,K){for(var Z=K?this.styles.indexOf(K)+1:0;Z<this.styles.length;Z++){var ae=this.styles[Z],ye=ae.style;if(!(ye.indexOf(b)!=0||ae.context&&!B.matchesContext(ae.context)||ye.length>b.length&&(ye.charCodeAt(b.length)!=61||ye.slice(b.length+1)!=E))){if(ae.getAttrs){var Oe=ae.getAttrs(E);if(Oe===!1)continue;ae.attrs=Oe||void 0}return ae}}}}],[{key:"schemaRules",value:function(b){var E=[];function B(Oe){for(var Qe=Oe.priority==null?50:Oe.priority,je=0;je<E.length;je++){var at=E[je],Ot=at.priority==null?50:at.priority;if(Ot<Qe)break}E.splice(je,0,Oe)}var K=function(Qe){var je=b.marks[Qe].spec.parseDOM;je&&je.forEach(function(at){B(at=te(at)),at.mark||at.ignore||at.clearMark||(at.mark=Qe)})};for(var Z in b.marks)K(Z);var ae=function(Qe){var je=b.nodes[Qe].spec.parseDOM;je&&je.forEach(function(at){B(at=te(at)),at.node||at.ignore||at.mark||(at.node=Qe)})};for(var ye in b.nodes)ae(ye);return E}},{key:"fromSchema",value:function(b){return b.cached.domParser||(b.cached.domParser=new V(b,V.schemaRules(b)))}}]),V})(),mn={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Fr={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},zn={ol:!0,ul:!0},vr=1,$r=2,X=4;function Y(V,R,b){return R!=null?(R?vr:0)|(R==="full"?$r:0):V&&V.whitespace=="pre"?vr|$r:b&~X}var q=(function(){function V(R,b,E,B,K,Z){H(this,V),this.type=R,this.attrs=b,this.marks=E,this.solid=B,this.options=Z,this.content=[],this.activeMarks=tt.none,this.match=K||(Z&X?null:R.contentMatch)}return ie(V,[{key:"findWrapping",value:function(b){if(!this.match){if(!this.type)return[];var E=this.type.contentMatch.fillBefore(Ce.from(b));if(E)this.match=this.type.contentMatch.matchFragment(E);else{var B=this.type.contentMatch,K;return(K=B.findWrapping(b.type))?(this.match=B,K):null}}return this.match.findWrapping(b.type)}},{key:"finish",value:function(b){if(!(this.options&vr)){var E=this.content[this.content.length-1],B;if(E&&E.isText&&(B=/[ \t\r\n\u000c]+$/.exec(E.text))){var K=E;E.text.length==B[0].length?this.content.pop():this.content[this.content.length-1]=K.withText(K.text.slice(0,K.text.length-B[0].length))}}var Z=Ce.from(this.content);return!b&&this.match&&(Z=Z.append(this.match.fillBefore(Ce.empty,!0))),this.type?this.type.create(this.attrs,Z,this.marks):Z}},{key:"inlineContext",value:function(b){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:b.parentNode&&!mn.hasOwnProperty(b.parentNode.nodeName.toLowerCase())}}]),V})(),F=(function(){function V(R,b,E){H(this,V),this.parser=R,this.options=b,this.isOpen=E,this.open=0,this.localPreserveWS=!1;var B=b.topNode,K,Z=Y(null,b.preserveWhitespace,0)|(E?X:0);B?K=new q(B.type,B.attrs,tt.none,!0,b.topMatch||B.type.contentMatch,Z):E?K=new q(null,null,tt.none,!0,null,Z):K=new q(R.schema.topNodeType,null,tt.none,!0,null,Z),this.nodes=[K],this.find=b.findPositions,this.needsBlock=!1}return ie(V,[{key:"top",get:function(){return this.nodes[this.open]}},{key:"addDOM",value:function(b,E){b.nodeType==3?this.addTextNode(b,E):b.nodeType==1&&this.addElement(b,E)}},{key:"addTextNode",value:function(b,E){var B=b.nodeValue,K=this.top,Z=K.options&$r?"full":this.localPreserveWS||(K.options&vr)>0;if(Z==="full"||K.inlineContext(b)||/[^ \t\r\n\u000c]/.test(B)){if(Z)Z!=="full"?B=B.replace(/\r?\n|\r/g," "):B=B.replace(/\r\n?/g,`
`);else if(B=B.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(B)&&this.open==this.nodes.length-1){var ae=K.content[K.content.length-1],ye=b.previousSibling;(!ae||ye&&ye.nodeName=="BR"||ae.isText&&/[ \t\r\n\u000c]$/.test(ae.text))&&(B=B.slice(1))}B&&this.insertNode(this.parser.schema.text(B),E,!/\S/.test(B)),this.findInText(b)}else this.findInside(b)}},{key:"addElement",value:function(b,E,B){var K=this.localPreserveWS,Z=this.top;(b.tagName=="PRE"||/pre/.test(b.style&&b.style.whiteSpace))&&(this.localPreserveWS=!0);var ae=b.nodeName.toLowerCase(),ye;zn.hasOwnProperty(ae)&&this.parser.normalizeLists&&$(b);var Oe=this.options.ruleFromNode&&this.options.ruleFromNode(b)||(ye=this.parser.matchTag(b,this,B));e:if(Oe?Oe.ignore:Fr.hasOwnProperty(ae))this.findInside(b),this.ignoreFallback(b,E);else if(!Oe||Oe.skip||Oe.closeParent){Oe&&Oe.closeParent?this.open=Math.max(0,this.open-1):Oe&&Oe.skip.nodeType&&(b=Oe.skip);var Qe,je=this.needsBlock;if(mn.hasOwnProperty(ae))Z.content.length&&Z.content[0].isInline&&this.open&&(this.open--,Z=this.top),Qe=!0,Z.type||(this.needsBlock=!0);else if(!b.firstChild){this.leafFallback(b,E);break e}var at=Oe&&Oe.skip?E:this.readStyles(b,E);at&&this.addAll(b,at),Qe&&this.sync(Z),this.needsBlock=je}else{var Ot=this.readStyles(b,E);Ot&&this.addElementByRule(b,Oe,Ot,Oe.consuming===!1?ye:void 0)}this.localPreserveWS=K}},{key:"leafFallback",value:function(b,E){b.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(b.ownerDocument.createTextNode(`
`),E)}},{key:"ignoreFallback",value:function(b,E){b.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),E,!0)}},{key:"readStyles",value:function(b,E){var B=this,K=b.style;if(K&&K.length)for(var Z=0;Z<this.parser.matchedStyles.length;Z++){var ae=this.parser.matchedStyles[Z],ye=K.getPropertyValue(ae);if(ye){for(var Oe=function(Ot){var Zt=B.parser.matchStyle(ae,ye,B,Ot);if(!Zt)return je=Ot,0;if(Zt.ignore)return{v:null};if(Zt.clearMark?E=E.filter(function(cr){return!Zt.clearMark(cr)}):E=E.concat(B.parser.schema.marks[Zt.mark].create(Zt.attrs)),Zt.consuming===!1)Ot=Zt;else return je=Ot,0;je=Ot},Qe,je=void 0;Qe=Oe(je),Qe!==0;)if(Qe)return Qe.v}}return E}},{key:"addElementByRule",value:function(b,E,B,K){var Z=this,ae,ye;if(E.node)if(ye=this.parser.schema.nodes[E.node],ye.isLeaf)this.insertNode(ye.create(E.attrs),B,b.nodeName=="BR")||this.leafFallback(b,B);else{var Oe=this.enter(ye,E.attrs||null,B,E.preserveWhitespace);Oe&&(ae=!0,B=Oe)}else{var Qe=this.parser.schema.marks[E.mark];B=B.concat(Qe.create(E.attrs))}var je=this.top;if(ye&&ye.isLeaf)this.findInside(b);else if(K)this.addElement(b,B,K);else if(E.getContent)this.findInside(b),E.getContent(b,this.parser.schema).forEach(function(Ot){return Z.insertNode(Ot,B,!1)});else{var at=b;typeof E.contentElement=="string"?at=b.querySelector(E.contentElement):typeof E.contentElement=="function"?at=E.contentElement(b):E.contentElement&&(at=E.contentElement),this.findAround(b,at,!0),this.addAll(at,B),this.findAround(b,at,!1)}ae&&this.sync(je)&&this.open--}},{key:"addAll",value:function(b,E,B,K){for(var Z=B||0,ae=B?b.childNodes[B]:b.firstChild,ye=K==null?null:b.childNodes[K];ae!=ye;ae=ae.nextSibling,++Z)this.findAtPoint(b,Z),this.addDOM(ae,E);this.findAtPoint(b,Z)}},{key:"findPlace",value:function(b,E,B){for(var K,Z,ae=this.open,ye=0;ae>=0;ae--){var Oe=this.nodes[ae],Qe=Oe.findWrapping(b);if(Qe&&(!K||K.length>Qe.length+ye)&&(K=Qe,Z=Oe,!Qe.length))break;if(Oe.solid){if(B)break;ye+=2}}if(!K)return null;this.sync(Z);for(var je=0;je<K.length;je++)E=this.enterInner(K[je],null,E,!1);return E}},{key:"insertNode",value:function(b,E,B){if(b.isInline&&this.needsBlock&&!this.top.type){var K=this.textblockFromContext();K&&(E=this.enterInner(K,null,E))}var Z=this.findPlace(b,E,B);if(Z){this.closeExtra();var ae=this.top;ae.match&&(ae.match=ae.match.matchType(b.type));var ye=tt.none,Oe=r(Z.concat(b.marks)),Qe;try{for(Oe.s();!(Qe=Oe.n()).done;){var je=Qe.value;(ae.type?ae.type.allowsMarkType(je.type):Ne(je.type,b.type))&&(ye=je.addToSet(ye))}}catch(at){Oe.e(at)}finally{Oe.f()}return ae.content.push(b.mark(ye)),!0}return!1}},{key:"enter",value:function(b,E,B,K){var Z=this.findPlace(b.create(E),B,!1);return Z&&(Z=this.enterInner(b,E,B,!0,K)),Z}},{key:"enterInner",value:function(b,E,B){var K=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,Z=arguments.length>4?arguments[4]:void 0;this.closeExtra();var ae=this.top;ae.match=ae.match&&ae.match.matchType(b);var ye=Y(b,Z,ae.options);ae.options&X&&ae.content.length==0&&(ye|=X);var Oe=tt.none;return B=B.filter(function(Qe){return(ae.type?ae.type.allowsMarkType(Qe.type):Ne(Qe.type,b))?(Oe=Qe.addToSet(Oe),!1):!0}),this.nodes.push(new q(b,E,Oe,K,null,ye)),this.open++,B}},{key:"closeExtra",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,E=this.nodes.length-1;if(E>this.open){for(;E>this.open;E--)this.nodes[E-1].content.push(this.nodes[E].finish(b));this.nodes.length=this.open+1}}},{key:"finish",value:function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}},{key:"sync",value:function(b){for(var E=this.open;E>=0;E--){if(this.nodes[E]==b)return this.open=E,!0;this.localPreserveWS&&(this.nodes[E].options|=vr)}return!1}},{key:"currentPos",get:function(){this.closeExtra();for(var b=0,E=this.open;E>=0;E--){for(var B=this.nodes[E].content,K=B.length-1;K>=0;K--)b+=B[K].nodeSize;E&&b++}return b}},{key:"findAtPoint",value:function(b,E){if(this.find)for(var B=0;B<this.find.length;B++)this.find[B].node==b&&this.find[B].offset==E&&(this.find[B].pos=this.currentPos)}},{key:"findInside",value:function(b){if(this.find)for(var E=0;E<this.find.length;E++)this.find[E].pos==null&&b.nodeType==1&&b.contains(this.find[E].node)&&(this.find[E].pos=this.currentPos)}},{key:"findAround",value:function(b,E,B){if(b!=E&&this.find){for(var K=0;K<this.find.length;K++)if(this.find[K].pos==null&&b.nodeType==1&&b.contains(this.find[K].node)){var Z=E.compareDocumentPosition(this.find[K].node);Z&(B?2:4)&&(this.find[K].pos=this.currentPos)}}}},{key:"findInText",value:function(b){if(this.find)for(var E=0;E<this.find.length;E++)this.find[E].node==b&&(this.find[E].pos=this.currentPos-(b.nodeValue.length-this.find[E].offset))}},{key:"matchesContext",value:function(b){var E=this;if(b.indexOf("|")>-1)return b.split(/\s*\|\s*/).some(this.matchesContext,this);var B=b.split("/"),K=this.options.context,Z=!this.isOpen&&(!K||K.parent.type==this.nodes[0].type),ae=-(K?K.depth+1:0)+(Z?0:1),ye=function Oe(Qe,je){for(;Qe>=0;Qe--){var at=B[Qe];if(at==""){if(Qe==B.length-1||Qe==0)continue;for(;je>=ae;je--)if(Oe(Qe-1,je))return!0;return!1}else{var Ot=je>0||je==0&&Z?E.nodes[je].type:K&&je>=ae?K.node(je-ae).type:null;if(!Ot||Ot.name!=at&&!Ot.isInGroup(at))return!1;je--}}return!0};return ye(B.length-1,this.open)}},{key:"textblockFromContext",value:function(){var b=this.options.context;if(b)for(var E=b.depth;E>=0;E--){var B=b.node(E).contentMatchAt(b.indexAfter(E)).defaultType;if(B&&B.isTextblock&&B.defaultAttrs)return B}for(var K in this.parser.schema.nodes){var Z=this.parser.schema.nodes[K];if(Z.isTextblock&&Z.defaultAttrs)return Z}}}]),V})();function $(V){for(var R=V.firstChild,b=null;R;R=R.nextSibling){var E=R.nodeType==1?R.nodeName.toLowerCase():null;E&&zn.hasOwnProperty(E)&&b?(b.appendChild(R),R=b):E=="li"?b=R:E&&(b=null)}}function G(V,R){return(V.matches||V.msMatchesSelector||V.webkitMatchesSelector||V.mozMatchesSelector).call(V,R)}function te(V){var R={};for(var b in V)R[b]=V[b];return R}function Ne(V,R){var b=R.schema.nodes,E=function(){var ae=b[K];if(!ae.allowsMarkType(V))return 0;var ye=[],Oe=function Qe(je){ye.push(je);for(var at=0;at<je.edgeCount;at++){var Ot=je.edge(at),Zt=Ot.type,cr=Ot.next;if(Zt==R||ye.indexOf(cr)<0&&Qe(cr))return!0}};if(Oe(ae.contentMatch))return{v:!0}},B;for(var K in b)if(B=E(),B!==0&&B)return B.v}var qe=(function(){function V(R,b){H(this,V),this.nodes=R,this.marks=b}return ie(V,[{key:"serializeFragment",value:function(b){var E=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},K=arguments.length>2?arguments[2]:void 0;K||(K=re(B).createDocumentFragment());var Z=K,ae=[];return b.forEach(function(ye){if(ae.length||ye.marks.length){for(var Oe=0,Qe=0;Oe<ae.length&&Qe<ye.marks.length;){var je=ye.marks[Qe];if(!E.marks[je.type.name]){Qe++;continue}if(!je.eq(ae[Oe][0])||je.type.spec.spanning===!1)break;Oe++,Qe++}for(;Oe<ae.length;)Z=ae.pop()[1];for(;Qe<ye.marks.length;){var at=ye.marks[Qe++],Ot=E.serializeMark(at,ye.isInline,B);Ot&&(ae.push([at,Z]),Z.appendChild(Ot.dom),Z=Ot.contentDOM||Ot.dom)}}Z.appendChild(E.serializeNodeInner(ye,B))}),K}},{key:"serializeNodeInner",value:function(b,E){var B=Nt(re(E),this.nodes[b.type.name](b),null,b.attrs),K=B.dom,Z=B.contentDOM;if(Z){if(b.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(b.content,E,Z)}return K}},{key:"serializeNode",value:function(b){for(var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},B=this.serializeNodeInner(b,E),K=b.marks.length-1;K>=0;K--){var Z=this.serializeMark(b.marks[K],b.isInline,E);Z&&((Z.contentDOM||Z.dom).appendChild(B),B=Z.dom)}return B}},{key:"serializeMark",value:function(b,E){var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},K=this.marks[b.type.name];return K&&Nt(re(B),K(b,E),null,b.attrs)}}],[{key:"renderSpec",value:function(b,E){var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,K=arguments.length>3?arguments[3]:void 0;return Nt(b,E,B,K)}},{key:"fromSchema",value:function(b){return b.cached.domSerializer||(b.cached.domSerializer=new V(this.nodesFromSchema(b),this.marksFromSchema(b)))}},{key:"nodesFromSchema",value:function(b){var E=de(b.nodes);return E.text||(E.text=function(B){return B.text}),E}},{key:"marksFromSchema",value:function(b){return de(b.marks)}}]),V})();function de(V){var R={};for(var b in V){var E=V[b].spec.toDOM;E&&(R[b]=E)}return R}function re(V){return V.document||window.document}var Ae=new WeakMap;function Be(V){var R=Ae.get(V);return R===void 0&&Ae.set(V,R=it(V)),R}function it(V){var R=null;function b(E){if(E&&z(E)=="object")if(Array.isArray(E))if(typeof E[0]=="string")R||(R=[]),R.push(E);else for(var B=0;B<E.length;B++)b(E[B]);else for(var K in E)b(E[K])}return b(V),R}function Nt(V,R,b,E){if(typeof R=="string")return{dom:V.createTextNode(R)};if(R.nodeType!=null)return{dom:R};if(R.dom&&R.dom.nodeType!=null)return R;var B=R[0],K;if(typeof B!="string")throw new RangeError("Invalid array passed to renderSpec");if(E&&(K=Be(E))&&K.indexOf(R)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");var Z=B.indexOf(" ");Z>0&&(b=B.slice(0,Z),B=B.slice(Z+1));var ae,ye=b?V.createElementNS(b,B):V.createElement(B),Oe=R[1],Qe=1;if(Oe&&z(Oe)=="object"&&Oe.nodeType==null&&!Array.isArray(Oe)){Qe=2;for(var je in Oe)if(Oe[je]!=null){var at=je.indexOf(" ");at>0?ye.setAttributeNS(je.slice(0,at),je.slice(at+1),Oe[je]):je=="style"&&ye.style?ye.style.cssText=Oe[je]:ye.setAttribute(je,Oe[je])}}for(var Ot=Qe;Ot<R.length;Ot++){var Zt=R[Ot];if(Zt===0){if(Ot<R.length-1||Ot>Qe)throw new RangeError("Content hole must be the only child of its parent node");return{dom:ye,contentDOM:ye}}else{var cr=Nt(V,Zt,b,E),Ar=cr.dom,Yi=cr.contentDOM;if(ye.appendChild(Ar),Yi){if(ae)throw new RangeError("Multiple content holes");ae=Yi}}}return{dom:ye,contentDOM:ae}}return Ni.ContentMatch=Vt,Ni.DOMParser=Kr,Ni.DOMSerializer=qe,Ni.Fragment=Ce,Ni.Mark=tt,Ni.MarkType=Dr,Ni.Node=nt,Ni.NodeRange=Pe,Ni.NodeType=Cr,Ni.ReplaceError=Rt,Ni.ResolvedPos=we,Ni.Schema=ln,Ni.Slice=Dt,Ni}var Xy={},IT;function _k(){return IT||(IT=1,(function(r){function e(X){var Y=typeof Map=="function"?new Map:void 0;return e=function(F){if(F===null||!n(F))return F;if(typeof F!="function")throw new TypeError("Super expression must either be null or a function");if(typeof Y<"u"){if(Y.has(F))return Y.get(F);Y.set(F,$)}function $(){return t(F,arguments,y(this).constructor)}return $.prototype=Object.create(F.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),a($,F)},e(X)}function t(X,Y,q){return p()?t=Reflect.construct.bind():t=function($,G,te){var Ne=[null];Ne.push.apply(Ne,G);var qe=Function.bind.apply($,Ne),de=new qe;return te&&a(de,te.prototype),de},t.apply(null,arguments)}function n(X){try{return Function.toString.call(X).indexOf("[native code]")!==-1}catch{return typeof X=="function"}}function i(X,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function");X.prototype=Object.create(Y&&Y.prototype,{constructor:{value:X,writable:!0,configurable:!0}}),Object.defineProperty(X,"prototype",{writable:!1}),Y&&a(X,Y)}function a(X,Y){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(F,$){return F.__proto__=$,F},a(X,Y)}function s(X){var Y=p();return function(){var F=y(X),$;if(Y){var G=y(this).constructor;$=Reflect.construct(F,arguments,G)}else $=F.apply(this,arguments);return u(this,$)}}function u(X,Y){if(Y&&(T(Y)==="object"||typeof Y=="function"))return Y;if(Y!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f(X)}function f(X){if(X===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X}function p(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function y(X){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(q){return q.__proto__||Object.getPrototypeOf(q)},y(X)}function T(X){"@babel/helpers - typeof";return T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},T(X)}function N(X,Y){if(!(X instanceof Y))throw new TypeError("Cannot call a class as a function")}function O(X,Y){for(var q=0;q<Y.length;q++){var F=Y[q];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(X,z(F.key),F)}}function A(X,Y,q){return Y&&O(X.prototype,Y),q&&O(X,q),Object.defineProperty(X,"prototype",{writable:!1}),X}function z(X){var Y=H(X,"string");return T(Y)==="symbol"?Y:String(Y)}function H(X,Y){if(T(X)!=="object"||X===null)return X;var q=X[Symbol.toPrimitive];if(q!==void 0){var F=q.call(X,Y);if(T(F)!=="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(X)}var j=Vm(),ie=65535,le=Math.pow(2,16);function ve(X,Y){return X+Y*le}function be(X){return X&ie}function me(X){return(X-(X&ie))/le}var Ee=1,Ce=2,_e=4,We=8,Mt=(function(){function X(Y,q,F){N(this,X),this.pos=Y,this.delInfo=q,this.recover=F}return A(X,[{key:"deleted",get:function(){return(this.delInfo&We)>0}},{key:"deletedBefore",get:function(){return(this.delInfo&(Ee|_e))>0}},{key:"deletedAfter",get:function(){return(this.delInfo&(Ce|_e))>0}},{key:"deletedAcross",get:function(){return(this.delInfo&_e)>0}}]),X})(),tt=(function(){function X(Y){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(N(this,X),this.ranges=Y,this.inverted=q,!Y.length&&X.empty)return X.empty}return A(X,[{key:"recover",value:function(q){var F=0,$=be(q);if(!this.inverted)for(var G=0;G<$;G++)F+=this.ranges[G*3+2]-this.ranges[G*3+1];return this.ranges[$*3]+F+me(q)}},{key:"mapResult",value:function(q){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this._map(q,F,!1)}},{key:"map",value:function(q){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this._map(q,F,!0)}},{key:"_map",value:function(q,F,$){for(var G=0,te=this.inverted?2:1,Ne=this.inverted?1:2,qe=0;qe<this.ranges.length;qe+=3){var de=this.ranges[qe]-(this.inverted?G:0);if(de>q)break;var re=this.ranges[qe+te],Ae=this.ranges[qe+Ne],Be=de+re;if(q<=Be){var it=re?q==de?-1:q==Be?1:F:F,Nt=de+G+(it<0?0:Ae);if($)return Nt;var V=q==(F<0?de:Be)?null:ve(qe/3,q-de),R=q==de?Ce:q==Be?Ee:_e;return(F<0?q!=de:q!=Be)&&(R|=We),new Mt(Nt,R,V)}G+=Ae-re}return $?q+G:new Mt(q+G,0,null)}},{key:"touches",value:function(q,F){for(var $=0,G=be(F),te=this.inverted?2:1,Ne=this.inverted?1:2,qe=0;qe<this.ranges.length;qe+=3){var de=this.ranges[qe]-(this.inverted?$:0);if(de>q)break;var re=this.ranges[qe+te],Ae=de+re;if(q<=Ae&&qe==G*3)return!0;$+=this.ranges[qe+Ne]-re}return!1}},{key:"forEach",value:function(q){for(var F=this.inverted?2:1,$=this.inverted?1:2,G=0,te=0;G<this.ranges.length;G+=3){var Ne=this.ranges[G],qe=Ne-(this.inverted?te:0),de=Ne+(this.inverted?0:te),re=this.ranges[G+F],Ae=this.ranges[G+$];q(qe,qe+re,de,de+Ae),te+=Ae-re}}},{key:"invert",value:function(){return new X(this.ranges,!this.inverted)}},{key:"toString",value:function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}}],[{key:"offset",value:function(q){return q==0?X.empty:new X(q<0?[0,-q,0]:[0,0,q])}}]),X})();tt.empty=new tt([]);var Rt=(function(){function X(Y,q){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,$=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Y?Y.length:0;N(this,X),this.mirror=q,this.from=F,this.to=$,this._maps=Y||[],this.ownData=!(Y||q)}return A(X,[{key:"maps",get:function(){return this._maps}},{key:"slice",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.maps.length;return new X(this._maps,this.mirror,q,F)}},{key:"appendMap",value:function(q,F){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(q),F!=null&&this.setMirror(this._maps.length-1,F)}},{key:"appendMapping",value:function(q){for(var F=0,$=this._maps.length;F<q._maps.length;F++){var G=q.getMirror(F);this.appendMap(q._maps[F],G!=null&&G<F?$+G:void 0)}}},{key:"getMirror",value:function(q){if(this.mirror){for(var F=0;F<this.mirror.length;F++)if(this.mirror[F]==q)return this.mirror[F+(F%2?-1:1)]}}},{key:"setMirror",value:function(q,F){this.mirror||(this.mirror=[]),this.mirror.push(q,F)}},{key:"appendMappingInverted",value:function(q){for(var F=q.maps.length-1,$=this._maps.length+q._maps.length;F>=0;F--){var G=q.getMirror(F);this.appendMap(q._maps[F].invert(),G!=null&&G>F?$-G-1:void 0)}}},{key:"invert",value:function(){var q=new X;return q.appendMappingInverted(this),q}},{key:"map",value:function(q){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(this.mirror)return this._map(q,F,!0);for(var $=this.from;$<this.to;$++)q=this._maps[$].map(q,F);return q}},{key:"mapResult",value:function(q){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this._map(q,F,!1)}},{key:"_map",value:function(q,F,$){for(var G=0,te=this.from;te<this.to;te++){var Ne=this._maps[te],qe=Ne.mapResult(q,F);if(qe.recover!=null){var de=this.getMirror(te);if(de!=null&&de>te&&de<this.to){te=de,q=this._maps[de].recover(qe.recover);continue}}G|=qe.delInfo,q=qe.pos}return $?q:new Mt(q,G,null)}}]),X})(),Dt=Object.create(null),zt=(function(){function X(){N(this,X)}return A(X,[{key:"getMap",value:function(){return tt.empty}},{key:"merge",value:function(q){return null}}],[{key:"fromJSON",value:function(q,F){if(!F||!F.stepType)throw new RangeError("Invalid input for Step.fromJSON");var $=Dt[F.stepType];if(!$)throw new RangeError("No step type ".concat(F.stepType," defined"));return $.fromJSON(q,F)}},{key:"jsonID",value:function(q,F){if(q in Dt)throw new RangeError("Duplicate use of step JSON ID "+q);return Dt[q]=F,F.prototype.jsonID=q,F}}]),X})(),St=(function(){function X(Y,q){N(this,X),this.doc=Y,this.failed=q}return A(X,null,[{key:"ok",value:function(q){return new X(q,null)}},{key:"fail",value:function(q){return new X(null,q)}},{key:"fromReplace",value:function(q,F,$,G){try{return X.ok(q.replace(F,$,G))}catch(te){if(te instanceof j.ReplaceError)return X.fail(te.message);throw te}}}]),X})();function Pt(X,Y,q){for(var F=[],$=0;$<X.childCount;$++){var G=X.child($);G.content.size&&(G=G.copy(Pt(G.content,Y,G))),G.isInline&&(G=Y(G,q,$)),F.push(G)}return j.Fragment.fromArray(F)}var Ye=(function(X){i(q,X);var Y=s(q);function q(F,$,G){var te;return N(this,q),te=Y.call(this),te.from=F,te.to=$,te.mark=G,te}return A(q,[{key:"apply",value:function($){var G=this,te=$.slice(this.from,this.to),Ne=$.resolve(this.from),qe=Ne.node(Ne.sharedDepth(this.to)),de=new j.Slice(Pt(te.content,function(re,Ae){return!re.isAtom||!Ae.type.allowsMarkType(G.mark.type)?re:re.mark(G.mark.addToSet(re.marks))},qe),te.openStart,te.openEnd);return St.fromReplace($,this.from,this.to,de)}},{key:"invert",value:function(){return new mt(this.from,this.to,this.mark)}},{key:"map",value:function($){var G=$.mapResult(this.from,1),te=$.mapResult(this.to,-1);return G.deleted&&te.deleted||G.pos>=te.pos?null:new q(G.pos,te.pos,this.mark)}},{key:"merge",value:function($){return $ instanceof q&&$.mark.eq(this.mark)&&this.from<=$.to&&this.to>=$.from?new q(Math.min(this.from,$.from),Math.max(this.to,$.to),this.mark):null}},{key:"toJSON",value:function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}}],[{key:"fromJSON",value:function($,G){if(typeof G.from!="number"||typeof G.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new q(G.from,G.to,$.markFromJSON(G.mark))}}]),q})(zt);zt.jsonID("addMark",Ye);var mt=(function(X){i(q,X);var Y=s(q);function q(F,$,G){var te;return N(this,q),te=Y.call(this),te.from=F,te.to=$,te.mark=G,te}return A(q,[{key:"apply",value:function($){var G=this,te=$.slice(this.from,this.to),Ne=new j.Slice(Pt(te.content,function(qe){return qe.mark(G.mark.removeFromSet(qe.marks))},$),te.openStart,te.openEnd);return St.fromReplace($,this.from,this.to,Ne)}},{key:"invert",value:function(){return new Ye(this.from,this.to,this.mark)}},{key:"map",value:function($){var G=$.mapResult(this.from,1),te=$.mapResult(this.to,-1);return G.deleted&&te.deleted||G.pos>=te.pos?null:new q(G.pos,te.pos,this.mark)}},{key:"merge",value:function($){return $ instanceof q&&$.mark.eq(this.mark)&&this.from<=$.to&&this.to>=$.from?new q(Math.min(this.from,$.from),Math.max(this.to,$.to),this.mark):null}},{key:"toJSON",value:function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}}],[{key:"fromJSON",value:function($,G){if(typeof G.from!="number"||typeof G.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new q(G.from,G.to,$.markFromJSON(G.mark))}}]),q})(zt);zt.jsonID("removeMark",mt);var Ve=(function(X){i(q,X);var Y=s(q);function q(F,$){var G;return N(this,q),G=Y.call(this),G.pos=F,G.mark=$,G}return A(q,[{key:"apply",value:function($){var G=$.nodeAt(this.pos);if(!G)return St.fail("No node at mark step's position");var te=G.type.create(G.attrs,null,this.mark.addToSet(G.marks));return St.fromReplace($,this.pos,this.pos+1,new j.Slice(j.Fragment.from(te),0,G.isLeaf?0:1))}},{key:"invert",value:function($){var G=$.nodeAt(this.pos);if(G){var te=this.mark.addToSet(G.marks);if(te.length==G.marks.length){for(var Ne=0;Ne<G.marks.length;Ne++)if(!G.marks[Ne].isInSet(te))return new q(this.pos,G.marks[Ne]);return new q(this.pos,this.mark)}}return new ge(this.pos,this.mark)}},{key:"map",value:function($){var G=$.mapResult(this.pos,1);return G.deletedAfter?null:new q(G.pos,this.mark)}},{key:"toJSON",value:function(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}}],[{key:"fromJSON",value:function($,G){if(typeof G.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new q(G.pos,$.markFromJSON(G.mark))}}]),q})(zt);zt.jsonID("addNodeMark",Ve);var ge=(function(X){i(q,X);var Y=s(q);function q(F,$){var G;return N(this,q),G=Y.call(this),G.pos=F,G.mark=$,G}return A(q,[{key:"apply",value:function($){var G=$.nodeAt(this.pos);if(!G)return St.fail("No node at mark step's position");var te=G.type.create(G.attrs,null,this.mark.removeFromSet(G.marks));return St.fromReplace($,this.pos,this.pos+1,new j.Slice(j.Fragment.from(te),0,G.isLeaf?0:1))}},{key:"invert",value:function($){var G=$.nodeAt(this.pos);return!G||!this.mark.isInSet(G.marks)?this:new Ve(this.pos,this.mark)}},{key:"map",value:function($){var G=$.mapResult(this.pos,1);return G.deletedAfter?null:new q(G.pos,this.mark)}},{key:"toJSON",value:function(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}}],[{key:"fromJSON",value:function($,G){if(typeof G.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new q(G.pos,$.markFromJSON(G.mark))}}]),q})(zt);zt.jsonID("removeNodeMark",ge);var Le=(function(X){i(q,X);var Y=s(q);function q(F,$,G){var te,Ne=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return N(this,q),te=Y.call(this),te.from=F,te.to=$,te.slice=G,te.structure=Ne,te}return A(q,[{key:"apply",value:function($){return this.structure&&pt($,this.from,this.to)?St.fail("Structure replace would overwrite content"):St.fromReplace($,this.from,this.to,this.slice)}},{key:"getMap",value:function(){return new tt([this.from,this.to-this.from,this.slice.size])}},{key:"invert",value:function($){return new q(this.from,this.from+this.slice.size,$.slice(this.from,this.to))}},{key:"map",value:function($){var G=$.mapResult(this.from,1),te=$.mapResult(this.to,-1);return G.deletedAcross&&te.deletedAcross?null:new q(G.pos,Math.max(G.pos,te.pos),this.slice,this.structure)}},{key:"merge",value:function($){if(!($ instanceof q)||$.structure||this.structure)return null;if(this.from+this.slice.size==$.from&&!this.slice.openEnd&&!$.slice.openStart){var G=this.slice.size+$.slice.size==0?j.Slice.empty:new j.Slice(this.slice.content.append($.slice.content),this.slice.openStart,$.slice.openEnd);return new q(this.from,this.to+($.to-$.from),G,this.structure)}else if($.to==this.from&&!this.slice.openStart&&!$.slice.openEnd){var te=this.slice.size+$.slice.size==0?j.Slice.empty:new j.Slice($.slice.content.append(this.slice.content),$.slice.openStart,this.slice.openEnd);return new q($.from,this.to,te,this.structure)}else return null}},{key:"toJSON",value:function(){var $={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&($.slice=this.slice.toJSON()),this.structure&&($.structure=!0),$}}],[{key:"fromJSON",value:function($,G){if(typeof G.from!="number"||typeof G.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new q(G.from,G.to,j.Slice.fromJSON($,G.slice),!!G.structure)}}]),q})(zt);zt.jsonID("replace",Le);var ct=(function(X){i(q,X);var Y=s(q);function q(F,$,G,te,Ne,qe){var de,re=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1;return N(this,q),de=Y.call(this),de.from=F,de.to=$,de.gapFrom=G,de.gapTo=te,de.slice=Ne,de.insert=qe,de.structure=re,de}return A(q,[{key:"apply",value:function($){if(this.structure&&(pt($,this.from,this.gapFrom)||pt($,this.gapTo,this.to)))return St.fail("Structure gap-replace would overwrite content");var G=$.slice(this.gapFrom,this.gapTo);if(G.openStart||G.openEnd)return St.fail("Gap is not a flat range");var te=this.slice.insertAt(this.insert,G.content);return te?St.fromReplace($,this.from,this.to,te):St.fail("Content does not fit in gap")}},{key:"getMap",value:function(){return new tt([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}},{key:"invert",value:function($){var G=this.gapTo-this.gapFrom;return new q(this.from,this.from+this.slice.size+G,this.from+this.insert,this.from+this.insert+G,$.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}},{key:"map",value:function($){var G=$.mapResult(this.from,1),te=$.mapResult(this.to,-1),Ne=this.from==this.gapFrom?G.pos:$.map(this.gapFrom,-1),qe=this.to==this.gapTo?te.pos:$.map(this.gapTo,1);return G.deletedAcross&&te.deletedAcross||Ne<G.pos||qe>te.pos?null:new q(G.pos,te.pos,Ne,qe,this.slice,this.insert,this.structure)}},{key:"toJSON",value:function(){var $={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&($.slice=this.slice.toJSON()),this.structure&&($.structure=!0),$}}],[{key:"fromJSON",value:function($,G){if(typeof G.from!="number"||typeof G.to!="number"||typeof G.gapFrom!="number"||typeof G.gapTo!="number"||typeof G.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new q(G.from,G.to,G.gapFrom,G.gapTo,j.Slice.fromJSON($,G.slice),G.insert,!!G.structure)}}]),q})(zt);zt.jsonID("replaceAround",ct);function pt(X,Y,q){for(var F=X.resolve(Y),$=q-Y,G=F.depth;$>0&&G>0&&F.indexAfter(G)==F.node(G).childCount;)G--,$--;if($>0)for(var te=F.node(G).maybeChild(F.indexAfter(G));$>0;){if(!te||te.isLeaf)return!0;te=te.firstChild,$--}return!1}function Ht(X,Y,q,F){var $=[],G=[],te,Ne;X.doc.nodesBetween(Y,q,function(qe,de,re){if(qe.isInline){var Ae=qe.marks;if(!F.isInSet(Ae)&&re.type.allowsMarkType(F.type)){for(var Be=Math.max(de,Y),it=Math.min(de+qe.nodeSize,q),Nt=F.addToSet(Ae),V=0;V<Ae.length;V++)Ae[V].isInSet(Nt)||(te&&te.to==Be&&te.mark.eq(Ae[V])?te.to=it:$.push(te=new mt(Be,it,Ae[V])));Ne&&Ne.to==Be?Ne.to=it:G.push(Ne=new Ye(Be,it,F))}}}),$.forEach(function(qe){return X.step(qe)}),G.forEach(function(qe){return X.step(qe)})}function xe(X,Y,q,F){var $=[],G=0;X.doc.nodesBetween(Y,q,function(te,Ne){if(te.isInline){G++;var qe=null;if(F instanceof j.MarkType)for(var de=te.marks,re;re=F.isInSet(de);)(qe||(qe=[])).push(re),de=re.removeFromSet(de);else F?F.isInSet(te.marks)&&(qe=[F]):qe=te.marks;if(qe&&qe.length)for(var Ae=Math.min(Ne+te.nodeSize,q),Be=0;Be<qe.length;Be++){for(var it=qe[Be],Nt=void 0,V=0;V<$.length;V++){var R=$[V];R.step==G-1&&it.eq($[V].style)&&(Nt=R)}Nt?(Nt.to=Ae,Nt.step=G):$.push({style:it,from:Math.max(Ne,Y),to:Ae,step:G})}}}),$.forEach(function(te){return X.step(new mt(te.from,te.to,te.style))})}function we(X,Y,q){for(var F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:q.contentMatch,$=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,G=X.doc.nodeAt(Y),te=[],Ne=Y+1,qe=0;qe<G.childCount;qe++){var de=G.child(qe),re=Ne+de.nodeSize,Ae=F.matchType(de.type);if(!Ae)te.push(new Le(Ne,re,j.Slice.empty));else{F=Ae;for(var Be=0;Be<de.marks.length;Be++)q.allowsMarkType(de.marks[Be].type)||X.step(new mt(Ne,re,de.marks[Be]));if($&&de.isText&&q.whitespace!="pre")for(var it=void 0,Nt=/\r?\n|\r/g,V=void 0;it=Nt.exec(de.text);)V||(V=new j.Slice(j.Fragment.from(q.schema.text(" ",q.allowedMarks(de.marks))),0,0)),te.push(new Le(Ne+it.index,Ne+it.index+it[0].length,V))}Ne=re}if(!F.validEnd){var R=F.fillBefore(j.Fragment.empty,!0);X.replace(Ne,Ne,new j.Slice(R,0,0))}for(var b=te.length-1;b>=0;b--)X.step(te[b])}function oe(X,Y,q){return(Y==0||X.canReplace(Y,X.childCount))&&(q==X.childCount||X.canReplace(0,q))}function he(X){for(var Y=X.parent,q=Y.content.cutByIndex(X.startIndex,X.endIndex),F=X.depth;;--F){var $=X.$from.node(F),G=X.$from.index(F),te=X.$to.indexAfter(F);if(F<X.depth&&$.canReplace(G,te,q))return F;if(F==0||$.type.spec.isolating||!oe($,G,te))break}return null}function se(X,Y,q){for(var F=Y.$from,$=Y.$to,G=Y.depth,te=F.before(G+1),Ne=$.after(G+1),qe=te,de=Ne,re=j.Fragment.empty,Ae=0,Be=G,it=!1;Be>q;Be--)it||F.index(Be)>0?(it=!0,re=j.Fragment.from(F.node(Be).copy(re)),Ae++):qe--;for(var Nt=j.Fragment.empty,V=0,R=G,b=!1;R>q;R--)b||$.after(R+1)<$.end(R)?(b=!0,Nt=j.Fragment.from($.node(R).copy(Nt)),V++):de++;X.step(new ct(qe,de,te,Ne,new j.Slice(re.append(Nt),Ae,V),re.size-Ae,!0))}function Pe(X,Y){var q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:X,$=nt(X,Y),G=$&&qt(F,Y);return G?$.map(He).concat({type:Y,attrs:q}).concat(G.map(He)):null}function He(X){return{type:X,attrs:null}}function nt(X,Y){var q=X.parent,F=X.startIndex,$=X.endIndex,G=q.contentMatchAt(F).findWrapping(Y);if(!G)return null;var te=G.length?G[0]:Y;return q.canReplaceWith(F,$,te)?G:null}function qt(X,Y){var q=X.parent,F=X.startIndex,$=X.endIndex,G=q.child(F),te=Y.contentMatch.findWrapping(G.type);if(!te)return null;for(var Ne=te.length?te[te.length-1]:Y,qe=Ne.contentMatch,de=F;qe&&de<$;de++)qe=qe.matchType(q.child(de).type);return!qe||!qe.validEnd?null:te}function Wt(X,Y,q){for(var F=j.Fragment.empty,$=q.length-1;$>=0;$--){if(F.size){var G=q[$].type.contentMatch.matchFragment(F);if(!G||!G.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}F=j.Fragment.from(q[$].type.create(q[$].attrs,F))}var te=Y.start,Ne=Y.end;X.step(new ct(te,Ne,te,Ne,new j.Slice(F,0,0),q.length,!0))}function Vt(X,Y,q,F,$){if(!F.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var G=X.steps.length;X.doc.nodesBetween(Y,q,function(te,Ne){var qe=typeof $=="function"?$(te):$;if(te.isTextblock&&!te.hasMarkup(F,qe)&&Pr(X.doc,X.mapping.slice(G).map(Ne),F)){var de=null;if(F.schema.linebreakReplacement){var re=F.whitespace=="pre",Ae=!!F.contentMatch.matchType(F.schema.linebreakReplacement);re&&!Ae?de=!1:!re&&Ae&&(de=!0)}de===!1&&Kt(X,te,Ne,G),we(X,X.mapping.slice(G).map(Ne,1),F,void 0,de===null);var Be=X.mapping.slice(G),it=Be.map(Ne,1),Nt=Be.map(Ne+te.nodeSize,1);return X.step(new ct(it,Nt,it+1,Nt-1,new j.Slice(j.Fragment.from(F.create(qe,null,te.marks)),0,0),1,!0)),de===!0&&br(X,te,Ne,G),!1}})}function br(X,Y,q,F){Y.forEach(function($,G){if($.isText)for(var te,Ne=/\r?\n|\r/g;te=Ne.exec($.text);){var qe=X.mapping.slice(F).map(q+1+G+te.index);X.replaceWith(qe,qe+1,Y.type.schema.linebreakReplacement.create())}})}function Kt(X,Y,q,F){Y.forEach(function($,G){if($.type==$.type.schema.linebreakReplacement){var te=X.mapping.slice(F).map(q+1+G);X.replaceWith(te,te+1,Y.type.schema.text(`
`))}})}function Pr(X,Y,q){var F=X.resolve(Y),$=F.index();return F.parent.canReplaceWith($,$+1,q)}function yr(X,Y,q,F,$){var G=X.doc.nodeAt(Y);if(!G)throw new RangeError("No node at given position");q||(q=G.type);var te=q.create(F,null,$||G.marks);if(G.isLeaf)return X.replaceWith(Y,Y+G.nodeSize,te);if(!q.validContent(G.content))throw new RangeError("Invalid content for node type "+q.name);X.step(new ct(Y,Y+G.nodeSize,Y+1,Y+G.nodeSize-1,new j.Slice(j.Fragment.from(te),0,0),1,!0))}function Sr(X,Y){var q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,F=arguments.length>3?arguments[3]:void 0,$=X.resolve(Y),G=$.depth-q,te=F&&F[F.length-1]||$.parent;if(G<0||$.parent.type.spec.isolating||!$.parent.canReplace($.index(),$.parent.childCount)||!te.type.validContent($.parent.content.cutByIndex($.index(),$.parent.childCount)))return!1;for(var Ne=$.depth-1,qe=q-2;Ne>G;Ne--,qe--){var de=$.node(Ne),re=$.index(Ne);if(de.type.spec.isolating)return!1;var Ae=de.content.cutByIndex(re,de.childCount),Be=F&&F[qe+1];Be&&(Ae=Ae.replaceChild(0,Be.type.create(Be.attrs)));var it=F&&F[qe]||de;if(!de.canReplace(re+1,de.childCount)||!it.type.validContent(Ae))return!1}var Nt=$.indexAfter(G),V=F&&F[0];return $.node(G).canReplaceWith(Nt,Nt,V?V.type:$.node(G+1).type)}function nr(X,Y){for(var q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,F=arguments.length>3?arguments[3]:void 0,$=X.doc.resolve(Y),G=j.Fragment.empty,te=j.Fragment.empty,Ne=$.depth,qe=$.depth-q,de=q-1;Ne>qe;Ne--,de--){G=j.Fragment.from($.node(Ne).copy(G));var re=F&&F[de];te=j.Fragment.from(re?re.type.create(re.attrs,te):$.node(Ne).copy(te))}X.step(new Le(Y,Y,new j.Slice(G.append(te),q,q),!0))}function Vr(X,Y){var q=X.resolve(Y),F=q.index();return Fn(q.nodeBefore,q.nodeAfter)&&q.parent.canReplace(F,F+1)}function yi(X,Y){Y.content.size||X.type.compatibleContent(Y.type);for(var q=X.contentMatchAt(X.childCount),F=X.type.schema.linebreakReplacement,$=0;$<Y.childCount;$++){var G=Y.child($),te=G.type==F?X.type.schema.nodes.text:G.type;if(q=q.matchType(te),!q||!X.type.allowsMarks(G.marks))return!1}return q.validEnd}function Fn(X,Y){return!!(X&&Y&&!X.isLeaf&&yi(X,Y))}function Br(X,Y){for(var q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,F=X.resolve(Y),$=F.depth;;$--){var G=void 0,te=void 0,Ne=F.index($);if($==F.depth?(G=F.nodeBefore,te=F.nodeAfter):q>0?(G=F.node($+1),Ne++,te=F.node($).maybeChild(Ne)):(G=F.node($).maybeChild(Ne-1),te=F.node($+1)),G&&!G.isTextblock&&Fn(G,te)&&F.node($).canReplace(Ne,Ne+1))return Y;if($==0)break;Y=q<0?F.before($):F.after($)}}function lt(X,Y,q){var F=null,$=X.doc.type.schema.linebreakReplacement,G=X.doc.resolve(Y-q),te=G.node().type;if($&&te.inlineContent){var Ne=te.whitespace=="pre",qe=!!te.contentMatch.matchType($);Ne&&!qe?F=!1:!Ne&&qe&&(F=!0)}var de=X.steps.length;if(F===!1){var re=X.doc.resolve(Y+q);Kt(X,re.node(),re.before(),de)}te.inlineContent&&we(X,Y+q-1,te,G.node().contentMatchAt(G.index()),F==null);var Ae=X.mapping.slice(de),Be=Ae.map(Y-q);if(X.step(new Le(Be,Ae.map(Y+q,-1),j.Slice.empty,!0)),F===!0){var it=X.doc.resolve(Be);br(X,it.node(),it.before(),X.steps.length)}return X}function ut(X,Y,q){var F=X.resolve(Y);if(F.parent.canReplaceWith(F.index(),F.index(),q))return Y;if(F.parentOffset==0)for(var $=F.depth-1;$>=0;$--){var G=F.index($);if(F.node($).canReplaceWith(G,G,q))return F.before($+1);if(G>0)return null}if(F.parentOffset==F.parent.content.size)for(var te=F.depth-1;te>=0;te--){var Ne=F.indexAfter(te);if(F.node(te).canReplaceWith(Ne,Ne,q))return F.after(te+1);if(Ne<F.node(te).childCount)return null}return null}function Bt(X,Y,q){var F=X.resolve(Y);if(!q.content.size)return Y;for(var $=q.content,G=0;G<q.openStart;G++)$=$.firstChild.content;for(var te=1;te<=(q.openStart==0&&q.size?2:1);te++)for(var Ne=F.depth;Ne>=0;Ne--){var qe=Ne==F.depth?0:F.pos<=(F.start(Ne+1)+F.end(Ne+1))/2?-1:1,de=F.index(Ne)+(qe>0?1:0),re=F.node(Ne),Ae=!1;if(te==1)Ae=re.canReplace(de,de,$);else{var Be=re.contentMatchAt(de).findWrapping($.firstChild.type);Ae=Be&&re.canReplaceWith(de,de,Be[0])}if(Ae)return qe==0?F.pos:qe<0?F.before(Ne+1):F.after(Ne+1)}return null}function $t(X,Y){var q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Y,F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:j.Slice.empty;if(Y==q&&!F.size)return null;var $=X.resolve(Y),G=X.resolve(q);return Yt($,G,F)?new Le(Y,q,F):new Yr($,G,F).fit()}function Yt(X,Y,q){return!q.openStart&&!q.openEnd&&X.start()==Y.start()&&X.parent.canReplace(X.index(),Y.index(),q.content)}var Yr=(function(){function X(Y,q,F){N(this,X),this.$from=Y,this.$to=q,this.unplaced=F,this.frontier=[],this.placed=j.Fragment.empty;for(var $=0;$<=Y.depth;$++){var G=Y.node($);this.frontier.push({type:G.type,match:G.contentMatchAt(Y.indexAfter($))})}for(var te=Y.depth;te>0;te--)this.placed=j.Fragment.from(Y.node(te).copy(this.placed))}return A(X,[{key:"depth",get:function(){return this.frontier.length-1}},{key:"fit",value:function(){for(;this.unplaced.size;){var q=this.findFittable();q?this.placeNodes(q):this.openMore()||this.dropNode()}var F=this.mustMoveInline(),$=this.placed.size-this.depth-this.$from.depth,G=this.$from,te=this.close(F<0?this.$to:G.doc.resolve(F));if(!te)return null;for(var Ne=this.placed,qe=G.depth,de=te.depth;qe&&de&&Ne.childCount==1;)Ne=Ne.firstChild.content,qe--,de--;var re=new j.Slice(Ne,qe,de);return F>-1?new ct(G.pos,F,this.$to.pos,this.$to.end(),re,$):re.size||G.pos!=this.$to.pos?new Le(G.pos,te.pos,re):null}},{key:"findFittable",value:function(){for(var q=this.unplaced.openStart,F=this.unplaced.content,$=0,G=this.unplaced.openEnd;$<q;$++){var te=F.firstChild;if(F.childCount>1&&(G=0),te.type.spec.isolating&&G<=$){q=$;break}F=te.content}for(var Ne=1;Ne<=2;Ne++)for(var qe=Ne==1?q:this.unplaced.openStart;qe>=0;qe--){var de=void 0,re=null;qe?(re=Sn(this.unplaced.content,qe-1).firstChild,de=re.content):de=this.unplaced.content;for(var Ae=de.firstChild,Be=this.depth;Be>=0;Be--){var it=this.frontier[Be],Nt=it.type,V=it.match,R=void 0,b=null;if(Ne==1&&(Ae?V.matchType(Ae.type)||(b=V.fillBefore(j.Fragment.from(Ae),!1)):re&&Nt.compatibleContent(re.type)))return{sliceDepth:qe,frontierDepth:Be,parent:re,inject:b};if(Ne==2&&Ae&&(R=V.findWrapping(Ae.type)))return{sliceDepth:qe,frontierDepth:Be,parent:re,wrap:R};if(re&&V.matchType(re.type))break}}}},{key:"openMore",value:function(){var q=this.unplaced,F=q.content,$=q.openStart,G=q.openEnd,te=Sn(F,$);return!te.childCount||te.firstChild.isLeaf?!1:(this.unplaced=new j.Slice(F,$+1,Math.max(G,te.size+$>=F.size-G?$+1:0)),!0)}},{key:"dropNode",value:function(){var q=this.unplaced,F=q.content,$=q.openStart,G=q.openEnd,te=Sn(F,$);if(te.childCount<=1&&$>0){var Ne=F.size-$<=$+te.size;this.unplaced=new j.Slice(pr(F,$-1,1),$-1,Ne?$-1:G)}else this.unplaced=new j.Slice(pr(F,$,1),$,G)}},{key:"placeNodes",value:function(q){for(var F=q.sliceDepth,$=q.frontierDepth,G=q.parent,te=q.inject,Ne=q.wrap;this.depth>$;)this.closeFrontierNode();if(Ne)for(var qe=0;qe<Ne.length;qe++)this.openFrontierNode(Ne[qe]);var de=this.unplaced,re=G?G.content:de.content,Ae=de.openStart-F,Be=0,it=[],Nt=this.frontier[$],V=Nt.match,R=Nt.type;if(te){for(var b=0;b<te.childCount;b++)it.push(te.child(b));V=V.matchFragment(te)}for(var E=re.size+F-(de.content.size-de.openEnd);Be<re.childCount;){var B=re.child(Be),K=V.matchType(B.type);if(!K)break;Be++,(Be>1||Ae==0||B.content.size)&&(V=K,it.push(_n(B.mark(R.allowedMarks(B.marks)),Be==1?Ae:0,Be==re.childCount?E:-1)))}var Z=Be==re.childCount;Z||(E=-1),this.placed=Cr(this.placed,$,j.Fragment.from(it)),this.frontier[$].match=V,Z&&E<0&&G&&G.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var ae=0,ye=re;ae<E;ae++){var Oe=ye.lastChild;this.frontier.push({type:Oe.type,match:Oe.contentMatchAt(Oe.childCount)}),ye=Oe.content}this.unplaced=Z?F==0?j.Slice.empty:new j.Slice(pr(de.content,F-1,1),F-1,E<0?de.openEnd:F-1):new j.Slice(pr(de.content,F,Be),de.openStart,de.openEnd)}},{key:"mustMoveInline",value:function(){if(!this.$to.parent.isTextblock)return-1;var q=this.frontier[this.depth],F;if(!q.type.isTextblock||!Dr(this.$to,this.$to.depth,q.type,q.match,!1)||this.$to.depth==this.depth&&(F=this.findCloseLevel(this.$to))&&F.depth==this.depth)return-1;for(var $=this.$to.depth,G=this.$to.after($);$>1&&G==this.$to.end(--$);)++G;return G}},{key:"findCloseLevel",value:function(q){e:for(var F=Math.min(this.depth,q.depth);F>=0;F--){var $=this.frontier[F],G=$.match,te=$.type,Ne=F<q.depth&&q.end(F+1)==q.pos+(q.depth-(F+1)),qe=Dr(q,F,te,G,Ne);if(qe){for(var de=F-1;de>=0;de--){var re=this.frontier[de],Ae=re.match,Be=re.type,it=Dr(q,de,Be,Ae,!0);if(!it||it.childCount)continue e}return{depth:F,fit:qe,move:Ne?q.doc.resolve(q.after(F+1)):q}}}}},{key:"close",value:function(q){var F=this.findCloseLevel(q);if(!F)return null;for(;this.depth>F.depth;)this.closeFrontierNode();F.fit.childCount&&(this.placed=Cr(this.placed,F.depth,F.fit)),q=F.move;for(var $=F.depth+1;$<=q.depth;$++){var G=q.node($),te=G.type.contentMatch.fillBefore(G.content,!0,q.index($));this.openFrontierNode(G.type,G.attrs,te)}return q}},{key:"openFrontierNode",value:function(q){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,$=arguments.length>2?arguments[2]:void 0,G=this.frontier[this.depth];G.match=G.match.matchType(q),this.placed=Cr(this.placed,this.depth,j.Fragment.from(q.create(F,$))),this.frontier.push({type:q,match:q.contentMatch})}},{key:"closeFrontierNode",value:function(){var q=this.frontier.pop(),F=q.match.fillBefore(j.Fragment.empty,!0);F.childCount&&(this.placed=Cr(this.placed,this.frontier.length,F))}}]),X})();function pr(X,Y,q){return Y==0?X.cutByIndex(q,X.childCount):X.replaceChild(0,X.firstChild.copy(pr(X.firstChild.content,Y-1,q)))}function Cr(X,Y,q){return Y==0?X.append(q):X.replaceChild(X.childCount-1,X.lastChild.copy(Cr(X.lastChild.content,Y-1,q)))}function Sn(X,Y){for(var q=0;q<Y;q++)X=X.firstChild.content;return X}function _n(X,Y,q){if(Y<=0)return X;var F=X.content;return Y>1&&(F=F.replaceChild(0,_n(F.firstChild,Y-1,F.childCount==1?q-1:0))),Y>0&&(F=X.type.contentMatch.fillBefore(F).append(F),q<=0&&(F=F.append(X.type.contentMatch.matchFragment(F).fillBefore(j.Fragment.empty,!0)))),X.copy(F)}function Dr(X,Y,q,F,$){var G=X.node(Y),te=$?X.indexAfter(Y):X.index(Y);if(te==G.childCount&&!q.compatibleContent(G.type))return null;var Ne=F.fillBefore(G.content,!0,te);return Ne&&!ln(q,G.content,te)?Ne:null}function ln(X,Y,q){for(var F=q;F<Y.childCount;F++)if(!X.allowsMarks(Y.child(F).marks))return!0;return!1}function Zn(X){return X.spec.defining||X.spec.definingForContent}function qn(X,Y,q,F){if(!F.size)return X.deleteRange(Y,q);var $=X.doc.resolve(Y),G=X.doc.resolve(q);if(Yt($,G,F))return X.step(new Le(Y,q,F));var te=Fr($,X.doc.resolve(q));te[te.length-1]==0&&te.pop();var Ne=-($.depth+1);te.unshift(Ne);for(var qe=$.depth,de=$.pos-1;qe>0;qe--,de--){var re=$.node(qe).type.spec;if(re.defining||re.definingAsContext||re.isolating)break;te.indexOf(qe)>-1?Ne=qe:$.before(qe)==de&&te.splice(1,0,-qe)}for(var Ae=te.indexOf(Ne),Be=[],it=F.openStart,Nt=F.content,V=0;;V++){var R=Nt.firstChild;if(Be.push(R),V==F.openStart)break;Nt=R.content}for(var b=it-1;b>=0;b--){var E=Be[b],B=Zn(E.type);if(B&&!E.sameMarkup($.node(Math.abs(Ne)-1)))it=b;else if(B||!E.type.isTextblock)break}for(var K=F.openStart;K>=0;K--){var Z=(K+it+1)%(F.openStart+1),ae=Be[Z];if(ae)for(var ye=0;ye<te.length;ye++){var Oe=te[(ye+Ae)%te.length],Qe=!0;Oe<0&&(Qe=!1,Oe=-Oe);var je=$.node(Oe-1),at=$.index(Oe-1);if(je.canReplaceWith(at,at,ae.type,ae.marks))return X.replace($.before(Oe),Qe?G.after(Oe):q,new j.Slice(Zr(F.content,0,F.openStart,Z),Z,F.openEnd))}}for(var Ot=X.steps.length,Zt=te.length-1;Zt>=0&&(X.replace(Y,q,F),!(X.steps.length>Ot));Zt--){var cr=te[Zt];cr<0||(Y=$.before(cr),q=G.after(cr))}}function Zr(X,Y,q,F,$){if(Y<q){var G=X.firstChild;X=X.replaceChild(0,G.copy(Zr(G.content,Y+1,q,F,G)))}if(Y>F){var te=$.contentMatchAt(0),Ne=te.fillBefore(X).append(X);X=Ne.append(te.matchFragment(Ne).fillBefore(j.Fragment.empty,!0))}return X}function Kr(X,Y,q,F){if(!F.isInline&&Y==q&&X.doc.resolve(Y).parent.content.size){var $=ut(X.doc,Y,F.type);$!=null&&(Y=q=$)}X.replaceRange(Y,q,new j.Slice(j.Fragment.from(F),0,0))}function mn(X,Y,q){for(var F=X.doc.resolve(Y),$=X.doc.resolve(q),G=Fr(F,$),te=0;te<G.length;te++){var Ne=G[te],qe=te==G.length-1;if(qe&&Ne==0||F.node(Ne).type.contentMatch.validEnd)return X.delete(F.start(Ne),$.end(Ne));if(Ne>0&&(qe||F.node(Ne-1).canReplace(F.index(Ne-1),$.indexAfter(Ne-1))))return X.delete(F.before(Ne),$.after(Ne))}for(var de=1;de<=F.depth&&de<=$.depth;de++)if(Y-F.start(de)==F.depth-de&&q>F.end(de)&&$.end(de)-q!=$.depth-de&&F.start(de-1)==$.start(de-1)&&F.node(de-1).canReplace(F.index(de-1),$.index(de-1)))return X.delete(F.before(de),q);X.delete(Y,q)}function Fr(X,Y){for(var q=[],F=Math.min(X.depth,Y.depth),$=F;$>=0;$--){var G=X.start($);if(G<X.pos-(X.depth-$)||Y.end($)>Y.pos+(Y.depth-$)||X.node($).type.spec.isolating||Y.node($).type.spec.isolating)break;(G==Y.start($)||$==X.depth&&$==Y.depth&&X.parent.inlineContent&&Y.parent.inlineContent&&$&&Y.start($-1)==G-1)&&q.push($)}return q}var zn=(function(X){i(q,X);var Y=s(q);function q(F,$,G){var te;return N(this,q),te=Y.call(this),te.pos=F,te.attr=$,te.value=G,te}return A(q,[{key:"apply",value:function($){var G=$.nodeAt(this.pos);if(!G)return St.fail("No node at attribute step's position");var te=Object.create(null);for(var Ne in G.attrs)te[Ne]=G.attrs[Ne];te[this.attr]=this.value;var qe=G.type.create(te,null,G.marks);return St.fromReplace($,this.pos,this.pos+1,new j.Slice(j.Fragment.from(qe),0,G.isLeaf?0:1))}},{key:"getMap",value:function(){return tt.empty}},{key:"invert",value:function($){return new q(this.pos,this.attr,$.nodeAt(this.pos).attrs[this.attr])}},{key:"map",value:function($){var G=$.mapResult(this.pos,1);return G.deletedAfter?null:new q(G.pos,this.attr,this.value)}},{key:"toJSON",value:function(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}}],[{key:"fromJSON",value:function($,G){if(typeof G.pos!="number"||typeof G.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new q(G.pos,G.attr,G.value)}}]),q})(zt);zt.jsonID("attr",zn);var vr=(function(X){i(q,X);var Y=s(q);function q(F,$){var G;return N(this,q),G=Y.call(this),G.attr=F,G.value=$,G}return A(q,[{key:"apply",value:function($){var G=Object.create(null);for(var te in $.attrs)G[te]=$.attrs[te];G[this.attr]=this.value;var Ne=$.type.create(G,$.content,$.marks);return St.ok(Ne)}},{key:"getMap",value:function(){return tt.empty}},{key:"invert",value:function($){return new q(this.attr,$.attrs[this.attr])}},{key:"map",value:function($){return this}},{key:"toJSON",value:function(){return{stepType:"docAttr",attr:this.attr,value:this.value}}}],[{key:"fromJSON",value:function($,G){if(typeof G.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new q(G.attr,G.value)}}]),q})(zt);zt.jsonID("docAttr",vr),r.TransformError=(function(X){i(q,X);var Y=s(q);function q(){return N(this,q),Y.apply(this,arguments)}return A(q)})(e(Error)),r.TransformError=function X(Y){var q=Error.call(this,Y);return q.__proto__=X.prototype,q},r.TransformError.prototype=Object.create(Error.prototype),r.TransformError.prototype.constructor=r.TransformError,r.TransformError.prototype.name="TransformError";var $r=(function(){function X(Y){N(this,X),this.doc=Y,this.steps=[],this.docs=[],this.mapping=new Rt}return A(X,[{key:"before",get:function(){return this.docs.length?this.docs[0]:this.doc}},{key:"step",value:function(q){var F=this.maybeStep(q);if(F.failed)throw new r.TransformError(F.failed);return this}},{key:"maybeStep",value:function(q){var F=q.apply(this.doc);return F.failed||this.addStep(q,F.doc),F}},{key:"docChanged",get:function(){return this.steps.length>0}},{key:"addStep",value:function(q,F){this.docs.push(this.doc),this.steps.push(q),this.mapping.appendMap(q.getMap()),this.doc=F}},{key:"replace",value:function(q){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:q,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:j.Slice.empty,G=$t(this.doc,q,F,$);return G&&this.step(G),this}},{key:"replaceWith",value:function(q,F,$){return this.replace(q,F,new j.Slice(j.Fragment.from($),0,0))}},{key:"delete",value:function(q,F){return this.replace(q,F,j.Slice.empty)}},{key:"insert",value:function(q,F){return this.replaceWith(q,q,F)}},{key:"replaceRange",value:function(q,F,$){return qn(this,q,F,$),this}},{key:"replaceRangeWith",value:function(q,F,$){return Kr(this,q,F,$),this}},{key:"deleteRange",value:function(q,F){return mn(this,q,F),this}},{key:"lift",value:function(q,F){return se(this,q,F),this}},{key:"join",value:function(q){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return lt(this,q,F),this}},{key:"wrap",value:function(q,F){return Wt(this,q,F),this}},{key:"setBlockType",value:function(q){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:q,$=arguments.length>2?arguments[2]:void 0,G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return Vt(this,q,F,$,G),this}},{key:"setNodeMarkup",value:function(q,F){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,G=arguments.length>3?arguments[3]:void 0;return yr(this,q,F,$,G),this}},{key:"setNodeAttribute",value:function(q,F,$){return this.step(new zn(q,F,$)),this}},{key:"setDocAttribute",value:function(q,F){return this.step(new vr(q,F)),this}},{key:"addNodeMark",value:function(q,F){return this.step(new Ve(q,F)),this}},{key:"removeNodeMark",value:function(q,F){var $=this.doc.nodeAt(q);if(!$)throw new RangeError("No node at position "+q);if(F instanceof j.Mark)F.isInSet($.marks)&&this.step(new ge(q,F));else{for(var G=$.marks,te,Ne=[];te=F.isInSet(G);)Ne.push(new ge(q,te)),G=te.removeFromSet(G);for(var qe=Ne.length-1;qe>=0;qe--)this.step(Ne[qe])}return this}},{key:"split",value:function(q){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,$=arguments.length>2?arguments[2]:void 0;return nr(this,q,F,$),this}},{key:"addMark",value:function(q,F,$){return Ht(this,q,F,$),this}},{key:"removeMark",value:function(q,F,$){return xe(this,q,F,$),this}},{key:"clearIncompatible",value:function(q,F,$){return we(this,q,F,$),this}}]),X})();r.AddMarkStep=Ye,r.AddNodeMarkStep=Ve,r.AttrStep=zn,r.DocAttrStep=vr,r.MapResult=Mt,r.Mapping=Rt,r.RemoveMarkStep=mt,r.RemoveNodeMarkStep=ge,r.ReplaceAroundStep=ct,r.ReplaceStep=Le,r.Step=zt,r.StepMap=tt,r.StepResult=St,r.Transform=$r,r.canJoin=Vr,r.canSplit=Sr,r.dropPoint=Bt,r.findWrapping=Pe,r.insertPoint=ut,r.joinPoint=Br,r.liftTarget=he,r.replaceStep=$t})(Xy)),Xy}var PT;function $m(){if(PT)return Ca;PT=1;function r(xe){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(we){return typeof we}:function(we){return we&&typeof Symbol=="function"&&we.constructor===Symbol&&we!==Symbol.prototype?"symbol":typeof we},r(xe)}function e(){return typeof Reflect<"u"&&Reflect.get?e=Reflect.get:e=function(we,oe,he){var se=t(we,oe);if(se){var Pe=Object.getOwnPropertyDescriptor(se,oe);return Pe.get?Pe.get.call(arguments.length<3?we:he):Pe.value}},e.apply(this,arguments)}function t(xe,we){for(;!Object.prototype.hasOwnProperty.call(xe,we)&&(xe=p(xe),xe!==null););return xe}function n(xe,we){if(typeof we!="function"&&we!==null)throw new TypeError("Super expression must either be null or a function");xe.prototype=Object.create(we&&we.prototype,{constructor:{value:xe,writable:!0,configurable:!0}}),Object.defineProperty(xe,"prototype",{writable:!1}),we&&i(xe,we)}function i(xe,we){return i=Object.setPrototypeOf||function(he,se){return he.__proto__=se,he},i(xe,we)}function a(xe){var we=f();return function(){var he=p(xe),se;if(we){var Pe=p(this).constructor;se=Reflect.construct(he,arguments,Pe)}else se=he.apply(this,arguments);return s(this,se)}}function s(xe,we){if(we&&(r(we)==="object"||typeof we=="function"))return we;if(we!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u(xe)}function u(xe){if(xe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return xe}function f(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function p(xe){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(oe){return oe.__proto__||Object.getPrototypeOf(oe)},p(xe)}function y(xe,we){if(!(xe instanceof we))throw new TypeError("Cannot call a class as a function")}function T(xe,we){for(var oe=0;oe<we.length;oe++){var he=we[oe];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(xe,he.key,he)}}function N(xe,we,oe){return we&&T(xe.prototype,we),oe&&T(xe,oe),Object.defineProperty(xe,"prototype",{writable:!1}),xe}Object.defineProperty(Ca,"__esModule",{value:!0});var O=Vm(),A=_k(),z=Object.create(null),H=(function(){function xe(we,oe,he){y(this,xe),this.$anchor=we,this.$head=oe,this.ranges=he||[new j(we.min(oe),we.max(oe))]}return N(xe,[{key:"anchor",get:function(){return this.$anchor.pos}},{key:"head",get:function(){return this.$head.pos}},{key:"from",get:function(){return this.$from.pos}},{key:"to",get:function(){return this.$to.pos}},{key:"$from",get:function(){return this.ranges[0].$from}},{key:"$to",get:function(){return this.ranges[0].$to}},{key:"empty",get:function(){for(var oe=this.ranges,he=0;he<oe.length;he++)if(oe[he].$from.pos!=oe[he].$to.pos)return!1;return!0}},{key:"content",value:function(){return this.$from.doc.slice(this.from,this.to,!0)}},{key:"replace",value:function(oe){for(var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:O.Slice.empty,se=he.content.lastChild,Pe=null,He=0;He<he.openEnd;He++)Pe=se,se=se.lastChild;for(var nt=oe.steps.length,qt=this.ranges,Wt=0;Wt<qt.length;Wt++){var Vt=qt[Wt],br=Vt.$from,Kt=Vt.$to,Pr=oe.mapping.slice(nt);oe.replaceRange(Pr.map(br.pos),Pr.map(Kt.pos),Wt?O.Slice.empty:he),Wt==0&&Mt(oe,nt,(se?se.isInline:Pe&&Pe.isTextblock)?-1:1)}}},{key:"replaceWith",value:function(oe,he){for(var se=oe.steps.length,Pe=this.ranges,He=0;He<Pe.length;He++){var nt=Pe[He],qt=nt.$from,Wt=nt.$to,Vt=oe.mapping.slice(se),br=Vt.map(qt.pos),Kt=Vt.map(Wt.pos);He?oe.deleteRange(br,Kt):(oe.replaceRangeWith(br,Kt,he),Mt(oe,se,he.isInline?-1:1))}}},{key:"getBookmark",value:function(){return ve.between(this.$anchor,this.$head).getBookmark()}}],[{key:"findFrom",value:function(oe,he){var se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Pe=oe.parent.inlineContent?new ve(oe):We(oe.node(0),oe.parent,oe.pos,oe.index(),he,se);if(Pe)return Pe;for(var He=oe.depth-1;He>=0;He--){var nt=he<0?We(oe.node(0),oe.node(He),oe.before(He+1),oe.index(He),he,se):We(oe.node(0),oe.node(He),oe.after(He+1),oe.index(He)+1,he,se);if(nt)return nt}return null}},{key:"near",value:function(oe){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this.findFrom(oe,he)||this.findFrom(oe,-he)||new Ce(oe.node(0))}},{key:"atStart",value:function(oe){return We(oe,oe,0,0,1)||new Ce(oe)}},{key:"atEnd",value:function(oe){return We(oe,oe,oe.content.size,oe.childCount,-1)||new Ce(oe)}},{key:"fromJSON",value:function(oe,he){if(!he||!he.type)throw new RangeError("Invalid input for Selection.fromJSON");var se=z[he.type];if(!se)throw new RangeError("No selection type ".concat(he.type," defined"));return se.fromJSON(oe,he)}},{key:"jsonID",value:function(oe,he){if(oe in z)throw new RangeError("Duplicate use of selection JSON ID "+oe);return z[oe]=he,he.prototype.jsonID=oe,he}}]),xe})();H.prototype.visible=!0;var j=N(function xe(we,oe){y(this,xe),this.$from=we,this.$to=oe}),ie=!1;function le(xe){!ie&&!xe.parent.inlineContent&&(ie=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+xe.parent.type.name+")"))}var ve=(function(xe){n(oe,xe);var we=a(oe);function oe(he){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:he;return y(this,oe),le(he),le(se),we.call(this,he,se)}return N(oe,[{key:"$cursor",get:function(){return this.$anchor.pos==this.$head.pos?this.$head:null}},{key:"map",value:function(se,Pe){var He=se.resolve(Pe.map(this.head));if(!He.parent.inlineContent)return H.near(He);var nt=se.resolve(Pe.map(this.anchor));return new oe(nt.parent.inlineContent?nt:He,He)}},{key:"replace",value:function(se){var Pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:O.Slice.empty;if(e(p(oe.prototype),"replace",this).call(this,se,Pe),Pe==O.Slice.empty){var He=this.$from.marksAcross(this.$to);He&&se.ensureMarks(He)}}},{key:"eq",value:function(se){return se instanceof oe&&se.anchor==this.anchor&&se.head==this.head}},{key:"getBookmark",value:function(){return new be(this.anchor,this.head)}},{key:"toJSON",value:function(){return{type:"text",anchor:this.anchor,head:this.head}}}],[{key:"fromJSON",value:function(se,Pe){if(typeof Pe.anchor!="number"||typeof Pe.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new oe(se.resolve(Pe.anchor),se.resolve(Pe.head))}},{key:"create",value:function(se,Pe){var He=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Pe,nt=se.resolve(Pe);return new this(nt,He==Pe?nt:se.resolve(He))}},{key:"between",value:function(se,Pe,He){var nt=se.pos-Pe.pos;if((!He||nt)&&(He=nt>=0?1:-1),!Pe.parent.inlineContent){var qt=H.findFrom(Pe,He,!0)||H.findFrom(Pe,-He,!0);if(qt)Pe=qt.$head;else return H.near(Pe,He)}return se.parent.inlineContent||(nt==0?se=Pe:(se=(H.findFrom(se,-He,!0)||H.findFrom(se,He,!0)).$anchor,se.pos<Pe.pos!=nt<0&&(se=Pe))),new oe(se,Pe)}}]),oe})(H);H.jsonID("text",ve);var be=(function(){function xe(we,oe){y(this,xe),this.anchor=we,this.head=oe}return N(xe,[{key:"map",value:function(oe){return new xe(oe.map(this.anchor),oe.map(this.head))}},{key:"resolve",value:function(oe){return ve.between(oe.resolve(this.anchor),oe.resolve(this.head))}}]),xe})(),me=(function(xe){n(oe,xe);var we=a(oe);function oe(he){var se;y(this,oe);var Pe=he.nodeAfter,He=he.node(0).resolve(he.pos+Pe.nodeSize);return se=we.call(this,he,He),se.node=Pe,se}return N(oe,[{key:"map",value:function(se,Pe){var He=Pe.mapResult(this.anchor),nt=He.deleted,qt=He.pos,Wt=se.resolve(qt);return nt?H.near(Wt):new oe(Wt)}},{key:"content",value:function(){return new O.Slice(O.Fragment.from(this.node),0,0)}},{key:"eq",value:function(se){return se instanceof oe&&se.anchor==this.anchor}},{key:"toJSON",value:function(){return{type:"node",anchor:this.anchor}}},{key:"getBookmark",value:function(){return new Ee(this.anchor)}}],[{key:"fromJSON",value:function(se,Pe){if(typeof Pe.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new oe(se.resolve(Pe.anchor))}},{key:"create",value:function(se,Pe){return new oe(se.resolve(Pe))}},{key:"isSelectable",value:function(se){return!se.isText&&se.type.spec.selectable!==!1}}]),oe})(H);me.prototype.visible=!1,H.jsonID("node",me);var Ee=(function(){function xe(we){y(this,xe),this.anchor=we}return N(xe,[{key:"map",value:function(oe){var he=oe.mapResult(this.anchor),se=he.deleted,Pe=he.pos;return se?new be(Pe,Pe):new xe(Pe)}},{key:"resolve",value:function(oe){var he=oe.resolve(this.anchor),se=he.nodeAfter;return se&&me.isSelectable(se)?new me(he):H.near(he)}}]),xe})(),Ce=(function(xe){n(oe,xe);var we=a(oe);function oe(he){return y(this,oe),we.call(this,he.resolve(0),he.resolve(he.content.size))}return N(oe,[{key:"replace",value:function(se){var Pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:O.Slice.empty;if(Pe==O.Slice.empty){se.delete(0,se.doc.content.size);var He=H.atStart(se.doc);He.eq(se.selection)||se.setSelection(He)}else e(p(oe.prototype),"replace",this).call(this,se,Pe)}},{key:"toJSON",value:function(){return{type:"all"}}},{key:"map",value:function(se){return new oe(se)}},{key:"eq",value:function(se){return se instanceof oe}},{key:"getBookmark",value:function(){return _e}}],[{key:"fromJSON",value:function(se){return new oe(se)}}]),oe})(H);H.jsonID("all",Ce);var _e={map:function(){return this},resolve:function(we){return new Ce(we)}};function We(xe,we,oe,he,se){var Pe=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(we.inlineContent)return ve.create(xe,oe);for(var He=he-(se>0?0:1);se>0?He<we.childCount:He>=0;He+=se){var nt=we.child(He);if(nt.isAtom){if(!Pe&&me.isSelectable(nt))return me.create(xe,oe-(se<0?nt.nodeSize:0))}else{var qt=We(xe,nt,oe+se,se<0?nt.childCount:0,se,Pe);if(qt)return qt}oe+=nt.nodeSize*se}return null}function Mt(xe,we,oe){var he=xe.steps.length-1;if(!(he<we)){var se=xe.steps[he];if(se instanceof A.ReplaceStep||se instanceof A.ReplaceAroundStep){var Pe=xe.mapping.maps[he],He;Pe.forEach(function(nt,qt,Wt,Vt){He==null&&(He=Vt)}),xe.setSelection(H.near(xe.doc.resolve(He),oe))}}}var tt=1,Rt=2,Dt=4,zt=(function(xe){n(oe,xe);var we=a(oe);function oe(he){var se;return y(this,oe),se=we.call(this,he.doc),se.curSelectionFor=0,se.updated=0,se.meta=Object.create(null),se.time=Date.now(),se.curSelection=he.selection,se.storedMarks=he.storedMarks,se}return N(oe,[{key:"selection",get:function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}},{key:"setSelection",value:function(se){if(se.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=se,this.curSelectionFor=this.steps.length,this.updated=(this.updated|tt)&~Rt,this.storedMarks=null,this}},{key:"selectionSet",get:function(){return(this.updated&tt)>0}},{key:"setStoredMarks",value:function(se){return this.storedMarks=se,this.updated|=Rt,this}},{key:"ensureMarks",value:function(se){return O.Mark.sameSet(this.storedMarks||this.selection.$from.marks(),se)||this.setStoredMarks(se),this}},{key:"addStoredMark",value:function(se){return this.ensureMarks(se.addToSet(this.storedMarks||this.selection.$head.marks()))}},{key:"removeStoredMark",value:function(se){return this.ensureMarks(se.removeFromSet(this.storedMarks||this.selection.$head.marks()))}},{key:"storedMarksSet",get:function(){return(this.updated&Rt)>0}},{key:"addStep",value:function(se,Pe){e(p(oe.prototype),"addStep",this).call(this,se,Pe),this.updated=this.updated&~Rt,this.storedMarks=null}},{key:"setTime",value:function(se){return this.time=se,this}},{key:"replaceSelection",value:function(se){return this.selection.replace(this,se),this}},{key:"replaceSelectionWith",value:function(se){var Pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,He=this.selection;return Pe&&(se=se.mark(this.storedMarks||(He.empty?He.$from.marks():He.$from.marksAcross(He.$to)||O.Mark.none))),He.replaceWith(this,se),this}},{key:"deleteSelection",value:function(){return this.selection.replace(this),this}},{key:"insertText",value:function(se,Pe,He){var nt=this.doc.type.schema;if(Pe==null)return se?this.replaceSelectionWith(nt.text(se),!0):this.deleteSelection();if(He==null&&(He=Pe),He=He??Pe,!se)return this.deleteRange(Pe,He);var qt=this.storedMarks;if(!qt){var Wt=this.doc.resolve(Pe);qt=He==Pe?Wt.marks():Wt.marksAcross(this.doc.resolve(He))}return this.replaceRangeWith(Pe,He,nt.text(se,qt)),this.selection.empty||this.setSelection(H.near(this.selection.$to)),this}},{key:"setMeta",value:function(se,Pe){return this.meta[typeof se=="string"?se:se.key]=Pe,this}},{key:"getMeta",value:function(se){return this.meta[typeof se=="string"?se:se.key]}},{key:"isGeneric",get:function(){for(var se in this.meta)return!1;return!0}},{key:"scrollIntoView",value:function(){return this.updated|=Dt,this}},{key:"scrolledIntoView",get:function(){return(this.updated&Dt)>0}}]),oe})(A.Transform);function St(xe,we){return!we||!xe?xe:xe.bind(we)}var Pt=N(function xe(we,oe,he){y(this,xe),this.name=we,this.init=St(oe.init,he),this.apply=St(oe.apply,he)}),Ye=[new Pt("doc",{init:function(we){return we.doc||we.schema.topNodeType.createAndFill()},apply:function(we){return we.doc}}),new Pt("selection",{init:function(we,oe){return we.selection||H.atStart(oe.doc)},apply:function(we){return we.selection}}),new Pt("storedMarks",{init:function(we){return we.storedMarks||null},apply:function(we,oe,he,se){return se.selection.$cursor?we.storedMarks:null}}),new Pt("scrollToSelection",{init:function(){return 0},apply:function(we,oe){return we.scrolledIntoView?oe+1:oe}})],mt=N(function xe(we,oe){var he=this;y(this,xe),this.schema=we,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Ye.slice(),oe&&oe.forEach(function(se){if(he.pluginsByKey[se.key])throw new RangeError("Adding different instances of a keyed plugin ("+se.key+")");he.plugins.push(se),he.pluginsByKey[se.key]=se,se.spec.state&&he.fields.push(new Pt(se.key,se.spec.state,se))})}),Ve=(function(){function xe(we){y(this,xe),this.config=we}return N(xe,[{key:"schema",get:function(){return this.config.schema}},{key:"plugins",get:function(){return this.config.plugins}},{key:"apply",value:function(oe){return this.applyTransaction(oe).state}},{key:"filterTransaction",value:function(oe){for(var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,se=0;se<this.config.plugins.length;se++)if(se!=he){var Pe=this.config.plugins[se];if(Pe.spec.filterTransaction&&!Pe.spec.filterTransaction.call(Pe,oe,this))return!1}return!0}},{key:"applyTransaction",value:function(oe){if(!this.filterTransaction(oe))return{state:this,transactions:[]};for(var he=[oe],se=this.applyInner(oe),Pe=null;;){for(var He=!1,nt=0;nt<this.config.plugins.length;nt++){var qt=this.config.plugins[nt];if(qt.spec.appendTransaction){var Wt=Pe?Pe[nt].n:0,Vt=Pe?Pe[nt].state:this,br=Wt<he.length&&qt.spec.appendTransaction.call(qt,Wt?he.slice(Wt):he,Vt,se);if(br&&se.filterTransaction(br,nt)){if(br.setMeta("appendedTransaction",oe),!Pe){Pe=[];for(var Kt=0;Kt<this.config.plugins.length;Kt++)Pe.push(Kt<nt?{state:se,n:he.length}:{state:this,n:0})}he.push(br),se=se.applyInner(br),He=!0}Pe&&(Pe[nt]={state:se,n:he.length})}}if(!He)return{state:se,transactions:he}}}},{key:"applyInner",value:function(oe){if(!oe.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var he=new xe(this.config),se=this.config.fields,Pe=0;Pe<se.length;Pe++){var He=se[Pe];he[He.name]=He.apply(oe,this[He.name],this,he)}return he}},{key:"tr",get:function(){return new zt(this)}},{key:"reconfigure",value:function(oe){for(var he=new mt(this.schema,oe.plugins),se=he.fields,Pe=new xe(he),He=0;He<se.length;He++){var nt=se[He].name;Pe[nt]=this.hasOwnProperty(nt)?this[nt]:se[He].init(oe,Pe)}return Pe}},{key:"toJSON",value:function(oe){var he={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(he.storedMarks=this.storedMarks.map(function(nt){return nt.toJSON()})),oe&&r(oe)=="object")for(var se in oe){if(se=="doc"||se=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");var Pe=oe[se],He=Pe.spec.state;He&&He.toJSON&&(he[se]=He.toJSON.call(Pe,this[Pe.key]))}return he}}],[{key:"create",value:function(oe){for(var he=new mt(oe.doc?oe.doc.type.schema:oe.schema,oe.plugins),se=new xe(he),Pe=0;Pe<he.fields.length;Pe++)se[he.fields[Pe].name]=he.fields[Pe].init(oe,se);return se}},{key:"fromJSON",value:function(oe,he,se){if(!he)throw new RangeError("Invalid input for EditorState.fromJSON");if(!oe.schema)throw new RangeError("Required config field 'schema' missing");var Pe=new mt(oe.schema,oe.plugins),He=new xe(Pe);return Pe.fields.forEach(function(nt){if(nt.name=="doc")He.doc=O.Node.fromJSON(oe.schema,he.doc);else if(nt.name=="selection")He.selection=H.fromJSON(He.doc,he.selection);else if(nt.name=="storedMarks")he.storedMarks&&(He.storedMarks=he.storedMarks.map(oe.schema.markFromJSON));else{if(se)for(var qt in se){var Wt=se[qt],Vt=Wt.spec.state;if(Wt.key==nt.name&&Vt&&Vt.fromJSON&&Object.prototype.hasOwnProperty.call(he,qt)){He[nt.name]=Vt.fromJSON.call(Wt,oe,he[qt],He);return}}He[nt.name]=nt.init(oe,He)}}),He}}]),xe})();function ge(xe,we,oe){for(var he in xe){var se=xe[he];se instanceof Function?se=se.bind(we):he=="handleDOMEvents"&&(se=ge(se,we,{})),oe[he]=se}return oe}var Le=(function(){function xe(we){y(this,xe),this.spec=we,this.props={},we.props&&ge(we.props,this,this.props),this.key=we.key?we.key.key:pt("plugin")}return N(xe,[{key:"getState",value:function(oe){return oe[this.key]}}]),xe})(),ct=Object.create(null);function pt(xe){return xe in ct?xe+"$"+ ++ct[xe]:(ct[xe]=0,xe+"$")}var Ht=(function(){function xe(){var we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"key";y(this,xe),this.key=pt(we)}return N(xe,[{key:"get",value:function(oe){return oe.config.pluginsByKey[this.key]}},{key:"getState",value:function(oe){return oe[this.key]}}]),xe})();return Ca.AllSelection=Ce,Ca.EditorState=Ve,Ca.NodeSelection=me,Ca.Plugin=Le,Ca.PluginKey=Ht,Ca.Selection=H,Ca.SelectionRange=j,Ca.TextSelection=ve,Ca.Transaction=zt,Ca}var BT;function m9e(){if(BT)return ji;BT=1;function r(le,ve,be){return Object.defineProperty(le,"prototype",{writable:!1}),le}function e(le,ve){if(!(le instanceof ve))throw new TypeError("Cannot call a class as a function")}var t=$m(),n=_k(),i=r(function le(ve,be){var me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};e(this,le),this.match=ve,this.match=ve,this.handler=typeof be=="string"?a(be):be,this.undoable=me.undoable!==!1,this.inCode=me.inCode||!1,this.inCodeMark=me.inCodeMark!==!1});function a(le){return function(ve,be,me,Ee){var Ce=le;if(be[1]){var _e=be[0].lastIndexOf(be[1]);Ce+=be[0].slice(_e+be[1].length),me+=_e;var We=me-Ee;We>0&&(Ce=be[0].slice(_e-We,_e)+Ce,me=Ee)}return ve.tr.insertText(Ce,me,Ee)}}var s=500;function u(le){var ve=le.rules,be=new t.Plugin({state:{init:function(){return null},apply:function(Ee,Ce){var _e=Ee.getMeta(this);return _e||(Ee.selectionSet||Ee.docChanged?null:Ce)}},props:{handleTextInput:function(Ee,Ce,_e,We){return f(Ee,Ce,_e,We,ve,be)},handleDOMEvents:{compositionend:function(Ee){setTimeout(function(){var Ce=Ee.state.selection.$cursor;Ce&&f(Ee,Ce.pos,Ce.pos,"",ve,be)})}}},isInputRules:!0});return be}function f(le,ve,be,me,Ee,Ce){if(le.composing)return!1;for(var _e=le.state,We=_e.doc.resolve(ve),Mt=We.parent.textBetween(Math.max(0,We.parentOffset-s),We.parentOffset,null,"")+me,tt=0;tt<Ee.length;tt++){var Rt=Ee[tt];if(!(!Rt.inCodeMark&&We.marks().some(function(St){return St.type.spec.code}))){if(We.parent.type.spec.code){if(!Rt.inCode)continue}else if(Rt.inCode==="only")continue;var Dt=Rt.match.exec(Mt),zt=Dt&&Dt[0].length>=me.length&&Rt.handler(_e,Dt,ve-(Dt[0].length-me.length),be);if(zt)return Rt.undoable&&zt.setMeta(Ce,{transform:zt,from:ve,to:be,text:me}),le.dispatch(zt),!0}}return!1}var p=function(ve,be){for(var me=ve.plugins,Ee=0;Ee<me.length;Ee++){var Ce=me[Ee],_e=void 0;if(Ce.spec.isInputRules&&(_e=Ce.getState(ve))){if(be){for(var We=ve.tr,Mt=_e.transform,tt=Mt.steps.length-1;tt>=0;tt--)We.step(Mt.steps[tt].invert(Mt.docs[tt]));if(_e.text){var Rt=We.doc.resolve(_e.from).marks();We.replaceWith(_e.from,_e.to,ve.schema.text(_e.text,Rt))}else We.delete(_e.from,_e.to);be(We)}return!0}}return!1},y=new i(/--$/,"",{inCodeMark:!1}),T=new i(/\.\.\.$/,"",{inCodeMark:!1}),N=new i(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"",{inCodeMark:!1}),O=new i(/"$/,"",{inCodeMark:!1}),A=new i(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"",{inCodeMark:!1}),z=new i(/'$/,"",{inCodeMark:!1}),H=[N,O,A,z];function j(le,ve){var be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,me=arguments.length>3?arguments[3]:void 0;return new i(le,function(Ee,Ce,_e,We){var Mt=be instanceof Function?be(Ce):be,tt=Ee.tr.delete(_e,We),Rt=tt.doc.resolve(_e),Dt=Rt.blockRange(),zt=Dt&&n.findWrapping(Dt,ve,Mt);if(!zt)return null;tt.wrap(Dt,zt);var St=tt.doc.resolve(_e-1).nodeBefore;return St&&St.type==ve&&n.canJoin(tt.doc,_e-1)&&(!me||me(Ce,St))&&tt.join(_e-1),tt})}function ie(le,ve){var be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return new i(le,function(me,Ee,Ce,_e){var We=me.doc.resolve(Ce),Mt=be instanceof Function?be(Ee):be;return We.node(-1).canReplaceWith(We.index(-1),We.indexAfter(-1),ve)?me.tr.delete(Ce,_e).setBlockType(Ce,Ce,ve,Mt):null})}return ji.InputRule=i,ji.closeDoubleQuote=O,ji.closeSingleQuote=z,ji.ellipsis=T,ji.emDash=y,ji.inputRules=u,ji.openDoubleQuote=N,ji.openSingleQuote=A,ji.smartQuotes=H,ji.textblockTypeInputRule=ie,ji.undoInputRule=p,ji.wrappingInputRule=j,ji}var Iv={},jc={},FT;function g9e(){if(FT)return jc;FT=1,Object.defineProperty(jc,"__esModule",{value:!0});for(var r={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},e={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},t=typeof navigator<"u"&&/Mac/.test(navigator.platform),n=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),i=0;i<10;i++)r[48+i]=r[96+i]=String(i);for(var i=1;i<=24;i++)r[i+111]="F"+i;for(var i=65;i<=90;i++)r[i]=String.fromCharCode(i+32),e[i]=String.fromCharCode(i);for(var a in r)e.hasOwnProperty(a)||(e[a]=r[a]);function s(u){var f=t&&u.metaKey&&u.shiftKey&&!u.ctrlKey&&!u.altKey||n&&u.shiftKey&&u.key&&u.key.length==1||u.key=="Unidentified",p=!f&&u.key||(u.shiftKey?e:r)[u.keyCode]||u.key||"Unidentified";return p=="Esc"&&(p="Escape"),p=="Del"&&(p="Delete"),p=="Left"&&(p="ArrowLeft"),p=="Up"&&(p="ArrowUp"),p=="Right"&&(p="ArrowRight"),p=="Down"&&(p="ArrowDown"),p}return jc.base=r,jc.keyName=s,jc.shift=e,jc}var _T;function y9e(){if(_T)return Iv;_T=1;var r=g9e(),e=$m(),t=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),n=typeof navigator<"u"&&/Win/.test(navigator.platform);function i(p){var y=p.split(/-(?!$)/),T=y[y.length-1];T=="Space"&&(T=" ");for(var N,O,A,z,H=0;H<y.length-1;H++){var j=y[H];if(/^(cmd|meta|m)$/i.test(j))z=!0;else if(/^a(lt)?$/i.test(j))N=!0;else if(/^(c|ctrl|control)$/i.test(j))O=!0;else if(/^s(hift)?$/i.test(j))A=!0;else if(/^mod$/i.test(j))t?z=!0:O=!0;else throw new Error("Unrecognized modifier name: "+j)}return N&&(T="Alt-"+T),O&&(T="Ctrl-"+T),z&&(T="Meta-"+T),A&&(T="Shift-"+T),T}function a(p){var y=Object.create(null);for(var T in p)y[i(T)]=p[T];return y}function s(p,y){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return y.altKey&&(p="Alt-"+p),y.ctrlKey&&(p="Ctrl-"+p),y.metaKey&&(p="Meta-"+p),T&&y.shiftKey&&(p="Shift-"+p),p}function u(p){return new e.Plugin({props:{handleKeyDown:f(p)}})}function f(p){var y=a(p);return function(T,N){var O=r.keyName(N),A,z=y[s(O,N)];if(z&&z(T.state,T.dispatch,T))return!0;if(O.length==1&&O!=" "){if(N.shiftKey){var H=y[s(O,N,!1)];if(H&&H(T.state,T.dispatch,T))return!0}if((N.altKey||N.metaKey||N.ctrlKey)&&!(n&&N.ctrlKey&&N.altKey)&&(A=r.base[N.keyCode])&&A!=O){var j=y[s(A,N)];if(j&&j(T.state,T.dispatch,T))return!0}}return!1}}return Iv.keydownHandler=f,Iv.keymap=u,Iv}var fu={},qT;function k9e(){if(qT)return fu;qT=1;function r(d,w){return n(d)||t(d,w)||a(d,w)||e()}function e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t(d,w){var h=d==null?null:typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(h!=null){var k,S,M,I,P=[],W=!0,J=!1;try{if(M=(h=h.call(d)).next,w!==0)for(;!(W=(k=M.call(h)).done)&&(P.push(k.value),P.length!==w);W=!0);}catch(ue){J=!0,S=ue}finally{try{if(!W&&h.return!=null&&(I=h.return(),Object(I)!==I))return}finally{if(J)throw S}}return P}}function n(d){if(Array.isArray(d))return d}function i(d,w){var h=typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(!h){if(Array.isArray(d)||(h=a(d))||w){h&&(d=h);var k=0,S=function(){};return{s:S,n:function(){return k>=d.length?{done:!0}:{done:!1,value:d[k++]}},e:function(J){throw J},f:S}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var M=!0,I=!1,P;return{s:function(){h=h.call(d)},n:function(){var J=h.next();return M=J.done,J},e:function(J){I=!0,P=J},f:function(){try{!M&&h.return!=null&&h.return()}finally{if(I)throw P}}}}function a(d,w){if(d){if(typeof d=="string")return s(d,w);var h=Object.prototype.toString.call(d).slice(8,-1);if(h==="Object"&&d.constructor&&(h=d.constructor.name),h==="Map"||h==="Set")return Array.from(d);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return s(d,w)}}function s(d,w){(w==null||w>d.length)&&(w=d.length);for(var h=0,k=new Array(w);h<w;h++)k[h]=d[h];return k}function u(){return typeof Reflect<"u"&&Reflect.get?u=Reflect.get.bind():u=function(w,h,k){var S=f(w,h);if(S){var M=Object.getOwnPropertyDescriptor(S,h);return M.get?M.get.call(arguments.length<3?w:k):M.value}},u.apply(this,arguments)}function f(d,w){for(;!Object.prototype.hasOwnProperty.call(d,w)&&(d=z(d),d!==null););return d}function p(d,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(w&&w.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),w&&y(d,w)}function y(d,w){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(k,S){return k.__proto__=S,k},y(d,w)}function T(d){var w=A();return function(){var k=z(d),S;if(w){var M=z(this).constructor;S=Reflect.construct(k,arguments,M)}else S=k.apply(this,arguments);return N(this,S)}}function N(d,w){if(w&&(H(w)==="object"||typeof w=="function"))return w;if(w!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O(d)}function O(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function A(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function z(d){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)},z(d)}function H(d){"@babel/helpers - typeof";return H=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},H(d)}function j(d,w){if(!(d instanceof w))throw new TypeError("Cannot call a class as a function")}function ie(d,w){for(var h=0;h<w.length;h++){var k=w[h];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(d,ve(k.key),k)}}function le(d,w,h){return w&&ie(d.prototype,w),h&&ie(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function ve(d){var w=be(d,"string");return H(w)==="symbol"?w:String(w)}function be(d,w){if(H(d)!=="object"||d===null)return d;var h=d[Symbol.toPrimitive];if(h!==void 0){var k=h.call(d,w);if(H(k)!=="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)}var me=$m(),Ee=Vm(),Ce=_k(),_e=function(w){for(var h=0;;h++)if(w=w.previousSibling,!w)return h},We=function(w){var h=w.assignedSlot||w.parentNode;return h&&h.nodeType==11?h.host:h},Mt=null,tt=function(w,h,k){var S=Mt||(Mt=document.createRange());return S.setEnd(w,k??w.nodeValue.length),S.setStart(w,h||0),S},Rt=function(){Mt=null},Dt=function(w,h,k,S){return k&&(St(w,h,k,S,-1)||St(w,h,k,S,1))},zt=/^(img|br|input|textarea|hr)$/i;function St(d,w,h,k,S){for(var M;;){if(d==h&&w==k)return!0;if(w==(S<0?0:Pt(d))){var I=d.parentNode;if(!I||I.nodeType!=1||ge(d)||zt.test(d.nodeName)||d.contentEditable=="false")return!1;w=_e(d)+(S<0?0:1),d=I}else if(d.nodeType==1){var P=d.childNodes[w+(S<0?-1:0)];if(P.nodeType==1&&P.contentEditable=="false")if(!((M=P.pmViewDesc)===null||M===void 0)&&M.ignoreForSelection)w+=S;else return!1;else d=P,w=S<0?Pt(d):0}else return!1}}function Pt(d){return d.nodeType==3?d.nodeValue.length:d.childNodes.length}function Ye(d,w){for(;;){if(d.nodeType==3&&w)return d;if(d.nodeType==1&&w>0){if(d.contentEditable=="false")return null;d=d.childNodes[w-1],w=Pt(d)}else if(d.parentNode&&!ge(d))w=_e(d),d=d.parentNode;else return null}}function mt(d,w){for(;;){if(d.nodeType==3&&w<d.nodeValue.length)return d;if(d.nodeType==1&&w<d.childNodes.length){if(d.contentEditable=="false")return null;d=d.childNodes[w],w=0}else if(d.parentNode&&!ge(d))w=_e(d)+1,d=d.parentNode;else return null}}function Ve(d,w,h){for(var k=w==0,S=w==Pt(d);k||S;){if(d==h)return!0;var M=_e(d);if(d=d.parentNode,!d)return!1;k=k&&M==0,S=S&&M==Pt(d)}}function ge(d){for(var w,h=d;h&&!(w=h.pmViewDesc);h=h.parentNode);return w&&w.node&&w.node.isBlock&&(w.dom==d||w.contentDOM==d)}var Le=function(w){return w.focusNode&&Dt(w.focusNode,w.focusOffset,w.anchorNode,w.anchorOffset)};function ct(d,w){var h=document.createEvent("Event");return h.initEvent("keydown",!0,!0),h.keyCode=d,h.key=h.code=w,h}function pt(d){for(var w=d.activeElement;w&&w.shadowRoot;)w=w.shadowRoot.activeElement;return w}function Ht(d,w,h){if(d.caretPositionFromPoint)try{var k=d.caretPositionFromPoint(w,h);if(k)return{node:k.offsetNode,offset:Math.min(Pt(k.offsetNode),k.offset)}}catch{}if(d.caretRangeFromPoint){var S=d.caretRangeFromPoint(w,h);if(S)return{node:S.startContainer,offset:Math.min(Pt(S.startContainer),S.startOffset)}}}var xe=typeof navigator<"u"?navigator:null,we=typeof document<"u"?document:null,oe=xe&&xe.userAgent||"",he=/Edge\/(\d+)/.exec(oe),se=/MSIE \d/.exec(oe),Pe=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(oe),He=!!(se||Pe||he),nt=se?document.documentMode:Pe?+Pe[1]:he?+he[1]:0,qt=!He&&/gecko\/(\d+)/i.test(oe);qt&&+(/Firefox\/(\d+)/.exec(oe)||[0,0])[1];var Wt=!He&&/Chrome\/(\d+)/.exec(oe),Vt=!!Wt,br=Wt?+Wt[1]:0,Kt=!He&&!!xe&&/Apple Computer/.test(xe.vendor),Pr=Kt&&(/Mobile\/\w+/.test(oe)||!!xe&&xe.maxTouchPoints>2),yr=Pr||(xe?/Mac/.test(xe.platform):!1),Sr=xe?/Win/.test(xe.platform):!1,nr=/Android \d/.test(oe),Vr=!!we&&"webkitFontSmoothing"in we.documentElement.style,yi=Vr?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Fn(d){var w=d.defaultView&&d.defaultView.visualViewport;return w?{left:0,right:w.width,top:0,bottom:w.height}:{left:0,right:d.documentElement.clientWidth,top:0,bottom:d.documentElement.clientHeight}}function Br(d,w){return typeof d=="number"?d:d[w]}function lt(d){var w=d.getBoundingClientRect(),h=w.width/d.offsetWidth||1,k=w.height/d.offsetHeight||1;return{left:w.left,right:w.left+d.clientWidth*h,top:w.top,bottom:w.top+d.clientHeight*k}}function ut(d,w,h){for(var k=d.someProp("scrollThreshold")||0,S=d.someProp("scrollMargin")||5,M=d.dom.ownerDocument,I=h||d.dom;I;){if(I.nodeType!=1){I=We(I);continue}var P=I,W=P==M.body,J=W?Fn(M):lt(P),ue=0,Te=0;if(w.top<J.top+Br(k,"top")?Te=-(J.top-w.top+Br(S,"top")):w.bottom>J.bottom-Br(k,"bottom")&&(Te=w.bottom-w.top>J.bottom-J.top?w.top+Br(S,"top")-J.top:w.bottom-J.bottom+Br(S,"bottom")),w.left<J.left+Br(k,"left")?ue=-(J.left-w.left+Br(S,"left")):w.right>J.right-Br(k,"right")&&(ue=w.right-J.right+Br(S,"right")),ue||Te)if(W)M.defaultView.scrollBy(ue,Te);else{var pe=P.scrollLeft,Ie=P.scrollTop;Te&&(P.scrollTop+=Te),ue&&(P.scrollLeft+=ue);var $e=P.scrollLeft-pe,ot=P.scrollTop-Ie;w={left:w.left-$e,top:w.top-ot,right:w.right-$e,bottom:w.bottom-ot}}var ft=W?"fixed":getComputedStyle(I).position;if(/^(fixed|sticky)$/.test(ft))break;I=ft=="absolute"?I.offsetParent:We(I)}}function Bt(d){for(var w=d.dom.getBoundingClientRect(),h=Math.max(0,w.top),k,S,M=(w.left+w.right)/2,I=h+1;I<Math.min(innerHeight,w.bottom);I+=5){var P=d.root.elementFromPoint(M,I);if(!(!P||P==d.dom||!d.dom.contains(P))){var W=P.getBoundingClientRect();if(W.top>=h-20){k=P,S=W.top;break}}}return{refDOM:k,refTop:S,stack:$t(d.dom)}}function $t(d){for(var w=[],h=d.ownerDocument,k=d;k&&(w.push({dom:k,top:k.scrollTop,left:k.scrollLeft}),d!=h);k=We(k));return w}function Yt(d){var w=d.refDOM,h=d.refTop,k=d.stack,S=w?w.getBoundingClientRect().top:0;Yr(k,S==0?0:S-h)}function Yr(d,w){for(var h=0;h<d.length;h++){var k=d[h],S=k.dom,M=k.top,I=k.left;S.scrollTop!=M+w&&(S.scrollTop=M+w),S.scrollLeft!=I&&(S.scrollLeft=I)}}var pr=null;function Cr(d){if(d.setActive)return d.setActive();if(pr)return d.focus(pr);var w=$t(d);d.focus(pr==null?{get preventScroll(){return pr={preventScroll:!0},!0}}:void 0),pr||(pr=!1,Yr(w,0))}function Sn(d,w){for(var h,k=2e8,S,M=0,I=w.top,P=w.top,W,J,ue=d.firstChild,Te=0;ue;ue=ue.nextSibling,Te++){var pe=void 0;if(ue.nodeType==1)pe=ue.getClientRects();else if(ue.nodeType==3)pe=tt(ue).getClientRects();else continue;for(var Ie=0;Ie<pe.length;Ie++){var $e=pe[Ie];if($e.top<=I&&$e.bottom>=P){I=Math.max($e.bottom,I),P=Math.min($e.top,P);var ot=$e.left>w.left?$e.left-w.left:$e.right<w.left?w.left-$e.right:0;if(ot<k){h=ue,k=ot,S=ot&&h.nodeType==3?{left:$e.right<w.left?$e.right:$e.left,top:w.top}:w,ue.nodeType==1&&ot&&(M=Te+(w.left>=($e.left+$e.right)/2?1:0));continue}}else $e.top>w.top&&!W&&$e.left<=w.left&&$e.right>=w.left&&(W=ue,J={left:Math.max($e.left,Math.min($e.right,w.left)),top:$e.top});!h&&(w.left>=$e.right&&w.top>=$e.top||w.left>=$e.left&&w.top>=$e.bottom)&&(M=Te+1)}}return!h&&W&&(h=W,S=J,k=0),h&&h.nodeType==3?_n(h,S):!h||k&&h.nodeType==1?{node:d,offset:M}:Sn(h,S)}function _n(d,w){for(var h=d.nodeValue.length,k=document.createRange(),S=0;S<h;S++){k.setEnd(d,S+1),k.setStart(d,S);var M=Fr(k,1);if(M.top!=M.bottom&&Dr(w,M))return{node:d,offset:S+(w.left>=(M.left+M.right)/2?1:0)}}return{node:d,offset:0}}function Dr(d,w){return d.left>=w.left-1&&d.left<=w.right+1&&d.top>=w.top-1&&d.top<=w.bottom+1}function ln(d,w){var h=d.parentNode;return h&&/^li$/i.test(h.nodeName)&&w.left<d.getBoundingClientRect().left?h:d}function Zn(d,w,h){var k=Sn(w,h),S=k.node,M=k.offset,I=-1;if(S.nodeType==1&&!S.firstChild){var P=S.getBoundingClientRect();I=P.left!=P.right&&h.left>(P.left+P.right)/2?1:-1}return d.docView.posFromDOM(S,M,I)}function qn(d,w,h,k){for(var S=-1,M=w,I=!1;M!=d.dom;){var P=d.docView.nearestDesc(M,!0),W=void 0;if(!P)return null;if(P.dom.nodeType==1&&(P.node.isBlock&&P.parent||!P.contentDOM)&&((W=P.dom.getBoundingClientRect()).width||W.height)&&(P.node.isBlock&&P.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(P.dom.nodeName)&&(!I&&W.left>k.left||W.top>k.top?S=P.posBefore:(!I&&W.right<k.left||W.bottom<k.top)&&(S=P.posAfter),I=!0),!P.contentDOM&&S<0&&!P.node.isText)){var J=P.node.isBlock?k.top<(W.top+W.bottom)/2:k.left<(W.left+W.right)/2;return J?P.posBefore:P.posAfter}M=P.dom.parentNode}return S>-1?S:d.docView.posFromDOM(w,h,-1)}function Zr(d,w,h){var k=d.childNodes.length;if(k&&h.top<h.bottom)for(var S=Math.max(0,Math.min(k-1,Math.floor(k*(w.top-h.top)/(h.bottom-h.top))-2)),M=S;;){var I=d.childNodes[M];if(I.nodeType==1)for(var P=I.getClientRects(),W=0;W<P.length;W++){var J=P[W];if(Dr(w,J))return Zr(I,w,J)}if((M=(M+1)%k)==S)break}return d}function Kr(d,w){var h=d.dom.ownerDocument,k,S=0,M=Ht(h,w.left,w.top);M&&(k=M.node,S=M.offset);var I=(d.root.elementFromPoint?d.root:h).elementFromPoint(w.left,w.top),P;if(!I||!d.dom.contains(I.nodeType!=1?I.parentNode:I)){var W=d.dom.getBoundingClientRect();if(!Dr(w,W)||(I=Zr(d.dom,w,W),!I))return null}if(Kt)for(var J=I;k&&J;J=We(J))J.draggable&&(k=void 0);if(I=ln(I,w),k){if(qt&&k.nodeType==1&&(S=Math.min(S,k.childNodes.length),S<k.childNodes.length)){var ue=k.childNodes[S],Te;ue.nodeName=="IMG"&&(Te=ue.getBoundingClientRect()).right<=w.left&&Te.bottom>w.top&&S++}var pe;Vr&&S&&k.nodeType==1&&(pe=k.childNodes[S-1]).nodeType==1&&pe.contentEditable=="false"&&pe.getBoundingClientRect().top>=w.top&&S--,k==d.dom&&S==k.childNodes.length-1&&k.lastChild.nodeType==1&&w.top>k.lastChild.getBoundingClientRect().bottom?P=d.state.doc.content.size:(S==0||k.nodeType!=1||k.childNodes[S-1].nodeName!="BR")&&(P=qn(d,k,S,w))}P==null&&(P=Zn(d,I,w));var Ie=d.docView.nearestDesc(I,!0);return{pos:P,inside:Ie?Ie.posAtStart-Ie.border:-1}}function mn(d){return d.top<d.bottom||d.left<d.right}function Fr(d,w){var h=d.getClientRects();if(h.length){var k=h[w<0?0:h.length-1];if(mn(k))return k}return Array.prototype.find.call(h,mn)||d.getBoundingClientRect()}var zn=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function vr(d,w,h){var k=d.docView.domFromPos(w,h<0?-1:1),S=k.node,M=k.offset,I=k.atom,P=Vr||qt;if(S.nodeType==3)if(P&&(zn.test(S.nodeValue)||(h<0?!M:M==S.nodeValue.length))){var W=Fr(tt(S,M,M),h);if(qt&&M&&/\s/.test(S.nodeValue[M-1])&&M<S.nodeValue.length){var J=Fr(tt(S,M-1,M-1),-1);if(J.top==W.top){var ue=Fr(tt(S,M,M+1),-1);if(ue.top!=W.top)return $r(ue,ue.left<J.left)}}return W}else{var Te=M,pe=M,Ie=h<0?1:-1;return h<0&&!M?(pe++,Ie=-1):h>=0&&M==S.nodeValue.length?(Te--,Ie=1):h<0?Te--:pe++,$r(Fr(tt(S,Te,pe),Ie),Ie<0)}var $e=d.state.doc.resolve(w-(I||0));if(!$e.parent.inlineContent){if(I==null&&M&&(h<0||M==Pt(S))){var ot=S.childNodes[M-1];if(ot.nodeType==1)return X(ot.getBoundingClientRect(),!1)}if(I==null&&M<Pt(S)){var ft=S.childNodes[M];if(ft.nodeType==1)return X(ft.getBoundingClientRect(),!0)}return X(S.getBoundingClientRect(),h>=0)}if(I==null&&M&&(h<0||M==Pt(S))){var Ke=S.childNodes[M-1],er=Ke.nodeType==3?tt(Ke,Pt(Ke)-(P?0:1)):Ke.nodeType==1&&(Ke.nodeName!="BR"||!Ke.nextSibling)?Ke:null;if(er)return $r(Fr(er,1),!1)}if(I==null&&M<Pt(S)){for(var jt=S.childNodes[M];jt.pmViewDesc&&jt.pmViewDesc.ignoreForCoords;)jt=jt.nextSibling;var At=jt?jt.nodeType==3?tt(jt,0,P?0:1):jt.nodeType==1?jt:null:null;if(At)return $r(Fr(At,-1),!0)}return $r(Fr(S.nodeType==3?tt(S):S,-h),h>=0)}function $r(d,w){if(d.width==0)return d;var h=w?d.left:d.right;return{top:d.top,bottom:d.bottom,left:h,right:h}}function X(d,w){if(d.height==0)return d;var h=w?d.top:d.bottom;return{top:h,bottom:h,left:d.left,right:d.right}}function Y(d,w,h){var k=d.state,S=d.root.activeElement;k!=w&&d.updateState(w),S!=d.dom&&d.focus();try{return h()}finally{k!=w&&d.updateState(k),S!=d.dom&&S&&S.focus()}}function q(d,w,h){var k=w.selection,S=h=="up"?k.$from:k.$to;return Y(d,w,function(){for(var M=d.docView.domFromPos(S.pos,h=="up"?-1:1),I=M.node;;){var P=d.docView.nearestDesc(I,!0);if(!P)break;if(P.node.isBlock){I=P.contentDOM||P.dom;break}I=P.dom.parentNode}for(var W=vr(d,S.pos,1),J=I.firstChild;J;J=J.nextSibling){var ue=void 0;if(J.nodeType==1)ue=J.getClientRects();else if(J.nodeType==3)ue=tt(J,0,J.nodeValue.length).getClientRects();else continue;for(var Te=0;Te<ue.length;Te++){var pe=ue[Te];if(pe.bottom>pe.top+1&&(h=="up"?W.top-pe.top>(pe.bottom-W.top)*2:pe.bottom-W.bottom>(W.bottom-pe.top)*2))return!1}}return!0})}var F=/[\u0590-\u08ac]/;function $(d,w,h){var k=w.selection.$head;if(!k.parent.isTextblock)return!1;var S=k.parentOffset,M=!S,I=S==k.parent.content.size,P=d.domSelection();return P?!F.test(k.parent.textContent)||!P.modify?h=="left"||h=="backward"?M:I:Y(d,w,function(){var W=d.domSelectionRange(),J=W.focusNode,ue=W.focusOffset,Te=W.anchorNode,pe=W.anchorOffset,Ie=P.caretBidiLevel;P.modify("move",h,"character");var $e=k.depth?d.docView.domAfterPos(k.before()):d.dom,ot=d.domSelectionRange(),ft=ot.focusNode,Ke=ot.focusOffset,er=ft&&!$e.contains(ft.nodeType==1?ft:ft.parentNode)||J==ft&&ue==Ke;try{P.collapse(Te,pe),J&&(J!=Te||ue!=pe)&&P.extend&&P.extend(J,ue)}catch{}return Ie!=null&&(P.caretBidiLevel=Ie),er}):k.pos==k.start()||k.pos==k.end()}var G=null,te=null,Ne=!1;function qe(d,w,h){return G==w&&te==h?Ne:(G=w,te=h,Ne=h=="up"||h=="down"?q(d,w,h):$(d,w,h))}var de=0,re=1,Ae=2,Be=3,it=(function(){function d(w,h,k,S){j(this,d),this.parent=w,this.children=h,this.dom=k,this.contentDOM=S,this.dirty=de,k.pmViewDesc=this}return le(d,[{key:"matchesWidget",value:function(h){return!1}},{key:"matchesMark",value:function(h){return!1}},{key:"matchesNode",value:function(h,k,S){return!1}},{key:"matchesHack",value:function(h){return!1}},{key:"parseRule",value:function(){return null}},{key:"stopEvent",value:function(h){return!1}},{key:"size",get:function(){for(var h=0,k=0;k<this.children.length;k++)h+=this.children[k].size;return h}},{key:"border",get:function(){return 0}},{key:"destroy",value:function(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(var h=0;h<this.children.length;h++)this.children[h].destroy()}},{key:"posBeforeChild",value:function(h){for(var k=0,S=this.posAtStart;;k++){var M=this.children[k];if(M==h)return S;S+=M.size}}},{key:"posBefore",get:function(){return this.parent.posBeforeChild(this)}},{key:"posAtStart",get:function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}},{key:"posAfter",get:function(){return this.posBefore+this.size}},{key:"posAtEnd",get:function(){return this.posAtStart+this.size-2*this.border}},{key:"localPosFromDOM",value:function(h,k,S){if(this.contentDOM&&this.contentDOM.contains(h.nodeType==1?h:h.parentNode))if(S<0){var M,I;if(h==this.contentDOM)M=h.childNodes[k-1];else{for(;h.parentNode!=this.contentDOM;)h=h.parentNode;M=h.previousSibling}for(;M&&!((I=M.pmViewDesc)&&I.parent==this);)M=M.previousSibling;return M?this.posBeforeChild(I)+I.size:this.posAtStart}else{var P,W;if(h==this.contentDOM)P=h.childNodes[k];else{for(;h.parentNode!=this.contentDOM;)h=h.parentNode;P=h.nextSibling}for(;P&&!((W=P.pmViewDesc)&&W.parent==this);)P=P.nextSibling;return P?this.posBeforeChild(W):this.posAtEnd}var J;if(h==this.dom&&this.contentDOM)J=k>_e(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))J=h.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(k==0)for(var ue=h;;ue=ue.parentNode){if(ue==this.dom){J=!1;break}if(ue.previousSibling)break}if(J==null&&k==h.childNodes.length)for(var Te=h;;Te=Te.parentNode){if(Te==this.dom){J=!0;break}if(Te.nextSibling)break}}return J??S>0?this.posAtEnd:this.posAtStart}},{key:"nearestDesc",value:function(h){for(var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,S=!0,M=h;M;M=M.parentNode){var I=this.getDesc(M),P=void 0;if(I&&(!k||I.node))if(S&&(P=I.nodeDOM)&&!(P.nodeType==1?P.contains(h.nodeType==1?h:h.parentNode):P==h))S=!1;else return I}}},{key:"getDesc",value:function(h){for(var k=h.pmViewDesc,S=k;S;S=S.parent)if(S==this)return k}},{key:"posFromDOM",value:function(h,k,S){for(var M=h;M;M=M.parentNode){var I=this.getDesc(M);if(I)return I.localPosFromDOM(h,k,S)}return-1}},{key:"descAt",value:function(h){for(var k=0,S=0;k<this.children.length;k++){var M=this.children[k],I=S+M.size;if(S==h&&I!=S){for(;!M.border&&M.children.length;)for(var P=0;P<M.children.length;P++){var W=M.children[P];if(W.size){M=W;break}}return M}if(h<I)return M.descAt(h-S-M.border);S=I}}},{key:"domFromPos",value:function(h,k){if(!this.contentDOM)return{node:this.dom,offset:0,atom:h+1};for(var S=0,M=0,I=0;S<this.children.length;S++){var P=this.children[S],W=I+P.size;if(W>h||P instanceof K){M=h-I;break}I=W}if(M)return this.children[S].domFromPos(M-this.children[S].border,k);for(var J;S&&!(J=this.children[S-1]).size&&J instanceof Nt&&J.side>=0;S--);if(k<=0){for(var ue,Te=!0;ue=S?this.children[S-1]:null,!(!ue||ue.dom.parentNode==this.contentDOM);S--,Te=!1);return ue&&k&&Te&&!ue.border&&!ue.domAtom?ue.domFromPos(ue.size,k):{node:this.contentDOM,offset:ue?_e(ue.dom)+1:0}}else{for(var pe,Ie=!0;pe=S<this.children.length?this.children[S]:null,!(!pe||pe.dom.parentNode==this.contentDOM);S++,Ie=!1);return pe&&Ie&&!pe.border&&!pe.domAtom?pe.domFromPos(0,k):{node:this.contentDOM,offset:pe?_e(pe.dom):this.contentDOM.childNodes.length}}}},{key:"parseRange",value:function(h,k){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.children.length==0)return{node:this.contentDOM,from:h,to:k,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var M=-1,I=-1,P=S,W=0;;W++){var J=this.children[W],ue=P+J.size;if(M==-1&&h<=ue){var Te=P+J.border;if(h>=Te&&k<=ue-J.border&&J.node&&J.contentDOM&&this.contentDOM.contains(J.contentDOM))return J.parseRange(h,k,Te);h=P;for(var pe=W;pe>0;pe--){var Ie=this.children[pe-1];if(Ie.size&&Ie.dom.parentNode==this.contentDOM&&!Ie.emptyChildAt(1)){M=_e(Ie.dom)+1;break}h-=Ie.size}M==-1&&(M=0)}if(M>-1&&(ue>k||W==this.children.length-1)){k=ue;for(var $e=W+1;$e<this.children.length;$e++){var ot=this.children[$e];if(ot.size&&ot.dom.parentNode==this.contentDOM&&!ot.emptyChildAt(-1)){I=_e(ot.dom);break}k+=ot.size}I==-1&&(I=this.contentDOM.childNodes.length);break}P=ue}return{node:this.contentDOM,from:h,to:k,fromOffset:M,toOffset:I}}},{key:"emptyChildAt",value:function(h){if(this.border||!this.contentDOM||!this.children.length)return!1;var k=this.children[h<0?0:this.children.length-1];return k.size==0||k.emptyChildAt(h)}},{key:"domAfterPos",value:function(h){var k=this.domFromPos(h,0),S=k.node,M=k.offset;if(S.nodeType!=1||M==S.childNodes.length)throw new RangeError("No node after pos "+h);return S.childNodes[M]}},{key:"setSelection",value:function(h,k,S){for(var M=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,I=Math.min(h,k),P=Math.max(h,k),W=0,J=0;W<this.children.length;W++){var ue=this.children[W],Te=J+ue.size;if(I>J&&P<Te)return ue.setSelection(h-J-ue.border,k-J-ue.border,S,M);J=Te}var pe=this.domFromPos(h,h?-1:1),Ie=k==h?pe:this.domFromPos(k,k?-1:1),$e=S.root.getSelection(),ot=S.domSelectionRange(),ft=!1;if((qt||Kt)&&h==k){var Ke=pe,er=Ke.node,jt=Ke.offset;if(er.nodeType==3){if(ft=!!(jt&&er.nodeValue[jt-1]==`
`),ft&&jt==er.nodeValue.length)for(var At=er,Qt;At;At=At.parentNode){if(Qt=At.nextSibling){Qt.nodeName=="BR"&&(pe=Ie={node:Qt.parentNode,offset:_e(Qt)+1});break}var or=At.pmViewDesc;if(or&&or.node&&or.node.isBlock)break}}else{var gr=er.childNodes[jt-1];ft=gr&&(gr.nodeName=="BR"||gr.contentEditable=="false")}}if(qt&&ot.focusNode&&ot.focusNode!=Ie.node&&ot.focusNode.nodeType==1){var $n=ot.focusNode.childNodes[ot.focusOffset];$n&&$n.contentEditable=="false"&&(M=!0)}if(!(!(M||ft&&Kt)&&Dt(pe.node,pe.offset,ot.anchorNode,ot.anchorOffset)&&Dt(Ie.node,Ie.offset,ot.focusNode,ot.focusOffset))){var qr=!1;if(($e.extend||h==k)&&!ft){$e.collapse(pe.node,pe.offset);try{h!=k&&$e.extend(Ie.node,Ie.offset),qr=!0}catch{}}if(!qr){if(h>k){var cn=pe;pe=Ie,Ie=cn}var oi=document.createRange();oi.setEnd(Ie.node,Ie.offset),oi.setStart(pe.node,pe.offset),$e.removeAllRanges(),$e.addRange(oi)}}}},{key:"ignoreMutation",value:function(h){return!this.contentDOM&&h.type!="selection"}},{key:"contentLost",get:function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}},{key:"markDirty",value:function(h,k){for(var S=0,M=0;M<this.children.length;M++){var I=this.children[M],P=S+I.size;if(S==P?h<=P&&k>=S:h<P&&k>S){var W=S+I.border,J=P-I.border;if(h>=W&&k<=J){this.dirty=h==S||k==P?Ae:re,h==W&&k==J&&(I.contentLost||I.dom.parentNode!=this.contentDOM)?I.dirty=Be:I.markDirty(h-W,k-W);return}else I.dirty=I.dom==I.contentDOM&&I.dom.parentNode==this.contentDOM&&!I.children.length?Ae:Be}S=P}this.dirty=Ae}},{key:"markParentsDirty",value:function(){for(var h=1,k=this.parent;k;k=k.parent,h++){var S=h==1?Ae:re;k.dirty<S&&(k.dirty=S)}}},{key:"domAtom",get:function(){return!1}},{key:"ignoreForCoords",get:function(){return!1}},{key:"ignoreForSelection",get:function(){return!1}},{key:"isText",value:function(h){return!1}}]),d})(),Nt=(function(d){p(h,d);var w=T(h);function h(k,S,M,I){var P;j(this,h);var W,J=S.type.toDOM;if(typeof J=="function"&&(J=J(M,function(){if(!W)return I;if(W.parent)return W.parent.posBeforeChild(W)})),!S.type.spec.raw){if(J.nodeType!=1){var ue=document.createElement("span");ue.appendChild(J),J=ue}J.contentEditable="false",J.classList.add("ProseMirror-widget")}return P=w.call(this,k,[],J,null),P.widget=S,P.widget=S,W=O(P),P}return le(h,[{key:"matchesWidget",value:function(S){return this.dirty==de&&S.type.eq(this.widget.type)}},{key:"parseRule",value:function(){return{ignore:!0}}},{key:"stopEvent",value:function(S){var M=this.widget.spec.stopEvent;return M?M(S):!1}},{key:"ignoreMutation",value:function(S){return S.type!="selection"||this.widget.spec.ignoreSelection}},{key:"destroy",value:function(){this.widget.type.destroy(this.dom),u(z(h.prototype),"destroy",this).call(this)}},{key:"domAtom",get:function(){return!0}},{key:"ignoreForSelection",get:function(){return!!this.widget.type.spec.relaxedSide}},{key:"side",get:function(){return this.widget.type.side}}]),h})(it),V=(function(d){p(h,d);var w=T(h);function h(k,S,M,I){var P;return j(this,h),P=w.call(this,k,[],S,null),P.textDOM=M,P.text=I,P}return le(h,[{key:"size",get:function(){return this.text.length}},{key:"localPosFromDOM",value:function(S,M){return S!=this.textDOM?this.posAtStart+(M?this.size:0):this.posAtStart+M}},{key:"domFromPos",value:function(S){return{node:this.textDOM,offset:S}}},{key:"ignoreMutation",value:function(S){return S.type==="characterData"&&S.target.nodeValue==S.oldValue}}]),h})(it),R=(function(d){p(h,d);var w=T(h);function h(k,S,M,I,P){var W;return j(this,h),W=w.call(this,k,[],M,I),W.mark=S,W.spec=P,W}return le(h,[{key:"parseRule",value:function(){return this.dirty&Be||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}},{key:"matchesMark",value:function(S){return this.dirty!=Be&&this.mark.eq(S)}},{key:"markDirty",value:function(S,M){if(u(z(h.prototype),"markDirty",this).call(this,S,M),this.dirty!=de){for(var I=this.parent;!I.node;)I=I.parent;I.dirty<this.dirty&&(I.dirty=this.dirty),this.dirty=de}}},{key:"slice",value:function(S,M,I){var P=h.create(this.parent,this.mark,!0,I),W=this.children,J=this.size;M<J&&(W=Hn(W,M,J,I)),S>0&&(W=Hn(W,0,S,I));for(var ue=0;ue<W.length;ue++)W[ue].parent=P;return P.children=W,P}},{key:"ignoreMutation",value:function(S){return this.spec.ignoreMutation?this.spec.ignoreMutation(S):u(z(h.prototype),"ignoreMutation",this).call(this,S)}},{key:"destroy",value:function(){this.spec.destroy&&this.spec.destroy(),u(z(h.prototype),"destroy",this).call(this)}}],[{key:"create",value:function(S,M,I,P){var W=P.nodeViews[M.type.name],J=W&&W(M,P,I);return(!J||!J.dom)&&(J=Ee.DOMSerializer.renderSpec(document,M.type.spec.toDOM(M,I),null,M.attrs)),new h(S,M,J.dom,J.contentDOM||J.dom,J)}}]),h})(it),b=(function(d){p(h,d);var w=T(h);function h(k,S,M,I,P,W,J,ue,Te){var pe;return j(this,h),pe=w.call(this,k,[],P,W),pe.node=S,pe.outerDeco=M,pe.innerDeco=I,pe.nodeDOM=J,pe}return le(h,[{key:"parseRule",value:function(){var S=this;if(this.node.type.spec.reparseInView)return null;var M={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(M.preserveWhitespace="full"),!this.contentDOM)M.getContent=function(){return S.node.content};else if(!this.contentLost)M.contentElement=this.contentDOM;else{for(var I=this.children.length-1;I>=0;I--){var P=this.children[I];if(this.dom.contains(P.dom.parentNode)){M.contentElement=P.dom.parentNode;break}}M.contentElement||(M.getContent=function(){return Ee.Fragment.empty})}return M}},{key:"matchesNode",value:function(S,M,I){return this.dirty==de&&S.eq(this.node)&&Zt(M,this.outerDeco)&&I.eq(this.innerDeco)}},{key:"size",get:function(){return this.node.nodeSize}},{key:"border",get:function(){return this.node.isLeaf?0:1}},{key:"updateChildren",value:function(S,M){var I=this,P=this.node.inlineContent,W=M,J=S.composing?this.localCompositionInfo(S,M):null,ue=J&&J.pos>-1?J:null,Te=J&&J.pos<0,pe=new Ar(this,ue&&ue.node,S);Ps(this.node,this.innerDeco,function(Ie,$e,ot){Ie.spec.marks?pe.syncToMarks(Ie.spec.marks,P,S):Ie.type.side>=0&&!ot&&pe.syncToMarks($e==I.node.childCount?Ee.Mark.none:I.node.child($e).marks,P,S),pe.placeWidget(Ie,S,W)},function(Ie,$e,ot,ft){pe.syncToMarks(Ie.marks,P,S);var Ke;pe.findNodeMatch(Ie,$e,ot,ft)||Te&&S.state.selection.from>W&&S.state.selection.to<W+Ie.nodeSize&&(Ke=pe.findIndexWithChild(J.node))>-1&&pe.updateNodeAt(Ie,$e,ot,Ke,S)||pe.updateNextNode(Ie,$e,ot,S,ft,W)||pe.addNode(Ie,$e,ot,S,W),W+=Ie.nodeSize}),pe.syncToMarks([],P,S),this.node.isTextblock&&pe.addTextblockHacks(),pe.destroyRest(),(pe.changed||this.dirty==Ae)&&(ue&&this.protectLocalComposition(S,ue),ae(this.contentDOM,this.children,S),Pr&&Ho(this.dom))}},{key:"localCompositionInfo",value:function(S,M){var I=S.state.selection,P=I.from,W=I.to;if(!(S.state.selection instanceof me.TextSelection)||P<M||W>M+this.node.content.size)return null;var J=S.input.compositionNode;if(!J||!this.dom.contains(J.parentNode))return null;if(this.node.inlineContent){var ue=J.nodeValue,Te=Na(this.node.content,ue,P-M,W-M);return Te<0?null:{node:J,pos:Te,text:ue}}else return{node:J,pos:-1,text:""}}},{key:"protectLocalComposition",value:function(S,M){var I=M.node,P=M.pos,W=M.text;if(!this.getDesc(I)){for(var J=I;J.parentNode!=this.contentDOM;J=J.parentNode){for(;J.previousSibling;)J.parentNode.removeChild(J.previousSibling);for(;J.nextSibling;)J.parentNode.removeChild(J.nextSibling);J.pmViewDesc&&(J.pmViewDesc=void 0)}var ue=new V(this,J,I,W);S.input.compositionNodes.push(ue),this.children=Hn(this.children,P,P+W.length,S,ue)}}},{key:"update",value:function(S,M,I,P){return this.dirty==Be||!S.sameMarkup(this.node)?!1:(this.updateInner(S,M,I,P),!0)}},{key:"updateInner",value:function(S,M,I,P){this.updateOuterDeco(M),this.node=S,this.innerDeco=I,this.contentDOM&&this.updateChildren(P,this.posAtStart),this.dirty=de}},{key:"updateOuterDeco",value:function(S){if(!Zt(S,this.outerDeco)){var M=this.nodeDOM.nodeType!=1,I=this.dom;this.dom=je(this.dom,this.nodeDOM,Qe(this.outerDeco,this.node,M),Qe(S,this.node,M)),this.dom!=I&&(I.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=S}}},{key:"selectNode",value:function(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}},{key:"deselectNode",value:function(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}},{key:"domAtom",get:function(){return this.node.isAtom}}],[{key:"create",value:function(S,M,I,P,W,J){var ue=W.nodeViews[M.type.name],Te,pe=ue&&ue(M,W,function(){if(!Te)return J;if(Te.parent)return Te.parent.posBeforeChild(Te)},I,P),Ie=pe&&pe.dom,$e=pe&&pe.contentDOM;if(M.isText){if(!Ie)Ie=document.createTextNode(M.text);else if(Ie.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else if(!Ie){var ot=Ee.DOMSerializer.renderSpec(document,M.type.spec.toDOM(M),null,M.attrs);Ie=ot.dom,$e=ot.contentDOM}!$e&&!M.isText&&Ie.nodeName!="BR"&&(Ie.hasAttribute("contenteditable")||(Ie.contentEditable="false"),M.type.spec.draggable&&(Ie.draggable=!0));var ft=Ie;return Ie=Ot(Ie,I,M),pe?Te=new Z(S,M,I,P,Ie,$e||null,ft,pe,W,J+1):M.isText?new B(S,M,I,P,Ie,ft,W):new h(S,M,I,P,Ie,$e||null,ft)}}]),h})(it);function E(d,w,h,k,S){Ot(k,w,d);var M=new b(void 0,d,w,h,k,k,k,S,0);return M.contentDOM&&M.updateChildren(S,0),M}var B=(function(d){p(h,d);var w=T(h);function h(k,S,M,I,P,W,J){return j(this,h),w.call(this,k,S,M,I,P,null,W,J,0)}return le(h,[{key:"parseRule",value:function(){for(var S=this.nodeDOM.parentNode;S&&S!=this.dom&&!S.pmIsDeco;)S=S.parentNode;return{skip:S||!0}}},{key:"update",value:function(S,M,I,P){return this.dirty==Be||this.dirty!=de&&!this.inParent()||!S.sameMarkup(this.node)?!1:(this.updateOuterDeco(M),(this.dirty!=de||S.text!=this.node.text)&&S.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=S.text,P.trackWrites==this.nodeDOM&&(P.trackWrites=null)),this.node=S,this.dirty=de,!0)}},{key:"inParent",value:function(){for(var S=this.parent.contentDOM,M=this.nodeDOM;M;M=M.parentNode)if(M==S)return!0;return!1}},{key:"domFromPos",value:function(S){return{node:this.nodeDOM,offset:S}}},{key:"localPosFromDOM",value:function(S,M,I){return S==this.nodeDOM?this.posAtStart+Math.min(M,this.node.text.length):u(z(h.prototype),"localPosFromDOM",this).call(this,S,M,I)}},{key:"ignoreMutation",value:function(S){return S.type!="characterData"&&S.type!="selection"}},{key:"slice",value:function(S,M,I){var P=this.node.cut(S,M),W=document.createTextNode(P.text);return new h(this.parent,P,this.outerDeco,this.innerDeco,W,W,I)}},{key:"markDirty",value:function(S,M){u(z(h.prototype),"markDirty",this).call(this,S,M),this.dom!=this.nodeDOM&&(S==0||M==this.nodeDOM.nodeValue.length)&&(this.dirty=Be)}},{key:"domAtom",get:function(){return!1}},{key:"isText",value:function(S){return this.node.text==S}}]),h})(b),K=(function(d){p(h,d);var w=T(h);function h(){return j(this,h),w.apply(this,arguments)}return le(h,[{key:"parseRule",value:function(){return{ignore:!0}}},{key:"matchesHack",value:function(S){return this.dirty==de&&this.dom.nodeName==S}},{key:"domAtom",get:function(){return!0}},{key:"ignoreForCoords",get:function(){return this.dom.nodeName=="IMG"}}]),h})(it),Z=(function(d){p(h,d);var w=T(h);function h(k,S,M,I,P,W,J,ue,Te,pe){var Ie;return j(this,h),Ie=w.call(this,k,S,M,I,P,W,J,Te,pe),Ie.spec=ue,Ie}return le(h,[{key:"update",value:function(S,M,I,P){if(this.dirty==Be)return!1;if(this.spec.update&&(this.node.type==S.type||this.spec.multiType)){var W=this.spec.update(S,M,I);return W&&this.updateInner(S,M,I,P),W}else return!this.contentDOM&&!S.isLeaf?!1:u(z(h.prototype),"update",this).call(this,S,M,I,P)}},{key:"selectNode",value:function(){this.spec.selectNode?this.spec.selectNode():u(z(h.prototype),"selectNode",this).call(this)}},{key:"deselectNode",value:function(){this.spec.deselectNode?this.spec.deselectNode():u(z(h.prototype),"deselectNode",this).call(this)}},{key:"setSelection",value:function(S,M,I,P){this.spec.setSelection?this.spec.setSelection(S,M,I.root):u(z(h.prototype),"setSelection",this).call(this,S,M,I,P)}},{key:"destroy",value:function(){this.spec.destroy&&this.spec.destroy(),u(z(h.prototype),"destroy",this).call(this)}},{key:"stopEvent",value:function(S){return this.spec.stopEvent?this.spec.stopEvent(S):!1}},{key:"ignoreMutation",value:function(S){return this.spec.ignoreMutation?this.spec.ignoreMutation(S):u(z(h.prototype),"ignoreMutation",this).call(this,S)}}]),h})(b);function ae(d,w,h){for(var k=d.firstChild,S=!1,M=0;M<w.length;M++){var I=w[M],P=I.dom;if(P.parentNode==d){for(;P!=k;)k=cr(k),S=!0;k=k.nextSibling}else S=!0,d.insertBefore(P,k);if(I instanceof R){var W=k?k.previousSibling:d.lastChild;ae(I.contentDOM,I.children,h),k=W?W.nextSibling:d.firstChild}}for(;k;)k=cr(k),S=!0;S&&h.trackWrites==d&&(h.trackWrites=null)}var ye=function(w){w&&(this.nodeName=w)};ye.prototype=Object.create(null);var Oe=[new ye];function Qe(d,w,h){if(d.length==0)return Oe;for(var k=h?Oe[0]:new ye,S=[k],M=0;M<d.length;M++){var I=d[M].type.attrs;if(I){I.nodeName&&S.push(k=new ye(I.nodeName));for(var P in I){var W=I[P];W!=null&&(h&&S.length==1&&S.push(k=new ye(w.isInline?"span":"div")),P=="class"?k.class=(k.class?k.class+" ":"")+W:P=="style"?k.style=(k.style?k.style+";":"")+W:P!="nodeName"&&(k[P]=W))}}}return S}function je(d,w,h,k){if(h==Oe&&k==Oe)return w;for(var S=w,M=0;M<k.length;M++){var I=k[M],P=h[M];if(M){var W=void 0;P&&P.nodeName==I.nodeName&&S!=d&&(W=S.parentNode)&&W.nodeName.toLowerCase()==I.nodeName||(W=document.createElement(I.nodeName),W.pmIsDeco=!0,W.appendChild(S),P=Oe[0]),S=W}at(S,P||Oe[0],I)}return S}function at(d,w,h){for(var k in w)k!="class"&&k!="style"&&k!="nodeName"&&!(k in h)&&d.removeAttribute(k);for(var S in h)S!="class"&&S!="style"&&S!="nodeName"&&h[S]!=w[S]&&d.setAttribute(S,h[S]);if(w.class!=h.class){for(var M=w.class?w.class.split(" ").filter(Boolean):[],I=h.class?h.class.split(" ").filter(Boolean):[],P=0;P<M.length;P++)I.indexOf(M[P])==-1&&d.classList.remove(M[P]);for(var W=0;W<I.length;W++)M.indexOf(I[W])==-1&&d.classList.add(I[W]);d.classList.length==0&&d.removeAttribute("class")}if(w.style!=h.style){if(w.style)for(var J=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,ue;ue=J.exec(w.style);)d.style.removeProperty(ue[1]);h.style&&(d.style.cssText+=h.style)}}function Ot(d,w,h){return je(d,d,Oe,Qe(w,h,d.nodeType!=1))}function Zt(d,w){if(d.length!=w.length)return!1;for(var h=0;h<d.length;h++)if(!d[h].type.eq(w[h].type))return!1;return!0}function cr(d){var w=d.nextSibling;return d.parentNode.removeChild(d),w}var Ar=(function(){function d(w,h,k){j(this,d),this.lock=h,this.view=k,this.index=0,this.stack=[],this.changed=!1,this.top=w,this.preMatch=Yi(w.node.content,w)}return le(d,[{key:"destroyBetween",value:function(h,k){if(h!=k){for(var S=h;S<k;S++)this.top.children[S].destroy();this.top.children.splice(h,k-h),this.changed=!0}}},{key:"destroyRest",value:function(){this.destroyBetween(this.index,this.top.children.length)}},{key:"syncToMarks",value:function(h,k,S){for(var M=0,I=this.stack.length>>1,P=Math.min(I,h.length);M<P&&(M==I-1?this.top:this.stack[M+1<<1]).matchesMark(h[M])&&h[M].type.spec.spanning!==!1;)M++;for(;M<I;)this.destroyRest(),this.top.dirty=de,this.index=this.stack.pop(),this.top=this.stack.pop(),I--;for(;I<h.length;){this.stack.push(this.top,this.index+1);for(var W=-1,J=this.index;J<Math.min(this.index+3,this.top.children.length);J++){var ue=this.top.children[J];if(ue.matchesMark(h[I])&&!this.isLocked(ue.dom)){W=J;break}}if(W>-1)W>this.index&&(this.changed=!0,this.destroyBetween(this.index,W)),this.top=this.top.children[this.index];else{var Te=R.create(this.top,h[I],k,S);this.top.children.splice(this.index,0,Te),this.top=Te,this.changed=!0}this.index=0,I++}}},{key:"findNodeMatch",value:function(h,k,S,M){var I=-1,P;if(M>=this.preMatch.index&&(P=this.preMatch.matches[M-this.preMatch.index]).parent==this.top&&P.matchesNode(h,k,S))I=this.top.children.indexOf(P,this.index);else for(var W=this.index,J=Math.min(this.top.children.length,W+5);W<J;W++){var ue=this.top.children[W];if(ue.matchesNode(h,k,S)&&!this.preMatch.matched.has(ue)){I=W;break}}return I<0?!1:(this.destroyBetween(this.index,I),this.index++,!0)}},{key:"updateNodeAt",value:function(h,k,S,M,I){var P=this.top.children[M];return P.dirty==Be&&P.dom==P.contentDOM&&(P.dirty=Ae),P.update(h,k,S,I)?(this.destroyBetween(this.index,M),this.index++,!0):!1}},{key:"findIndexWithChild",value:function(h){for(;;){var k=h.parentNode;if(!k)return-1;if(k==this.top.contentDOM){var S=h.pmViewDesc;if(S){for(var M=this.index;M<this.top.children.length;M++)if(this.top.children[M]==S)return M}return-1}h=k}}},{key:"updateNextNode",value:function(h,k,S,M,I,P){for(var W=this.index;W<this.top.children.length;W++){var J=this.top.children[W];if(J instanceof b){var ue=this.preMatch.matched.get(J);if(ue!=null&&ue!=I)return!1;var Te=J.dom,pe=void 0,Ie=this.isLocked(Te)&&!(h.isText&&J.node&&J.node.isText&&J.nodeDOM.nodeValue==h.text&&J.dirty!=Be&&Zt(k,J.outerDeco));if(!Ie&&J.update(h,k,S,M))return this.destroyBetween(this.index,W),J.dom!=Te&&(this.changed=!0),this.index++,!0;if(!Ie&&(pe=this.recreateWrapper(J,h,k,S,M,P)))return this.destroyBetween(this.index,W),this.top.children[this.index]=pe,pe.contentDOM&&(pe.dirty=Ae,pe.updateChildren(M,P+1),pe.dirty=de),this.changed=!0,this.index++,!0;break}}return!1}},{key:"recreateWrapper",value:function(h,k,S,M,I,P){if(h.dirty||k.isAtom||!h.children.length||!h.node.content.eq(k.content)||!Zt(S,h.outerDeco)||!M.eq(h.innerDeco))return null;var W=b.create(this.top,k,S,M,I,P);if(W.contentDOM){W.children=h.children,h.children=[];var J=i(W.children),ue;try{for(J.s();!(ue=J.n()).done;){var Te=ue.value;Te.parent=W}}catch(pe){J.e(pe)}finally{J.f()}}return h.destroy(),W}},{key:"addNode",value:function(h,k,S,M,I){var P=b.create(this.top,h,k,S,M,I);P.contentDOM&&P.updateChildren(M,I+1),this.top.children.splice(this.index++,0,P),this.changed=!0}},{key:"placeWidget",value:function(h,k,S){var M=this.index<this.top.children.length?this.top.children[this.index]:null;if(M&&M.matchesWidget(h)&&(h==M.widget||!M.widget.type.toDOM.parentNode))this.index++;else{var I=new Nt(this.top,h,k,S);this.top.children.splice(this.index++,0,I),this.changed=!0}}},{key:"addTextblockHacks",value:function(){for(var h=this.top.children[this.index-1],k=this.top;h instanceof R;)k=h,h=k.children[k.children.length-1];(!h||!(h instanceof B)||/\n$/.test(h.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(h.node.text))&&((Kt||Vt)&&h&&h.dom.contentEditable=="false"&&this.addHackNode("IMG",k),this.addHackNode("BR",this.top))}},{key:"addHackNode",value:function(h,k){if(k==this.top&&this.index<k.children.length&&k.children[this.index].matchesHack(h))this.index++;else{var S=document.createElement(h);h=="IMG"&&(S.className="ProseMirror-separator",S.alt=""),h=="BR"&&(S.className="ProseMirror-trailingBreak");var M=new K(this.top,[],S,null);k!=this.top?k.children.push(M):k.children.splice(this.index++,0,M),this.changed=!0}}},{key:"isLocked",value:function(h){return this.lock&&(h==this.lock||h.nodeType==1&&h.contains(this.lock.parentNode))}}]),d})();function Yi(d,w){var h=w,k=h.children.length,S=d.childCount,M=new Map,I=[];e:for(;S>0;){for(var P=void 0;;)if(k){var W=h.children[k-1];if(W instanceof R)h=W,k=W.children.length;else{P=W,k--;break}}else{if(h==w)break e;k=h.parent.children.indexOf(h),h=h.parent}var J=P.node;if(J){if(J!=d.child(S-1))break;--S,M.set(P,S),I.push(P)}}return{index:S,matched:M,matches:I.reverse()}}function Jr(d,w){return d.type.side-w.type.side}function Ps(d,w,h,k){var S=w.locals(d),M=0;if(S.length==0){for(var I=0;I<d.childCount;I++){var P=d.child(I);k(P,S,w.forChild(M,P),I),M+=P.nodeSize}return}for(var W=0,J=[],ue=null,Te=0;;){for(var pe=void 0,Ie=void 0;W<S.length&&S[W].to==M;){var $e=S[W++];$e.widget&&(pe?(Ie||(Ie=[pe])).push($e):pe=$e)}if(pe)if(Ie){Ie.sort(Jr);for(var ot=0;ot<Ie.length;ot++)h(Ie[ot],Te,!!ue)}else h(pe,Te,!!ue);var ft=void 0,Ke=void 0;if(ue)Ke=-1,ft=ue,ue=null;else if(Te<d.childCount)Ke=Te,ft=d.child(Te++);else break;for(var er=0;er<J.length;er++)J[er].to<=M&&J.splice(er--,1);for(;W<S.length&&S[W].from<=M&&S[W].to>M;)J.push(S[W++]);var jt=M+ft.nodeSize;if(ft.isText){var At=jt;W<S.length&&S[W].from<At&&(At=S[W].from);for(var Qt=0;Qt<J.length;Qt++)J[Qt].to<At&&(At=J[Qt].to);At<jt&&(ue=ft.cut(At-M),ft=ft.cut(0,At-M),jt=At,Ke=-1)}else for(;W<S.length&&S[W].to<jt;)W++;var or=ft.isInline&&!ft.isLeaf?J.filter(function(gr){return!gr.inline}):J.slice();k(ft,or,w.forChild(M,ft),Ke),M=jt}}function Ho(d){if(d.nodeName=="UL"||d.nodeName=="OL"){var w=d.style.cssText;d.style.cssText=w+"; list-style: square !important",window.getComputedStyle(d).listStyle,d.style.cssText=w}}function Na(d,w,h,k){for(var S=0,M=0;S<d.childCount&&M<=k;){var I=d.child(S++),P=M;if(M+=I.nodeSize,!!I.isText){for(var W=I.text;S<d.childCount;){var J=d.child(S++);if(M+=J.nodeSize,!J.isText)break;W+=J.text}if(M>=h){if(M>=k&&W.slice(k-w.length-P,k-P)==w)return k-w.length;var ue=P<k?W.lastIndexOf(w,k-P-1):-1;if(ue>=0&&ue+w.length+P>=h)return P+ue;if(h==k&&W.length>=k+w.length-P&&W.slice(k-P,k-P+w.length)==w)return k}}}return-1}function Hn(d,w,h,k,S){for(var M=[],I=0,P=0;I<d.length;I++){var W=d[I],J=P,ue=P+=W.size;J>=h||ue<=w?M.push(W):(J<w&&M.push(W.slice(0,w-J,k)),S&&(M.push(S),S=void 0),ue>h&&M.push(W.slice(h-J,W.size,k)))}return M}function Vn(d){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,h=d.domSelectionRange(),k=d.state.doc;if(!h.focusNode)return null;var S=d.docView.nearestDesc(h.focusNode),M=S&&S.size==0,I=d.docView.posFromDOM(h.focusNode,h.focusOffset,1);if(I<0)return null;var P=k.resolve(I),W,J;if(Le(h)){for(W=I;S&&!S.node;)S=S.parent;var ue=S.node;if(S&&ue.isAtom&&me.NodeSelection.isSelectable(ue)&&S.parent&&!(ue.isInline&&Ve(h.focusNode,h.focusOffset,S.dom))){var Te=S.posBefore;J=new me.NodeSelection(I==Te?P:k.resolve(Te))}}else{if(h instanceof d.dom.ownerDocument.defaultView.Selection&&h.rangeCount>1){for(var pe=I,Ie=I,$e=0;$e<h.rangeCount;$e++){var ot=h.getRangeAt($e);pe=Math.min(pe,d.docView.posFromDOM(ot.startContainer,ot.startOffset,1)),Ie=Math.max(Ie,d.docView.posFromDOM(ot.endContainer,ot.endOffset,-1))}if(pe<0)return null;var ft=Ie==d.state.selection.anchor?[Ie,pe]:[pe,Ie],Ke=r(ft,2);W=Ke[0],I=Ke[1],P=k.resolve(I)}else W=d.docView.posFromDOM(h.anchorNode,h.anchorOffset,1);if(W<0)return null}var er=k.resolve(W);if(!J){var jt=w=="pointer"||d.state.selection.head<P.pos&&!M?1:-1;J=Jt(d,er,P,jt)}return J}function Zi(d){return d.editable?d.hasFocus():Uo(d)&&document.activeElement&&document.activeElement.contains(d.dom)}function gn(d){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,h=d.state.selection;if(Aa(d,h),!!Zi(d)){if(!w&&d.input.mouseDown&&d.input.mouseDown.allowDefault&&Vt){var k=d.domSelectionRange(),S=d.domObserver.currentSelection;if(k.anchorNode&&S.anchorNode&&Dt(k.anchorNode,k.anchorOffset,S.anchorNode,S.anchorOffset)){d.input.mouseDown.delayedSelectionSync=!0,d.domObserver.setCurSelection();return}}if(d.domObserver.disconnectSelection(),d.cursorWrapper)xn(d);else{var M=h.anchor,I=h.head,P,W;Vo&&!(h instanceof me.TextSelection)&&(h.$from.parent.inlineContent||(P=ro(d,h.from)),!h.empty&&!h.$from.parent.inlineContent&&(W=ro(d,h.to))),d.docView.setSelection(M,I,d,w),Vo&&(P&&Oa(P),W&&Oa(W)),h.visible?d.dom.classList.remove("ProseMirror-hideselection"):(d.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Da(d))}d.domObserver.setCurSelection(),d.domObserver.connectSelection()}}var Vo=Kt||Vt&&br<63;function ro(d,w){var h=d.docView.domFromPos(w,0),k=h.node,S=h.offset,M=S<k.childNodes.length?k.childNodes[S]:null,I=S?k.childNodes[S-1]:null;if(Kt&&M&&M.contentEditable=="false")return pa(M);if((!M||M.contentEditable=="false")&&(!I||I.contentEditable=="false")){if(M)return pa(M);if(I)return pa(I)}}function pa(d){return d.contentEditable="true",Kt&&d.draggable&&(d.draggable=!1,d.wasDraggable=!0),d}function Oa(d){d.contentEditable="false",d.wasDraggable&&(d.draggable=!0,d.wasDraggable=null)}function Da(d){var w=d.dom.ownerDocument;w.removeEventListener("selectionchange",d.input.hideSelectionGuard);var h=d.domSelectionRange(),k=h.anchorNode,S=h.anchorOffset;w.addEventListener("selectionchange",d.input.hideSelectionGuard=function(){(h.anchorNode!=k||h.anchorOffset!=S)&&(w.removeEventListener("selectionchange",d.input.hideSelectionGuard),setTimeout(function(){(!Zi(d)||d.state.selection.visible)&&d.dom.classList.remove("ProseMirror-hideselection")},20))})}function xn(d){var w=d.domSelection(),h=document.createRange();if(w){var k=d.cursorWrapper.dom,S=k.nodeName=="IMG";S?h.setStart(k.parentNode,_e(k)+1):h.setStart(k,0),h.collapse(!0),w.removeAllRanges(),w.addRange(h),!S&&!d.state.selection.visible&&He&&nt<=11&&(k.disabled=!0,k.disabled=!1)}}function Aa(d,w){if(w instanceof me.NodeSelection){var h=d.docView.descAt(w.from);h!=d.lastSelectedViewDesc&&(va(d),h&&h.selectNode(),d.lastSelectedViewDesc=h)}else va(d)}function va(d){d.lastSelectedViewDesc&&(d.lastSelectedViewDesc.parent&&d.lastSelectedViewDesc.deselectNode(),d.lastSelectedViewDesc=void 0)}function Jt(d,w,h,k){return d.someProp("createSelectionBetween",function(S){return S(d,w,h)})||me.TextSelection.between(w,h,k)}function $o(d){return d.editable&&!d.hasFocus()?!1:Uo(d)}function Uo(d){var w=d.domSelectionRange();if(!w.anchorNode)return!1;try{return d.dom.contains(w.anchorNode.nodeType==3?w.anchorNode.parentNode:w.anchorNode)&&(d.editable||d.dom.contains(w.focusNode.nodeType==3?w.focusNode.parentNode:w.focusNode))}catch{return!1}}function Ii(d){var w=d.docView.domFromPos(d.state.selection.anchor,0),h=d.domSelectionRange();return Dt(w.node,w.offset,h.anchorNode,h.anchorOffset)}function ki(d,w){var h=d.selection,k=h.$anchor,S=h.$head,M=w>0?k.max(S):k.min(S),I=M.parent.inlineContent?M.depth?d.doc.resolve(w>0?M.after():M.before()):null:M;return I&&me.Selection.findFrom(I,w)}function wi(d,w){return d.dispatch(d.state.tr.setSelection(w).scrollIntoView()),!0}function La(d,w,h){var k=d.state.selection;if(k instanceof me.TextSelection)if(h.indexOf("s")>-1){var S=k.$head,M=S.textOffset?null:w<0?S.nodeBefore:S.nodeAfter;if(!M||M.isText||!M.isLeaf)return!1;var I=d.state.doc.resolve(S.pos+M.nodeSize*(w<0?-1:1));return wi(d,new me.TextSelection(k.$anchor,I))}else if(k.empty){if(d.endOfTextblock(w>0?"forward":"backward")){var P=ki(d.state,w);return P&&P instanceof me.NodeSelection?wi(d,P):!1}else if(!(yr&&h.indexOf("m")>-1)){var W=k.$head,J=W.textOffset?null:w<0?W.nodeBefore:W.nodeAfter,ue;if(!J||J.isText)return!1;var Te=w<0?W.pos-J.nodeSize:W.pos;return J.isAtom||(ue=d.docView.descAt(Te))&&!ue.contentDOM?me.NodeSelection.isSelectable(J)?wi(d,new me.NodeSelection(w<0?d.state.doc.resolve(W.pos-J.nodeSize):W)):Vr?wi(d,new me.TextSelection(d.state.doc.resolve(w<0?Te:Te+J.nodeSize))):!1:!1}}else return!1;else{if(k instanceof me.NodeSelection&&k.node.isInline)return wi(d,new me.TextSelection(w>0?k.$to:k.$from));var pe=ki(d.state,w);return pe?wi(d,pe):!1}}function ea(d){return d.nodeType==3?d.nodeValue.length:d.childNodes.length}function bi(d,w){var h=d.pmViewDesc;return h&&h.size==0&&(w<0||d.nextSibling||d.nodeName!="BR")}function Qr(d,w){return w<0?ei(d):Pi(d)}function ei(d){var w=d.domSelectionRange(),h=w.focusNode,k=w.focusOffset;if(h){var S,M,I=!1;for(qt&&h.nodeType==1&&k<ea(h)&&bi(h.childNodes[k],-1)&&(I=!0);;)if(k>0){if(h.nodeType!=1)break;var P=h.childNodes[k-1];if(bi(P,-1))S=h,M=--k;else if(P.nodeType==3)h=P,k=h.nodeValue.length;else break}else{if(un(h))break;for(var W=h.previousSibling;W&&bi(W,-1);)S=h.parentNode,M=_e(W),W=W.previousSibling;if(W)h=W,k=ea(h);else{if(h=h.parentNode,h==d.dom)break;k=0}}I?no(d,h,k):S&&no(d,S,M)}}function Pi(d){var w=d.domSelectionRange(),h=w.focusNode,k=w.focusOffset;if(h){for(var S=ea(h),M,I;;)if(k<S){if(h.nodeType!=1)break;var P=h.childNodes[k];if(bi(P,1))M=h,I=++k;else break}else{if(un(h))break;for(var W=h.nextSibling;W&&bi(W,1);)M=W.parentNode,I=_e(W)+1,W=W.nextSibling;if(W)h=W,k=0,S=ea(h);else{if(h=h.parentNode,h==d.dom)break;k=S=0}}M&&no(d,M,I)}}function un(d){var w=d.pmViewDesc;return w&&w.node&&w.node.isBlock}function ma(d,w){for(;d&&w==d.childNodes.length&&!ge(d);)w=_e(d)+1,d=d.parentNode;for(;d&&w<d.childNodes.length;){var h=d.childNodes[w];if(h.nodeType==3)return h;if(h.nodeType==1&&h.contentEditable=="false")break;d=h,w=0}}function Ci(d,w){for(;d&&!w&&!ge(d);)w=_e(d),d=d.parentNode;for(;d&&w;){var h=d.childNodes[w-1];if(h.nodeType==3)return h;if(h.nodeType==1&&h.contentEditable=="false")break;d=h,w=d.childNodes.length}}function no(d,w,h){if(w.nodeType!=3){var k,S;(S=ma(w,h))?(w=S,h=0):(k=Ci(w,h))&&(w=k,h=k.nodeValue.length)}var M=d.domSelection();if(M){if(Le(M)){var I=document.createRange();I.setEnd(w,h),I.setStart(w,h),M.removeAllRanges(),M.addRange(I)}else M.extend&&M.extend(w,h);d.domObserver.setCurSelection();var P=d.state;setTimeout(function(){d.state==P&&gn(d)},50)}}function Wo(d,w){var h=d.state.doc.resolve(w);if(!(Vt||Sr)&&h.parent.inlineContent){var k=d.coordsAtPos(w);if(w>h.start()){var S=d.coordsAtPos(w-1),M=(S.top+S.bottom)/2;if(M>k.top&&M<k.bottom&&Math.abs(S.left-k.left)>1)return S.left<k.left?"ltr":"rtl"}if(w<h.end()){var I=d.coordsAtPos(w+1),P=(I.top+I.bottom)/2;if(P>k.top&&P<k.bottom&&Math.abs(I.left-k.left)>1)return I.left>k.left?"ltr":"rtl"}}var W=getComputedStyle(d.dom).direction;return W=="rtl"?"rtl":"ltr"}function ti(d,w,h){var k=d.state.selection;if(k instanceof me.TextSelection&&!k.empty||h.indexOf("s")>-1||yr&&h.indexOf("m")>-1)return!1;var S=k.$from,M=k.$to;if(!S.parent.inlineContent||d.endOfTextblock(w<0?"up":"down")){var I=ki(d.state,w);if(I&&I instanceof me.NodeSelection)return wi(d,I)}if(!S.parent.inlineContent){var P=w<0?S:M,W=k instanceof me.AllSelection?me.Selection.near(P,w):me.Selection.findFrom(P,w);return W?wi(d,W):!1}return!1}function ri(d,w){if(!(d.state.selection instanceof me.TextSelection))return!0;var h=d.state.selection,k=h.$head,S=h.$anchor,M=h.empty;if(!k.sameParent(S))return!0;if(!M)return!1;if(d.endOfTextblock(w>0?"forward":"backward"))return!0;var I=!k.textOffset&&(w<0?k.nodeBefore:k.nodeAfter);if(I&&!I.isText){var P=d.state.tr;return w<0?P.delete(k.pos-I.nodeSize,k.pos):P.delete(k.pos,k.pos+I.nodeSize),d.dispatch(P),!0}return!1}function io(d,w,h){d.domObserver.stop(),w.contentEditable=h,d.domObserver.start()}function Ra(d){if(!Kt||d.state.selection.$head.parentOffset>0)return!1;var w=d.domSelectionRange(),h=w.focusNode,k=w.focusOffset;if(h&&h.nodeType==1&&k==0&&h.firstChild&&h.firstChild.contentEditable=="false"){var S=h.firstChild;io(d,S,"true"),setTimeout(function(){return io(d,S,"false")},20)}return!1}function jo(d){var w="";return d.ctrlKey&&(w+="c"),d.metaKey&&(w+="m"),d.altKey&&(w+="a"),d.shiftKey&&(w+="s"),w}function xl(d,w){var h=w.keyCode,k=jo(w);if(h==8||yr&&h==72&&k=="c")return ri(d,-1)||Qr(d,-1);if(h==46&&!w.shiftKey||yr&&h==68&&k=="c")return ri(d,1)||Qr(d,1);if(h==13||h==27)return!0;if(h==37||yr&&h==66&&k=="c"){var S=h==37?Wo(d,d.state.selection.from)=="ltr"?-1:1:-1;return La(d,S,k)||Qr(d,S)}else if(h==39||yr&&h==70&&k=="c"){var M=h==39?Wo(d,d.state.selection.from)=="ltr"?1:-1:1;return La(d,M,k)||Qr(d,M)}else{if(h==38||yr&&h==80&&k=="c")return ti(d,-1,k)||Qr(d,-1);if(h==40||yr&&h==78&&k=="c")return Ra(d)||ti(d,1,k)||Qr(d,1);if(k==(yr?"m":"c")&&(h==66||h==73||h==89||h==90))return!0}return!1}function Ct(d,w){d.someProp("transformCopied",function(Ke){w=Ke(w,d)});for(var h=[],k=w,S=k.content,M=k.openStart,I=k.openEnd;M>1&&I>1&&S.childCount==1&&S.firstChild.childCount==1;){M--,I--;var P=S.firstChild;h.push(P.type.name,P.attrs!=P.type.defaultAttrs?P.attrs:null),S=P.content}var W=d.someProp("clipboardSerializer")||Ee.DOMSerializer.fromSchema(d.state.schema),J=ao(),ue=J.createElement("div");ue.appendChild(W.serializeFragment(S,{document:J}));for(var Te=ue.firstChild,pe,Ie=0;Te&&Te.nodeType==1&&(pe=ta[Te.nodeName.toLowerCase()]);){for(var $e=pe.length-1;$e>=0;$e--){for(var ot=J.createElement(pe[$e]);ue.firstChild;)ot.appendChild(ue.firstChild);ue.appendChild(ot),Ie++}Te=ue.firstChild}Te&&Te.nodeType==1&&Te.setAttribute("data-pm-slice","".concat(M," ").concat(I).concat(Ie?" -".concat(Ie):""," ").concat(JSON.stringify(h)));var ft=d.someProp("clipboardTextSerializer",function(Ke){return Ke(w,d)})||w.content.textBetween(0,w.content.size,`

`);return{dom:ue,text:ft,slice:w}}function Se(d,w,h,k,S){var M=S.parent.type.spec.code,I,P;if(!h&&!w)return null;var W=w&&(k||M||!h);if(W){if(d.someProp("transformPastedText",function(or){w=or(w,M||k,d)}),M)return w?new Ee.Slice(Ee.Fragment.from(d.state.schema.text(w.replace(/\r\n?/g,`
`))),0,0):Ee.Slice.empty;var J=d.someProp("clipboardTextParser",function(or){return or(w,S,k,d)});if(J)P=J;else{var ue=S.marks(),Te=d.state.schema,pe=Ee.DOMSerializer.fromSchema(Te);I=document.createElement("div"),w.split(/(?:\r\n?|\n)+/).forEach(function(or){var gr=I.appendChild(document.createElement("p"));or&&gr.appendChild(pe.serializeNode(Te.text(or,ue)))})}}else d.someProp("transformPastedHTML",function(or){h=or(h,d)}),I=Bs(h),Vr&&Fs(I);var Ie=I&&I.querySelector("[data-pm-slice]"),$e=Ie&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(Ie.getAttribute("data-pm-slice")||"");if($e&&$e[3])for(var ot=+$e[3];ot>0;ot--){for(var ft=I.firstChild;ft&&ft.nodeType!=1;)ft=ft.nextSibling;if(!ft)break;I=ft}if(!P){var Ke=d.someProp("clipboardParser")||d.someProp("domParser")||Ee.DOMParser.fromSchema(d.state.schema);P=Ke.parseSlice(I,{preserveWhitespace:!!(W||$e),context:S,ruleFromNode:function(gr){return gr.nodeName=="BR"&&!gr.nextSibling&&gr.parentNode&&!et.test(gr.parentNode.nodeName)?{ignore:!0}:null}})}if($e)P=Pu(En(P,+$e[1],+$e[2]),$e[4]);else if(P=Ee.Slice.maxOpen(kt(P.content,S),!0),P.openStart||P.openEnd){for(var er=0,jt=0,At=P.content.firstChild;er<P.openStart&&!At.type.spec.isolating;er++,At=At.firstChild);for(var Qt=P.content.lastChild;jt<P.openEnd&&!Qt.type.spec.isolating;jt++,Qt=Qt.lastChild);P=En(P,er,jt)}return d.someProp("transformPasted",function(or){P=or(P,d)}),P}var et=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function kt(d,w){if(d.childCount<2)return d;for(var h=function(){var I=w.node(S),P=I.contentMatchAt(w.index(S)),W,J=[];if(d.forEach(function(ue){if(J){var Te=P.findWrapping(ue.type),pe;if(!Te)return J=null;if(pe=J.length&&W.length&&Ur(Te,W,ue,J[J.length-1],0))J[J.length-1]=pe;else{J.length&&(J[J.length-1]=Lr(J[J.length-1],W.length));var Ie=ar(ue,Te);J.push(Ie),P=P.matchType(Ie.type),W=Te}}}),J)return{v:Ee.Fragment.from(J)}},k,S=w.depth;S>=0;S--)if(k=h(),k)return k.v;return d}function ar(d,w){for(var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,k=w.length-1;k>=h;k--)d=w[k].create(null,Ee.Fragment.from(d));return d}function Ur(d,w,h,k,S){if(S<d.length&&S<w.length&&d[S]==w[S]){var M=Ur(d,w,h,k.lastChild,S+1);if(M)return k.copy(k.content.replaceChild(k.childCount-1,M));var I=k.contentMatchAt(k.childCount);if(I.matchType(S==d.length-1?h.type:d[S+1]))return k.copy(k.content.append(Ee.Fragment.from(ar(h,d,S+1))))}}function Lr(d,w){if(w==0)return d;var h=d.content.replaceChild(d.childCount-1,Lr(d.lastChild,w-1)),k=d.contentMatchAt(d.childCount).fillBefore(Ee.Fragment.empty,!0);return d.copy(h.append(k))}function xr(d,w,h,k,S,M){var I=w<0?d.firstChild:d.lastChild,P=I.content;return d.childCount>1&&(M=0),S<k-1&&(P=xr(P,w,h,k,S+1,M)),S>=h&&(P=w<0?I.contentMatchAt(0).fillBefore(P,M<=S).append(P):P.append(I.contentMatchAt(I.childCount).fillBefore(Ee.Fragment.empty,!0))),d.replaceChild(w<0?0:d.childCount-1,I.copy(P))}function En(d,w,h){return w<d.openStart&&(d=new Ee.Slice(xr(d.content,-1,w,d.openStart,0,d.openEnd),w,d.openEnd)),h<d.openEnd&&(d=new Ee.Slice(xr(d.content,1,h,d.openEnd,0,0),d.openStart,h)),d}var ta={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},ni=null;function ao(){return ni||(ni=document.implementation.createHTMLDocument("title"))}var Ia=null;function Iu(d){var w=window.trustedTypes;return w?(Ia||(Ia=w.defaultPolicy||w.createPolicy("ProseMirrorClipboard",{createHTML:function(k){return k}})),Ia.createHTML(d)):d}function Bs(d){var w=/^(\s*<meta [^>]*>)*/.exec(d);w&&(d=d.slice(w[0].length));var h=ao().createElement("div"),k=/<([a-z][^>\s]+)/i.exec(d),S;if((S=k&&ta[k[1].toLowerCase()])&&(d=S.map(function(I){return"<"+I+">"}).join("")+d+S.map(function(I){return"</"+I+">"}).reverse().join("")),h.innerHTML=Iu(d),S)for(var M=0;M<S.length;M++)h=h.querySelector(S[M])||h;return h}function Fs(d){for(var w=d.querySelectorAll(Vt?"span:not([class]):not([style])":"span.Apple-converted-space"),h=0;h<w.length;h++){var k=w[h];k.childNodes.length==1&&k.textContent==""&&k.parentNode&&k.parentNode.replaceChild(d.ownerDocument.createTextNode(" "),k)}}function Pu(d,w){if(!d.size)return d;var h=d.content.firstChild.type.schema,k;try{k=JSON.parse(w)}catch{return d}for(var S=d.content,M=d.openStart,I=d.openEnd,P=k.length-2;P>=0;P-=2){var W=h.nodes[k[P]];if(!W||W.hasRequiredAttrs())break;S=Ee.Fragment.from(W.create(k[P+1],S)),M++,I++}return new Ee.Slice(S,M,I)}var mr={},_r={},El={touchstart:!0,touchmove:!0},Go=le(function d(){j(this,d),this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null});function wf(d){var w=function(){var S=mr[h];d.dom.addEventListener(h,d.input.eventHandlers[h]=function(M){Bu(d,M)&&!oo(d,M)&&(d.editable||!(M.type in _r))&&S(d,M)},El[h]?{passive:!0}:void 0)};for(var h in mr)w();Kt&&d.dom.addEventListener("input",function(){return null}),Pa(d)}function Bi(d,w){d.input.lastSelectionOrigin=w,d.input.lastSelectionTime=Date.now()}function Ml(d){d.domObserver.stop();for(var w in d.input.eventHandlers)d.dom.removeEventListener(w,d.input.eventHandlers[w]);clearTimeout(d.input.composingTimeout),clearTimeout(d.input.lastIOSEnterFallbackTimeout)}function Pa(d){d.someProp("handleDOMEvents",function(w){for(var h in w)d.input.eventHandlers[h]||d.dom.addEventListener(h,d.input.eventHandlers[h]=function(k){return oo(d,k)})})}function oo(d,w){return d.someProp("handleDOMEvents",function(h){var k=h[w.type];return k?k(d,w)||w.defaultPrevented:!1})}function Bu(d,w){if(!w.bubbles)return!0;if(w.defaultPrevented)return!1;for(var h=w.target;h!=d.dom;h=h.parentNode)if(!h||h.nodeType==11||h.pmViewDesc&&h.pmViewDesc.stopEvent(w))return!1;return!0}function bf(d,w){!oo(d,w)&&mr[w.type]&&(d.editable||!(w.type in _r))&&mr[w.type](d,w)}_r.keydown=function(d,w){var h=w;if(d.input.shiftKey=h.keyCode==16||h.shiftKey,!qs(d,h)&&(d.input.lastKeyCode=h.keyCode,d.input.lastKeyCodeTime=Date.now(),!(nr&&Vt&&h.keyCode==13)))if(h.keyCode!=229&&d.domObserver.forceFlush(),Pr&&h.keyCode==13&&!h.ctrlKey&&!h.altKey&&!h.metaKey){var k=Date.now();d.input.lastIOSEnter=k,d.input.lastIOSEnterFallbackTimeout=setTimeout(function(){d.input.lastIOSEnter==k&&(d.someProp("handleKeyDown",function(S){return S(d,ct(13,"Enter"))}),d.input.lastIOSEnter=0)},200)}else d.someProp("handleKeyDown",function(S){return S(d,h)})||xl(d,h)?h.preventDefault():Bi(d,"key")},_r.keyup=function(d,w){w.keyCode==16&&(d.input.shiftKey=!1)},_r.keypress=function(d,w){var h=w;if(!(qs(d,h)||!h.charCode||h.ctrlKey&&!h.altKey||yr&&h.metaKey)){if(d.someProp("handleKeyPress",function(I){return I(d,h)})){h.preventDefault();return}var k=d.state.selection;if(!(k instanceof me.TextSelection)||!k.$from.sameParent(k.$to)){var S=String.fromCharCode(h.charCode),M=function(){return d.state.tr.insertText(S).scrollIntoView()};!/[\r\n]/.test(S)&&!d.someProp("handleTextInput",function(I){return I(d,k.$from.pos,k.$to.pos,S,M)})&&d.dispatch(M()),h.preventDefault()}}};function _s(d){return{left:d.clientX,top:d.clientY}}function Cf(d,w){var h=w.x-d.clientX,k=w.y-d.clientY;return h*h+k*k<100}function Ko(d,w,h,k,S){if(k==-1)return!1;for(var M=d.state.doc.resolve(k),I=function(ue){if(d.someProp(w,function(Te){return ue>M.depth?Te(d,h,M.nodeAfter,M.before(ue),S,!0):Te(d,h,M.node(ue),M.before(ue),S,!1)}))return{v:!0}},P,W=M.depth+1;W>0;W--)if(P=I(W),P)return P.v;return!1}function so(d,w,h){if(d.focused||d.focus(),!d.state.selection.eq(w)){var k=d.state.tr.setSelection(w);k.setMeta("pointer",!0),d.dispatch(k)}}function Tf(d,w){if(w==-1)return!1;var h=d.state.doc.resolve(w),k=h.nodeAfter;return k&&k.isAtom&&me.NodeSelection.isSelectable(k)?(so(d,new me.NodeSelection(h)),!0):!1}function Sf(d,w){if(w==-1)return!1;var h=d.state.selection,k,S;h instanceof me.NodeSelection&&(k=h.node);for(var M=d.state.doc.resolve(w),I=M.depth+1;I>0;I--){var P=I>M.depth?M.nodeAfter:M.node(I);if(me.NodeSelection.isSelectable(P)){k&&h.$from.depth>0&&I>=h.$from.depth&&M.before(h.$from.depth+1)==h.$from.pos?S=M.before(h.$from.depth):S=M.before(I);break}}return S!=null?(so(d,me.NodeSelection.create(d.state.doc,S)),!0):!1}function xf(d,w,h,k,S){return Ko(d,"handleClickOn",w,h,k)||d.someProp("handleClick",function(M){return M(d,w,k)})||(S?Sf(d,h):Tf(d,h))}function Ef(d,w,h,k){return Ko(d,"handleDoubleClickOn",w,h,k)||d.someProp("handleDoubleClick",function(S){return S(d,w,k)})}function Fu(d,w,h,k){return Ko(d,"handleTripleClickOn",w,h,k)||d.someProp("handleTripleClick",function(S){return S(d,w,k)})||Mf(d,h,k)}function Mf(d,w,h){if(h.button!=0)return!1;var k=d.state.doc;if(w==-1)return k.inlineContent?(so(d,me.TextSelection.create(k,0,k.content.size)),!0):!1;for(var S=k.resolve(w),M=S.depth+1;M>0;M--){var I=M>S.depth?S.nodeAfter:S.node(M),P=S.before(M);if(I.inlineContent)so(d,me.TextSelection.create(k,P+1,P+1+I.content.size));else if(me.NodeSelection.isSelectable(I))so(d,me.NodeSelection.create(k,P));else continue;return!0}}function Nl(d){return Jo(d)}var _u=yr?"metaKey":"ctrlKey";mr.mousedown=function(d,w){var h=w;d.input.shiftKey=h.shiftKey;var k=Nl(d),S=Date.now(),M="singleClick";S-d.input.lastClick.time<500&&Cf(h,d.input.lastClick)&&!h[_u]&&d.input.lastClick.button==h.button&&(d.input.lastClick.type=="singleClick"?M="doubleClick":d.input.lastClick.type=="doubleClick"&&(M="tripleClick")),d.input.lastClick={time:S,x:h.clientX,y:h.clientY,type:M,button:h.button};var I=d.posAtCoords(_s(h));I&&(M=="singleClick"?(d.input.mouseDown&&d.input.mouseDown.done(),d.input.mouseDown=new Nf(d,I,h,!!k)):(M=="doubleClick"?Ef:Fu)(d,I.pos,I.inside,h)?h.preventDefault():Bi(d,"pointer"))};var Nf=(function(){function d(w,h,k,S){var M=this;j(this,d),this.view=w,this.pos=h,this.event=k,this.flushed=S,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=w.state.doc,this.selectNode=!!k[_u],this.allowDefault=k.shiftKey;var I,P;if(h.inside>-1)I=w.state.doc.nodeAt(h.inside),P=h.inside;else{var W=w.state.doc.resolve(h.pos);I=W.parent,P=W.depth?W.before():0}var J=S?null:k.target,ue=J?w.docView.nearestDesc(J,!0):null;this.target=ue&&ue.dom.nodeType==1?ue.dom:null;var Te=w.state.selection;(k.button==0&&I.type.spec.draggable&&I.type.spec.selectable!==!1||Te instanceof me.NodeSelection&&Te.from<=P&&Te.to>P)&&(this.mightDrag={node:I,pos:P,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&qt&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(function(){M.view.input.mouseDown==M&&M.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),w.root.addEventListener("mouseup",this.up=this.up.bind(this)),w.root.addEventListener("mousemove",this.move=this.move.bind(this)),Bi(w,"pointer")}return le(d,[{key:"done",value:function(){var h=this;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(function(){return gn(h.view)}),this.view.input.mouseDown=null}},{key:"up",value:function(h){if(this.done(),!!this.view.dom.contains(h.target)){var k=this.pos;this.view.state.doc!=this.startDoc&&(k=this.view.posAtCoords(_s(h))),this.updateAllowDefault(h),this.allowDefault||!k?Bi(this.view,"pointer"):xf(this.view,k.pos,k.inside,h,this.selectNode)?h.preventDefault():h.button==0&&(this.flushed||Kt&&this.mightDrag&&!this.mightDrag.node.isAtom||Vt&&!this.view.state.selection.visible&&Math.min(Math.abs(k.pos-this.view.state.selection.from),Math.abs(k.pos-this.view.state.selection.to))<=2)?(so(this.view,me.Selection.near(this.view.state.doc.resolve(k.pos))),h.preventDefault()):Bi(this.view,"pointer")}}},{key:"move",value:function(h){this.updateAllowDefault(h),Bi(this.view,"pointer"),h.buttons==0&&this.done()}},{key:"updateAllowDefault",value:function(h){!this.allowDefault&&(Math.abs(this.event.x-h.clientX)>4||Math.abs(this.event.y-h.clientY)>4)&&(this.allowDefault=!0)}}]),d})();mr.touchstart=function(d){d.input.lastTouch=Date.now(),Nl(d),Bi(d,"pointer")},mr.touchmove=function(d){d.input.lastTouch=Date.now(),Bi(d,"pointer")},mr.contextmenu=function(d){return Nl(d)};function qs(d,w){return d.composing?!0:Kt&&Math.abs(w.timeStamp-d.input.compositionEndedAt)<500?(d.input.compositionEndedAt=-2e8,!0):!1}var Of=nr?5e3:-1;_r.compositionstart=_r.compositionupdate=function(d){if(!d.composing){d.domObserver.flush();var w=d.state,h=w.selection.$to;if(w.selection instanceof me.TextSelection&&(w.storedMarks||!h.textOffset&&h.parentOffset&&h.nodeBefore.marks.some(function(W){return W.type.spec.inclusive===!1})))d.markCursor=d.state.storedMarks||h.marks(),Jo(d,!0),d.markCursor=null;else if(Jo(d,!w.selection.empty),qt&&w.selection.empty&&h.parentOffset&&!h.textOffset&&h.nodeBefore.marks.length)for(var k=d.domSelectionRange(),S=k.focusNode,M=k.focusOffset;S&&S.nodeType==1&&M!=0;){var I=M<0?S.lastChild:S.childNodes[M-1];if(!I)break;if(I.nodeType==3){var P=d.domSelection();P&&P.collapse(I,I.nodeValue.length);break}else S=I,M=-1}d.input.composing=!0}qu(d,Of)},_r.compositionend=function(d,w){d.composing&&(d.input.composing=!1,d.input.compositionEndedAt=w.timeStamp,d.input.compositionPendingChanges=d.domObserver.pendingRecords().length?d.input.compositionID:0,d.input.compositionNode=null,d.input.compositionPendingChanges&&Promise.resolve().then(function(){return d.domObserver.flush()}),d.input.compositionID++,qu(d,20))};function qu(d,w){clearTimeout(d.input.composingTimeout),w>-1&&(d.input.composingTimeout=setTimeout(function(){return Jo(d)},w))}function zu(d){for(d.composing&&(d.input.composing=!1,d.input.compositionEndedAt=Df());d.input.compositionNodes.length>0;)d.input.compositionNodes.pop().markParentsDirty()}function Hu(d){var w=d.domSelectionRange();if(!w.focusNode)return null;var h=Ye(w.focusNode,w.focusOffset),k=mt(w.focusNode,w.focusOffset);if(h&&k&&h!=k){var S=k.pmViewDesc,M=d.domObserver.lastChangedTextNode;if(h==M||k==M)return M;if(!S||!S.isText(k.nodeValue))return k;if(d.input.compositionNode==k){var I=h.pmViewDesc;if(!(!I||!I.isText(h.nodeValue)))return k}}return h||k}function Df(){var d=document.createEvent("Event");return d.initEvent("event",!0,!0),d.timeStamp}function Jo(d){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!(nr&&d.domObserver.flushingSoon>=0)){if(d.domObserver.forceFlush(),zu(d),w||d.docView&&d.docView.dirty){var h=Vn(d),k=d.state.selection;return h&&!h.eq(k)?d.dispatch(d.state.tr.setSelection(h)):(d.markCursor||w)&&!k.$from.node(k.$from.sharedDepth(k.to)).inlineContent?d.dispatch(d.state.tr.deleteSelection()):d.updateState(d.state),!0}return!1}}function Af(d,w){if(d.dom.parentNode){var h=d.dom.parentNode.appendChild(document.createElement("div"));h.appendChild(w),h.style.cssText="position: fixed; left: -10000px; top: 10px";var k=getSelection(),S=document.createRange();S.selectNodeContents(w),d.dom.blur(),k.removeAllRanges(),k.addRange(S),setTimeout(function(){h.parentNode&&h.parentNode.removeChild(h),d.focus()},50)}}var Qo=He&&nt<15||Pr&&yi<604;mr.copy=_r.cut=function(d,w){var h=w,k=d.state.selection,S=h.type=="cut";if(!k.empty){var M=Qo?null:h.clipboardData,I=k.content(),P=Ct(d,I),W=P.dom,J=P.text;M?(h.preventDefault(),M.clearData(),M.setData("text/html",W.innerHTML),M.setData("text/plain",J)):Af(d,W),S&&d.dispatch(d.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}};function Lf(d){return d.openStart==0&&d.openEnd==0&&d.content.childCount==1?d.content.firstChild:null}function Rf(d,w){if(d.dom.parentNode){var h=d.input.shiftKey||d.state.selection.$from.parent.type.spec.code,k=d.dom.parentNode.appendChild(document.createElement(h?"textarea":"div"));h||(k.contentEditable="true"),k.style.cssText="position: fixed; left: -10000px; top: 10px",k.focus();var S=d.input.shiftKey&&d.input.lastKeyCode!=45;setTimeout(function(){d.focus(),k.parentNode&&k.parentNode.removeChild(k),h?Xo(d,k.value,null,S,w):Xo(d,k.textContent,k.innerHTML,S,w)},50)}}function Xo(d,w,h,k,S){var M=Se(d,w,h,k,d.state.selection.$from);if(d.someProp("handlePaste",function(W){return W(d,S,M||Ee.Slice.empty)}))return!0;if(!M)return!1;var I=Lf(M),P=I?d.state.tr.replaceSelectionWith(I,k):d.state.tr.replaceSelection(M);return d.dispatch(P.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function zs(d){var w=d.getData("text/plain")||d.getData("Text");if(w)return w;var h=d.getData("text/uri-list");return h?h.replace(/\r?\n/g," "):""}_r.paste=function(d,w){var h=w;if(!(d.composing&&!nr)){var k=Qo?null:h.clipboardData,S=d.input.shiftKey&&d.input.lastKeyCode!=45;k&&Xo(d,zs(k),k.getData("text/html"),S,h)?h.preventDefault():Rf(d,h)}};var lo=le(function d(w,h,k){j(this,d),this.slice=w,this.move=h,this.node=k}),If=yr?"altKey":"ctrlKey";function Ol(d,w){var h=d.someProp("dragCopies",function(k){return!k(w)});return h??!w[If]}mr.dragstart=function(d,w){var h=w,k=d.input.mouseDown;if(k&&k.done(),!!h.dataTransfer){var S=d.state.selection,M=S.empty?null:d.posAtCoords(_s(h)),I;if(!(M&&M.pos>=S.from&&M.pos<=(S instanceof me.NodeSelection?S.to-1:S.to))){if(k&&k.mightDrag)I=me.NodeSelection.create(d.state.doc,k.mightDrag.pos);else if(h.target&&h.target.nodeType==1){var P=d.docView.nearestDesc(h.target,!0);P&&P.node.type.spec.draggable&&P!=d.docView&&(I=me.NodeSelection.create(d.state.doc,P.posBefore))}}var W=(I||d.state.selection).content(),J=Ct(d,W),ue=J.dom,Te=J.text,pe=J.slice;(!h.dataTransfer.files.length||!Vt||br>120)&&h.dataTransfer.clearData(),h.dataTransfer.setData(Qo?"Text":"text/html",ue.innerHTML),h.dataTransfer.effectAllowed="copyMove",Qo||h.dataTransfer.setData("text/plain",Te),d.dragging=new lo(pe,Ol(d,h),I)}},mr.dragend=function(d){var w=d.dragging;window.setTimeout(function(){d.dragging==w&&(d.dragging=null)},50)},_r.dragover=_r.dragenter=function(d,w){return w.preventDefault()},_r.drop=function(d,w){var h=w,k=d.dragging;if(d.dragging=null,!!h.dataTransfer){var S=d.posAtCoords(_s(h));if(S){var M=d.state.doc.resolve(S.pos),I=k&&k.slice;I?d.someProp("transformPasted",function(ft){I=ft(I,d)}):I=Se(d,zs(h.dataTransfer),Qo?null:h.dataTransfer.getData("text/html"),!1,M);var P=!!(k&&Ol(d,h));if(d.someProp("handleDrop",function(ft){return ft(d,h,I||Ee.Slice.empty,P)})){h.preventDefault();return}if(I){h.preventDefault();var W=I?Ce.dropPoint(d.state.doc,M.pos,I):M.pos;W==null&&(W=M.pos);var J=d.state.tr;if(P){var ue=k.node;ue?ue.replace(J):J.deleteSelection()}var Te=J.mapping.map(W),pe=I.openStart==0&&I.openEnd==0&&I.content.childCount==1,Ie=J.doc;if(pe?J.replaceRangeWith(Te,Te,I.content.firstChild):J.replaceRange(Te,Te,I),!J.doc.eq(Ie)){var $e=J.doc.resolve(Te);if(pe&&me.NodeSelection.isSelectable(I.content.firstChild)&&$e.nodeAfter&&$e.nodeAfter.sameMarkup(I.content.firstChild))J.setSelection(new me.NodeSelection($e));else{var ot=J.mapping.map(W);J.mapping.maps[J.mapping.maps.length-1].forEach(function(ft,Ke,er,jt){return ot=jt}),J.setSelection(Jt(d,$e,J.doc.resolve(ot)))}d.focus(),d.dispatch(J.setMeta("uiEvent","drop"))}}}}},mr.focus=function(d){d.input.lastFocus=Date.now(),d.focused||(d.domObserver.stop(),d.dom.classList.add("ProseMirror-focused"),d.domObserver.start(),d.focused=!0,setTimeout(function(){d.docView&&d.hasFocus()&&!d.domObserver.currentSelection.eq(d.domSelectionRange())&&gn(d)},20))},mr.blur=function(d,w){var h=w;d.focused&&(d.domObserver.stop(),d.dom.classList.remove("ProseMirror-focused"),d.domObserver.start(),h.relatedTarget&&d.dom.contains(h.relatedTarget)&&d.domObserver.currentSelection.clear(),d.focused=!1)},mr.beforeinput=function(d,w){var h=w;if(Vt&&nr&&h.inputType=="deleteContentBackward"){d.domObserver.flushSoon();var k=d.input.domChangeCount;setTimeout(function(){if(d.input.domChangeCount==k&&(d.dom.blur(),d.focus(),!d.someProp("handleKeyDown",function(M){return M(d,ct(8,"Backspace"))}))){var S=d.state.selection.$cursor;S&&S.pos>0&&d.dispatch(d.state.tr.delete(S.pos-1,S.pos).scrollIntoView())}},50)}};for(var Dl in _r)mr[Dl]=_r[Dl];function uo(d,w){if(d==w)return!0;for(var h in d)if(d[h]!==w[h])return!1;for(var k in w)if(!(k in d))return!1;return!0}var Al=(function(){function d(w,h){j(this,d),this.toDOM=w,this.spec=h||Fa,this.side=this.spec.side||0}return le(d,[{key:"map",value:function(h,k,S,M){var I=h.mapResult(k.from+M,this.side<0?-1:1),P=I.pos,W=I.deleted;return W?null:new Ba(P-S,P-S,this)}},{key:"valid",value:function(){return!0}},{key:"eq",value:function(h){return this==h||h instanceof d&&(this.spec.key&&this.spec.key==h.spec.key||this.toDOM==h.toDOM&&uo(this.spec,h.spec))}},{key:"destroy",value:function(h){this.spec.destroy&&this.spec.destroy(h)}}]),d})(),co=(function(){function d(w,h){j(this,d),this.attrs=w,this.spec=h||Fa}return le(d,[{key:"map",value:function(h,k,S,M){var I=h.map(k.from+M,this.spec.inclusiveStart?-1:1)-S,P=h.map(k.to+M,this.spec.inclusiveEnd?1:-1)-S;return I>=P?null:new Ba(I,P,this)}},{key:"valid",value:function(h,k){return k.from<k.to}},{key:"eq",value:function(h){return this==h||h instanceof d&&uo(this.attrs,h.attrs)&&uo(this.spec,h.spec)}},{key:"destroy",value:function(){}}],[{key:"is",value:function(h){return h.type instanceof d}}]),d})(),fo=(function(){function d(w,h){j(this,d),this.attrs=w,this.spec=h||Fa}return le(d,[{key:"map",value:function(h,k,S,M){var I=h.mapResult(k.from+M,1);if(I.deleted)return null;var P=h.mapResult(k.to+M,-1);return P.deleted||P.pos<=I.pos?null:new Ba(I.pos-S,P.pos-S,this)}},{key:"valid",value:function(h,k){var S=h.content.findIndex(k.from),M=S.index,I=S.offset,P;return I==k.from&&!(P=h.child(M)).isText&&I+P.nodeSize==k.to}},{key:"eq",value:function(h){return this==h||h instanceof d&&uo(this.attrs,h.attrs)&&uo(this.spec,h.spec)}},{key:"destroy",value:function(){}}]),d})(),Ba=(function(){function d(w,h,k){j(this,d),this.from=w,this.to=h,this.type=k}return le(d,[{key:"copy",value:function(h,k){return new d(h,k,this.type)}},{key:"eq",value:function(h){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.type.eq(h.type)&&this.from+k==h.from&&this.to+k==h.to}},{key:"map",value:function(h,k,S){return this.type.map(h,this,k,S)}},{key:"spec",get:function(){return this.type.spec}},{key:"inline",get:function(){return this.type instanceof co}},{key:"widget",get:function(){return this.type instanceof Al}}],[{key:"widget",value:function(h,k,S){return new d(h,h,new Al(k,S))}},{key:"inline",value:function(h,k,S,M){return new d(h,k,new co(S,M))}},{key:"node",value:function(h,k,S,M){return new d(h,k,new fo(S,M))}}]),d})(),ho=[],Fa={},ii=(function(){function d(w,h){j(this,d),this.local=w.length?w:ho,this.children=h.length?h:ho}return le(d,[{key:"find",value:function(h,k,S){var M=[];return this.findInner(h??0,k??1e9,M,0,S),M}},{key:"findInner",value:function(h,k,S,M,I){for(var P=0;P<this.local.length;P++){var W=this.local[P];W.from<=k&&W.to>=h&&(!I||I(W.spec))&&S.push(W.copy(W.from+M,W.to+M))}for(var J=0;J<this.children.length;J+=3)if(this.children[J]<k&&this.children[J+1]>h){var ue=this.children[J]+1;this.children[J+2].findInner(h-ue,k-ue,S,M+ue,I)}}},{key:"map",value:function(h,k,S){return this==en||h.maps.length==0?this:this.mapInner(h,k,0,0,S||Fa)}},{key:"mapInner",value:function(h,k,S,M,I){for(var P,W=0;W<this.local.length;W++){var J=this.local[W].map(h,S,M);J&&J.type.valid(k,J)?(P||(P=[])).push(J):I.onRemove&&I.onRemove(this.local[W].spec)}return this.children.length?Yo(this.children,P||[],h,k,S,M,I):P?new d(P.sort(ra),ho):en}},{key:"add",value:function(h,k){return k.length?this==en?d.create(h,k):this.addInner(h,k,0):this}},{key:"addInner",value:function(h,k,S){var M=this,I,P=0;h.forEach(function(ue,Te){var pe=Te+S,Ie;if(Ie=$u(k,ue,pe)){for(I||(I=M.children.slice());P<I.length&&I[P]<Te;)P+=3;I[P]==Te?I[P+2]=I[P+2].addInner(ue,Ie,pe+1):I.splice(P,0,Te,Te+ue.nodeSize,vo(Ie,ue,pe+1,Fa)),P+=3}});for(var W=Vu(P?Ll(k):k,-S),J=0;J<W.length;J++)W[J].type.valid(h,W[J])||W.splice(J--,1);return new d(W.length?this.local.concat(W).sort(ra):this.local,I||this.children)}},{key:"remove",value:function(h){return h.length==0||this==en?this:this.removeInner(h,0)}},{key:"removeInner",value:function(h,k){for(var S=this.children,M=this.local,I=0;I<S.length;I+=3){for(var P=void 0,W=S[I]+k,J=S[I+1]+k,ue=0,Te;ue<h.length;ue++)(Te=h[ue])&&Te.from>W&&Te.to<J&&(h[ue]=null,(P||(P=[])).push(Te));if(P){S==this.children&&(S=this.children.slice());var pe=S[I+2].removeInner(P,W+1);pe!=en?S[I+2]=pe:(S.splice(I,3),I-=3)}}if(M.length){for(var Ie=0,$e;Ie<h.length;Ie++)if($e=h[Ie])for(var ot=0;ot<M.length;ot++)M[ot].eq($e,k)&&(M==this.local&&(M=this.local.slice()),M.splice(ot--,1))}return S==this.children&&M==this.local?this:M.length||S.length?new d(M,S):en}},{key:"forChild",value:function(h,k){if(this==en)return this;if(k.isLeaf)return d.empty;for(var S,M,I=0;I<this.children.length;I+=3)if(this.children[I]>=h){this.children[I]==h&&(S=this.children[I+2]);break}for(var P=h+1,W=P+k.content.size,J=0;J<this.local.length;J++){var ue=this.local[J];if(ue.from<W&&ue.to>P&&ue.type instanceof co){var Te=Math.max(P,ue.from)-P,pe=Math.min(W,ue.to)-P;Te<pe&&(M||(M=[])).push(ue.copy(Te,pe))}}if(M){var Ie=new d(M.sort(ra),ho);return S?new po([Ie,S]):Ie}return S||en}},{key:"eq",value:function(h){if(this==h)return!0;if(!(h instanceof d)||this.local.length!=h.local.length||this.children.length!=h.children.length)return!1;for(var k=0;k<this.local.length;k++)if(!this.local[k].eq(h.local[k]))return!1;for(var S=0;S<this.children.length;S+=3)if(this.children[S]!=h.children[S]||this.children[S+1]!=h.children[S+1]||!this.children[S+2].eq(h.children[S+2]))return!1;return!0}},{key:"locals",value:function(h){return Vs(this.localsInner(h))}},{key:"localsInner",value:function(h){if(this==en)return ho;if(h.inlineContent||!this.local.some(co.is))return this.local;for(var k=[],S=0;S<this.local.length;S++)this.local[S].type instanceof co||k.push(this.local[S]);return k}},{key:"forEachSet",value:function(h){h(this)}}],[{key:"create",value:function(h,k){return k.length?vo(k,h,0,Fa):en}}]),d})();ii.empty=new ii([],[]),ii.removeOverlap=Vs;var en=ii.empty,po=(function(){function d(w){j(this,d),this.members=w}return le(d,[{key:"map",value:function(h,k){var S=this.members.map(function(M){return M.map(h,k,Fa)});return d.from(S)}},{key:"forChild",value:function(h,k){if(k.isLeaf)return ii.empty;for(var S=[],M=0;M<this.members.length;M++){var I=this.members[M].forChild(h,k);I!=en&&(I instanceof d?S=S.concat(I.members):S.push(I))}return d.from(S)}},{key:"eq",value:function(h){if(!(h instanceof d)||h.members.length!=this.members.length)return!1;for(var k=0;k<this.members.length;k++)if(!this.members[k].eq(h.members[k]))return!1;return!0}},{key:"locals",value:function(h){for(var k,S=!0,M=0;M<this.members.length;M++){var I=this.members[M].localsInner(h);if(I.length)if(!k)k=I;else{S&&(k=k.slice(),S=!1);for(var P=0;P<I.length;P++)k.push(I[P])}}return k?Vs(S?k:k.sort(ra)):ho}},{key:"forEachSet",value:function(h){for(var k=0;k<this.members.length;k++)this.members[k].forEachSet(h)}}],[{key:"from",value:function(h){switch(h.length){case 0:return en;case 1:return h[0];default:return new d(h.every(function(k){return k instanceof ii})?h:h.reduce(function(k,S){return k.concat(S instanceof ii?S:S.members)},[]))}}}]),d})();function Yo(d,w,h,k,S,M,I){for(var P=d.slice(),W=function(Fi){var yo=0;h.maps[J].forEach(function(ga,qa,Ti,Mr){for(var Si=Mr-Ti-(qa-ga),Nr=0;Nr<P.length;Nr+=3){var Mn=P[Nr+1];if(!(Mn<0||ga>Mn+Fi-yo)){var _i=P[Nr]+Fi-yo;qa>=_i?P[Nr+1]=ga<=_i?-2:-1:ga>=Fi&&Si&&(P[Nr]+=Si,P[Nr+1]+=Si)}}yo+=Si}),Fi=h.maps[J].map(Fi,-1),ue=Fi},J=0,ue=M;J<h.maps.length;J++)W(ue);for(var Te=!1,pe=0;pe<P.length;pe+=3)if(P[pe+1]<0){if(P[pe+1]==-2){Te=!0,P[pe+1]=-1;continue}var Ie=h.map(d[pe]+M),$e=Ie-S;if($e<0||$e>=k.content.size){Te=!0;continue}var ot=h.map(d[pe+1]+M,-1),ft=ot-S,Ke=k.content.findIndex($e),er=Ke.index,jt=Ke.offset,At=k.maybeChild(er);if(At&&jt==$e&&jt+At.nodeSize==ft){var Qt=P[pe+2].mapInner(h,At,Ie+1,d[pe]+M+1,I);Qt!=en?(P[pe]=$e,P[pe+1]=ft,P[pe+2]=Qt):(P[pe+1]=-2,Te=!0)}else Te=!0}if(Te){var or=Hs(P,d,w,h,S,M,I),gr=vo(or,k,0,I);w=gr.local;for(var $n=0;$n<P.length;$n+=3)P[$n+1]<0&&(P.splice($n,3),$n-=3);for(var qr=0,cn=0;qr<gr.children.length;qr+=3){for(var oi=gr.children[qr];cn<P.length&&P[cn]<oi;)cn+=3;P.splice(cn,0,gr.children[qr],gr.children[qr+1],gr.children[qr+2])}}return new ii(w.sort(ra),P)}function Vu(d,w){if(!w||!d.length)return d;for(var h=[],k=0;k<d.length;k++){var S=d[k];h.push(new Ba(S.from+w,S.to+w,S.type))}return h}function Hs(d,w,h,k,S,M,I){function P(J,ue){for(var Te=0;Te<J.local.length;Te++){var pe=J.local[Te].map(k,S,ue);pe?h.push(pe):I.onRemove&&I.onRemove(J.local[Te].spec)}for(var Ie=0;Ie<J.children.length;Ie+=3)P(J.children[Ie+2],J.children[Ie]+ue+1)}for(var W=0;W<d.length;W+=3)d[W+1]==-1&&P(d[W+2],w[W]+M+1);return h}function $u(d,w,h){if(w.isLeaf)return null;for(var k=h+w.nodeSize,S=null,M=0,I;M<d.length;M++)(I=d[M])&&I.from>h&&I.to<k&&((S||(S=[])).push(I),d[M]=null);return S}function Ll(d){for(var w=[],h=0;h<d.length;h++)d[h]!=null&&w.push(d[h]);return w}function vo(d,w,h,k){var S=[],M=!1;w.forEach(function(W,J){var ue=$u(d,W,J+h);if(ue){M=!0;var Te=vo(ue,W,h+J+1,k);Te!=en&&S.push(J,J+W.nodeSize,Te)}});for(var I=Vu(M?Ll(d):d,-h).sort(ra),P=0;P<I.length;P++)I[P].type.valid(w,I[P])||(k.onRemove&&k.onRemove(I[P].spec),I.splice(P--,1));return I.length||S.length?new ii(I,S):en}function ra(d,w){return d.from-w.from||d.to-w.to}function Vs(d){for(var w=d,h=0;h<w.length-1;h++){var k=w[h];if(k.from!=k.to)for(var S=h+1;S<w.length;S++){var M=w[S];if(M.from==k.from){M.to!=k.to&&(w==d&&(w=d.slice()),w[S]=M.copy(M.from,k.to),Rl(w,S+1,M.copy(k.to,M.to)));continue}else{M.from<k.to&&(w==d&&(w=d.slice()),w[h]=k.copy(k.from,M.from),Rl(w,S,k.copy(M.from,k.to)));break}}}return w}function Rl(d,w,h){for(;w<d.length&&ra(h,d[w])>0;)w++;d.splice(w,0,h)}function $s(d){var w=[];return d.someProp("decorations",function(h){var k=h(d.state);k&&k!=en&&w.push(k)}),d.cursorWrapper&&w.push(ii.create(d.state.doc,[d.cursorWrapper.deco])),po.from(w)}var Pf={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Bf=He&&nt<=11,Ff=(function(){function d(){j(this,d),this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}return le(d,[{key:"set",value:function(h){this.anchorNode=h.anchorNode,this.anchorOffset=h.anchorOffset,this.focusNode=h.focusNode,this.focusOffset=h.focusOffset}},{key:"clear",value:function(){this.anchorNode=this.focusNode=null}},{key:"eq",value:function(h){return h.anchorNode==this.anchorNode&&h.anchorOffset==this.anchorOffset&&h.focusNode==this.focusNode&&h.focusOffset==this.focusOffset}}]),d})(),_f=(function(){function d(w,h){var k=this;j(this,d),this.view=w,this.handleDOMChange=h,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Ff,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(function(S){for(var M=0;M<S.length;M++)k.queue.push(S[M]);He&&nt<=11&&S.some(function(I){return I.type=="childList"&&I.removedNodes.length||I.type=="characterData"&&I.oldValue.length>I.target.nodeValue.length})?k.flushSoon():k.flush()}),Bf&&(this.onCharData=function(S){k.queue.push({target:S.target,type:"characterData",oldValue:S.prevValue}),k.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}return le(d,[{key:"flushSoon",value:function(){var h=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(function(){h.flushingSoon=-1,h.flush()},20))}},{key:"forceFlush",value:function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}},{key:"start",value:function(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Pf)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}},{key:"stop",value:function(){var h=this;if(this.observer){var k=this.observer.takeRecords();if(k.length){for(var S=0;S<k.length;S++)this.queue.push(k[S]);window.setTimeout(function(){return h.flush()},20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}},{key:"connectSelection",value:function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}},{key:"disconnectSelection",value:function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}},{key:"suppressSelectionUpdates",value:function(){var h=this;this.suppressingSelectionUpdates=!0,setTimeout(function(){return h.suppressingSelectionUpdates=!1},50)}},{key:"onSelectionChange",value:function(){if($o(this.view)){if(this.suppressingSelectionUpdates)return gn(this.view);if(He&&nt<=11&&!this.view.state.selection.empty){var h=this.view.domSelectionRange();if(h.focusNode&&Dt(h.focusNode,h.focusOffset,h.anchorNode,h.anchorOffset))return this.flushSoon()}this.flush()}}},{key:"setCurSelection",value:function(){this.currentSelection.set(this.view.domSelectionRange())}},{key:"ignoreSelectionChange",value:function(h){if(!h.focusNode)return!0;for(var k=new Set,S,M=h.focusNode;M;M=We(M))k.add(M);for(var I=h.anchorNode;I;I=We(I))if(k.has(I)){S=I;break}var P=S&&this.view.docView.nearestDesc(S);if(P&&P.ignoreMutation({type:"selection",target:S.nodeType==3?S.parentNode:S}))return this.setCurSelection(),!0}},{key:"pendingRecords",value:function(){if(this.observer){var h=i(this.observer.takeRecords()),k;try{for(h.s();!(k=h.n()).done;){var S=k.value;this.queue.push(S)}}catch(M){h.e(M)}finally{h.f()}}return this.queue}},{key:"flush",value:function(){var h=this.view;if(!(!h.docView||this.flushingSoon>-1)){var k=this.pendingRecords();k.length&&(this.queue=[]);var S=h.domSelectionRange(),M=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(S)&&$o(h)&&!this.ignoreSelectionChange(S),I=-1,P=-1,W=!1,J=[];if(h.editable)for(var ue=0;ue<k.length;ue++){var Te=this.registerMutation(k[ue],J);Te&&(I=I<0?Te.from:Math.min(Te.from,I),P=P<0?Te.to:Math.max(Te.to,P),Te.typeOver&&(W=!0))}if(qt&&J.length){var pe=J.filter(function(or){return or.nodeName=="BR"});if(pe.length==2){var Ie=r(pe,2),$e=Ie[0],ot=Ie[1];$e.parentNode&&$e.parentNode.parentNode==ot.parentNode?ot.remove():$e.remove()}else{var ft=this.currentSelection.focusNode,Ke=i(pe),er;try{for(Ke.s();!(er=Ke.n()).done;){var jt=er.value,At=jt.parentNode;At&&At.nodeName=="LI"&&(!ft||ju(h,ft)!=At)&&jt.remove()}}catch(or){Ke.e(or)}finally{Ke.f()}}}var Qt=null;I<0&&M&&h.input.lastFocus>Date.now()-200&&Math.max(h.input.lastTouch,h.input.lastClick.time)<Date.now()-300&&Le(S)&&(Qt=Vn(h))&&Qt.eq(me.Selection.near(h.state.doc.resolve(0),1))?(h.input.lastFocus=0,gn(h),this.currentSelection.set(S),h.scrollToSelection()):(I>-1||M)&&(I>-1&&(h.docView.markDirty(I,P),Zo(h)),this.handleDOMChange(I,P,W,J),h.docView&&h.docView.dirty?h.updateState(h.state):this.currentSelection.eq(S)||gn(h),this.currentSelection.set(S))}}},{key:"registerMutation",value:function(h,k){if(k.indexOf(h.target)>-1)return null;var S=this.view.docView.nearestDesc(h.target);if(h.type=="attributes"&&(S==this.view.docView||h.attributeName=="contenteditable"||h.attributeName=="style"&&!h.oldValue&&!h.target.getAttribute("style"))||!S||S.ignoreMutation(h))return null;if(h.type=="childList"){for(var M=0;M<h.addedNodes.length;M++){var I=h.addedNodes[M];k.push(I),I.nodeType==3&&(this.lastChangedTextNode=I)}if(S.contentDOM&&S.contentDOM!=S.dom&&!S.contentDOM.contains(h.target))return{from:S.posBefore,to:S.posAfter};var P=h.previousSibling,W=h.nextSibling;if(He&&nt<=11&&h.addedNodes.length)for(var J=0;J<h.addedNodes.length;J++){var ue=h.addedNodes[J],Te=ue.previousSibling,pe=ue.nextSibling;(!Te||Array.prototype.indexOf.call(h.addedNodes,Te)<0)&&(P=Te),(!pe||Array.prototype.indexOf.call(h.addedNodes,pe)<0)&&(W=pe)}var Ie=P&&P.parentNode==h.target?_e(P)+1:0,$e=S.localPosFromDOM(h.target,Ie,-1),ot=W&&W.parentNode==h.target?_e(W):h.target.childNodes.length,ft=S.localPosFromDOM(h.target,ot,1);return{from:$e,to:ft}}else return h.type=="attributes"?{from:S.posAtStart-S.border,to:S.posAtEnd+S.border}:(this.lastChangedTextNode=h.target,{from:S.posAtStart,to:S.posAtEnd,typeOver:h.target.nodeValue==h.oldValue})}}]),d})(),Uu=new WeakMap,ai=!1;function Zo(d){if(!Uu.has(d)&&(Uu.set(d,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(d.dom).whiteSpace)!==-1)){if(d.requiresGeckoHackNode=qt,ai)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),ai=!0}}function Il(d,w){var h=w.startContainer,k=w.startOffset,S=w.endContainer,M=w.endOffset,I=d.domAtPos(d.state.selection.anchor);if(Dt(I.node,I.offset,S,M)){var P=[S,M,h,k];h=P[0],k=P[1],S=P[2],M=P[3]}return{anchorNode:h,anchorOffset:k,focusNode:S,focusOffset:M}}function Wu(d,w){if(w.getComposedRanges){var h=w.getComposedRanges(d.root)[0];if(h)return Il(d,h)}var k;function S(M){M.preventDefault(),M.stopImmediatePropagation(),k=M.getTargetRanges()[0]}return d.dom.addEventListener("beforeinput",S,!0),document.execCommand("indent"),d.dom.removeEventListener("beforeinput",S,!0),k?Il(d,k):null}function ju(d,w){for(var h=w.parentNode;h&&h!=d.dom;h=h.parentNode){var k=d.docView.nearestDesc(h,!0);if(k&&k.node.isBlock)return h}return null}function Gu(d,w,h){var k=d.docView.parseRange(w,h),S=k.node,M=k.fromOffset,I=k.toOffset,P=k.from,W=k.to,J=d.domSelectionRange(),ue,Te=J.anchorNode;if(Te&&d.dom.contains(Te.nodeType==1?Te:Te.parentNode)&&(ue=[{node:Te,offset:J.anchorOffset}],Le(J)||ue.push({node:J.focusNode,offset:J.focusOffset})),Vt&&d.input.lastKeyCode===8)for(var pe=I;pe>M;pe--){var Ie=S.childNodes[pe-1],$e=Ie.pmViewDesc;if(Ie.nodeName=="BR"&&!$e){I=pe;break}if(!$e||$e.size)break}var ot=d.state.doc,ft=d.someProp("domParser")||Ee.DOMParser.fromSchema(d.state.schema),Ke=ot.resolve(P),er=null,jt=ft.parse(S,{topNode:Ke.parent,topMatch:Ke.parent.contentMatchAt(Ke.index()),topOpen:!0,from:M,to:I,preserveWhitespace:Ke.parent.type.whitespace=="pre"?"full":!0,findPositions:ue,ruleFromNode:Pl,context:Ke});if(ue&&ue[0].pos!=null){var At=ue[0].pos,Qt=ue[1]&&ue[1].pos;Qt==null&&(Qt=At),er={anchor:At+P,head:Qt+P}}return{doc:jt,sel:er,from:P,to:W}}function Pl(d){var w=d.pmViewDesc;if(w)return w.parseRule();if(d.nodeName=="BR"&&d.parentNode){if(Kt&&/^(ul|ol)$/i.test(d.parentNode.nodeName)){var h=document.createElement("div");return h.appendChild(document.createElement("li")),{skip:h}}else if(d.parentNode.lastChild==d||Kt&&/^(tr|table)$/i.test(d.parentNode.nodeName))return{ignore:!0}}else if(d.nodeName=="IMG"&&d.getAttribute("mark-placeholder"))return{ignore:!0};return null}var qf=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function zf(d,w,h,k,S){var M=d.input.compositionPendingChanges||(d.composing?d.input.compositionID:0);if(d.input.compositionPendingChanges=0,w<0){var I=d.input.lastSelectionTime>Date.now()-50?d.input.lastSelectionOrigin:null,P=Vn(d,I);if(P&&!d.state.selection.eq(P)){if(Vt&&nr&&d.input.lastKeyCode===13&&Date.now()-100<d.input.lastKeyCodeTime&&d.someProp("handleKeyDown",function(Mr){return Mr(d,ct(13,"Enter"))}))return;var W=d.state.tr.setSelection(P);I=="pointer"?W.setMeta("pointer",!0):I=="key"&&W.scrollIntoView(),M&&W.setMeta("composition",M),d.dispatch(W)}return}var J=d.state.doc.resolve(w),ue=J.sharedDepth(h);w=J.before(ue+1),h=d.state.doc.resolve(h).after(ue+1);var Te=d.state.selection,pe=Gu(d,w,h),Ie=d.state.doc,$e=Ie.slice(pe.from,pe.to),ot,ft;d.input.lastKeyCode===8&&Date.now()-100<d.input.lastKeyCodeTime?(ot=d.state.selection.to,ft="end"):(ot=d.state.selection.from,ft="start"),d.input.lastKeyCode=null;var Ke=Ku($e.content,pe.doc.content,pe.from,ot,ft);if(Ke&&d.input.domChangeCount++,(Pr&&d.input.lastIOSEnter>Date.now()-225||nr)&&S.some(function(Mr){return Mr.nodeType==1&&!qf.test(Mr.nodeName)})&&(!Ke||Ke.endA>=Ke.endB)&&d.someProp("handleKeyDown",function(Mr){return Mr(d,ct(13,"Enter"))})){d.input.lastIOSEnter=0;return}if(!Ke)if(k&&Te instanceof me.TextSelection&&!Te.empty&&Te.$head.sameParent(Te.$anchor)&&!d.composing&&!(pe.sel&&pe.sel.anchor!=pe.sel.head))Ke={start:Te.from,endA:Te.to,endB:Te.to};else{if(pe.sel){var er=_a(d,d.state.doc,pe.sel);if(er&&!er.eq(d.state.selection)){var jt=d.state.tr.setSelection(er);M&&jt.setMeta("composition",M),d.dispatch(jt)}}return}d.state.selection.from<d.state.selection.to&&Ke.start==Ke.endB&&d.state.selection instanceof me.TextSelection&&(Ke.start>d.state.selection.from&&Ke.start<=d.state.selection.from+2&&d.state.selection.from>=pe.from?Ke.start=d.state.selection.from:Ke.endA<d.state.selection.to&&Ke.endA>=d.state.selection.to-2&&d.state.selection.to<=pe.to&&(Ke.endB+=d.state.selection.to-Ke.endA,Ke.endA=d.state.selection.to)),He&&nt<=11&&Ke.endB==Ke.start+1&&Ke.endA==Ke.start&&Ke.start>pe.from&&pe.doc.textBetween(Ke.start-pe.from-1,Ke.start-pe.from+1)==" "&&(Ke.start--,Ke.endA--,Ke.endB--);var At=pe.doc.resolveNoCache(Ke.start-pe.from),Qt=pe.doc.resolveNoCache(Ke.endB-pe.from),or=Ie.resolve(Ke.start),gr=At.sameParent(Qt)&&At.parent.inlineContent&&or.end()>=Ke.endA,$n;if((Pr&&d.input.lastIOSEnter>Date.now()-225&&(!gr||S.some(function(Mr){return Mr.nodeName=="DIV"||Mr.nodeName=="P"}))||!gr&&At.pos<pe.doc.content.size&&(!At.sameParent(Qt)||!At.parent.inlineContent)&&!/\S/.test(pe.doc.textBetween(At.pos,Qt.pos,"",""))&&($n=me.Selection.findFrom(pe.doc.resolve(At.pos+1),1,!0))&&$n.head>At.pos)&&d.someProp("handleKeyDown",function(Mr){return Mr(d,ct(13,"Enter"))})){d.input.lastIOSEnter=0;return}if(d.state.selection.anchor>Ke.start&&es(Ie,Ke.start,Ke.endA,At,Qt)&&d.someProp("handleKeyDown",function(Mr){return Mr(d,ct(8,"Backspace"))})){nr&&Vt&&d.domObserver.suppressSelectionUpdates();return}Vt&&Ke.endB==Ke.start&&(d.input.lastChromeDelete=Date.now()),nr&&!gr&&At.start()!=Qt.start()&&Qt.parentOffset==0&&At.depth==Qt.depth&&pe.sel&&pe.sel.anchor==pe.sel.head&&pe.sel.head==Ke.endA&&(Ke.endB-=2,Qt=pe.doc.resolveNoCache(Ke.endB-pe.from),setTimeout(function(){d.someProp("handleKeyDown",function(Mr){return Mr(d,ct(13,"Enter"))})},20));var qr=Ke.start,cn=Ke.endA,oi=function(Si){var Nr=Si||d.state.tr.replace(qr,cn,pe.doc.slice(Ke.start-pe.from,Ke.endB-pe.from));if(pe.sel){var Mn=_a(d,Nr.doc,pe.sel);Mn&&!(Vt&&d.composing&&Mn.empty&&(Ke.start!=Ke.endB||d.input.lastChromeDelete<Date.now()-100)&&(Mn.head==qr||Mn.head==Nr.mapping.map(cn)-1)||He&&Mn.empty&&Mn.head==qr)&&Nr.setSelection(Mn)}return M&&Nr.setMeta("composition",M),Nr.scrollIntoView()},go;if(gr){if(At.pos==Qt.pos){He&&nt<=11&&At.parentOffset==0&&(d.domObserver.suppressSelectionUpdates(),setTimeout(function(){return gn(d)},20));var Fi=oi(d.state.tr.delete(qr,cn)),yo=Ie.resolve(Ke.start).marksAcross(Ie.resolve(Ke.endA));yo&&Fi.ensureMarks(yo),d.dispatch(Fi)}else if(Ke.endA==Ke.endB&&(go=Bl(At.parent.content.cut(At.parentOffset,Qt.parentOffset),or.parent.content.cut(or.parentOffset,Ke.endA-or.start())))){var ga=oi(d.state.tr);go.type=="add"?ga.addMark(qr,cn,go.mark):ga.removeMark(qr,cn,go.mark),d.dispatch(ga)}else if(At.parent.child(At.index()).isText&&At.index()==Qt.index()-(Qt.textOffset?0:1)){var qa=At.parent.textBetween(At.parentOffset,Qt.parentOffset),Ti=function(){return oi(d.state.tr.insertText(qa,qr,cn))};d.someProp("handleTextInput",function(Mr){return Mr(d,qr,cn,qa,Ti)})||d.dispatch(Ti())}}else d.dispatch(oi())}function _a(d,w,h){return Math.max(h.anchor,h.head)>w.content.size?null:Jt(d,w.resolve(h.anchor),w.resolve(h.head))}function Bl(d,w){for(var h=d.firstChild.marks,k=w.firstChild.marks,S=h,M=k,I,P,W,J=0;J<k.length;J++)S=k[J].removeFromSet(S);for(var ue=0;ue<h.length;ue++)M=h[ue].removeFromSet(M);if(S.length==1&&M.length==0)P=S[0],I="add",W=function($e){return $e.mark(P.addToSet($e.marks))};else if(S.length==0&&M.length==1)P=M[0],I="remove",W=function($e){return $e.mark(P.removeFromSet($e.marks))};else return null;for(var Te=[],pe=0;pe<w.childCount;pe++)Te.push(W(w.child(pe)));if(Ee.Fragment.from(Te).eq(d))return{mark:P,type:I}}function es(d,w,h,k,S){if(h-w<=S.pos-k.pos||ts(k,!0,!1)<S.pos)return!1;var M=d.resolve(w);if(!k.parent.isTextblock){var I=M.nodeAfter;return I!=null&&h==w+I.nodeSize}if(M.parentOffset<M.parent.content.size||!M.parent.isTextblock)return!1;var P=d.resolve(ts(M,!0,!0));return!P.parent.isTextblock||P.pos>h||ts(P,!0,!1)<h?!1:k.parent.content.cut(k.parentOffset).eq(P.parent.content)}function ts(d,w,h){for(var k=d.depth,S=w?d.end():d.pos;k>0&&(w||d.indexAfter(k)==d.node(k).childCount);)k--,S++,w=!1;if(h)for(var M=d.node(k).maybeChild(d.indexAfter(k));M&&!M.isLeaf;)M=M.firstChild,S++;return S}function Ku(d,w,h,k,S){var M=d.findDiffStart(w,h);if(M==null)return null;var I=d.findDiffEnd(w,h+d.size,h+w.size),P=I.a,W=I.b;if(S=="end"){var J=Math.max(0,M-Math.min(P,W));k-=P+J-M}if(P<M&&d.size<w.size){var ue=k<=M&&k>=P?M-k:0;M-=ue,M&&M<w.size&&rs(w.textBetween(M-1,M+1))&&(M+=ue?1:-1),W=M+(W-P),P=M}else if(W<M){var Te=k<=M&&k>=W?M-k:0;M-=Te,M&&M<d.size&&rs(d.textBetween(M-1,M+1))&&(M+=Te?1:-1),P=M+(P-W),W=M}return{start:M,endA:P,endB:W}}function rs(d){if(d.length!=2)return!1;var w=d.charCodeAt(0),h=d.charCodeAt(1);return w>=56320&&w<=57343&&h>=55296&&h<=56319}var mo=Se,Fl=Jo,_l=(function(){function d(w,h){var k=this;j(this,d),this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Go,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=h,this.state=h.state,this.directPlugins=h.plugins||[],this.directPlugins.forEach(Vl),this.dispatch=this.dispatch.bind(this),this.dom=w&&w.mount||document.createElement("div"),w&&(w.appendChild?w.appendChild(this.dom):typeof w=="function"?w(this.dom):w.mount&&(this.mounted=!0)),this.editable=zl(this),ql(this),this.nodeViews=Hl(this),this.docView=E(this.state.doc,ns(this),$s(this),this.dom,this),this.domObserver=new _f(this,function(S,M,I,P){return zf(k,S,M,I,P)}),this.domObserver.start(),wf(this),this.updatePluginViews()}return le(d,[{key:"composing",get:function(){return this.input.composing}},{key:"props",get:function(){if(this._props.state!=this.state){var h=this._props;this._props={};for(var k in h)this._props[k]=h[k];this._props.state=this.state}return this._props}},{key:"update",value:function(h){h.handleDOMEvents!=this._props.handleDOMEvents&&Pa(this);var k=this._props;this._props=h,h.plugins&&(h.plugins.forEach(Vl),this.directPlugins=h.plugins),this.updateStateInner(h.state,k)}},{key:"setProps",value:function(h){var k={};for(var S in this._props)k[S]=this._props[S];k.state=this.state;for(var M in h)k[M]=h[M];this.update(k)}},{key:"updateState",value:function(h){this.updateStateInner(h,this._props)}},{key:"updateStateInner",value:function(h,k){var S,M=this.state,I=!1,P=!1;h.storedMarks&&this.composing&&(zu(this),P=!0),this.state=h;var W=M.plugins!=h.plugins||this._props.plugins!=k.plugins;if(W||this._props.plugins!=k.plugins||this._props.nodeViews!=k.nodeViews){var J=Hl(this);Qu(J,this.nodeViews)&&(this.nodeViews=J,I=!0)}(W||k.handleDOMEvents!=this._props.handleDOMEvents)&&Pa(this),this.editable=zl(this),ql(this);var ue=$s(this),Te=ns(this),pe=M.plugins!=h.plugins&&!M.doc.eq(h.doc)?"reset":h.scrollToSelection>M.scrollToSelection?"to selection":"preserve",Ie=I||!this.docView.matchesNode(h.doc,Te,ue);(Ie||!h.selection.eq(M.selection))&&(P=!0);var $e=pe=="preserve"&&P&&this.dom.style.overflowAnchor==null&&Bt(this);if(P){this.domObserver.stop();var ot=Ie&&(He||Vt)&&!this.composing&&!M.selection.empty&&!h.selection.empty&&Ju(M.selection,h.selection);if(Ie){var ft=Vt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Hu(this)),(I||!this.docView.update(h.doc,Te,ue,this))&&(this.docView.updateOuterDeco(Te),this.docView.destroy(),this.docView=E(h.doc,Te,ue,this.dom,this)),ft&&!this.trackWrites&&(ot=!0)}ot||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Ii(this))?gn(this,ot):(Aa(this,h.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(M),!((S=this.dragging)===null||S===void 0)&&S.node&&!M.doc.eq(h.doc)&&this.updateDraggedNode(this.dragging,M),pe=="reset"?this.dom.scrollTop=0:pe=="to selection"?this.scrollToSelection():$e&&Yt($e)}},{key:"scrollToSelection",value:function(){var h=this,k=this.domSelectionRange().focusNode;if(!(!k||!this.dom.contains(k.nodeType==1?k:k.parentNode))){if(!this.someProp("handleScrollToSelection",function(M){return M(h)}))if(this.state.selection instanceof me.NodeSelection){var S=this.docView.domAfterPos(this.state.selection.from);S.nodeType==1&&ut(this,S.getBoundingClientRect(),k)}else ut(this,this.coordsAtPos(this.state.selection.head,1),k)}}},{key:"destroyPluginViews",value:function(){for(var h;h=this.pluginViews.pop();)h.destroy&&h.destroy()}},{key:"updatePluginViews",value:function(h){if(!h||h.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(var k=0;k<this.directPlugins.length;k++){var S=this.directPlugins[k];S.spec.view&&this.pluginViews.push(S.spec.view(this))}for(var M=0;M<this.state.plugins.length;M++){var I=this.state.plugins[M];I.spec.view&&this.pluginViews.push(I.spec.view(this))}}else for(var P=0;P<this.pluginViews.length;P++){var W=this.pluginViews[P];W.update&&W.update(this,h)}}},{key:"updateDraggedNode",value:function(h,k){var S=h.node,M=-1;if(this.state.doc.nodeAt(S.from)==S.node)M=S.from;else{var I=S.from+(this.state.doc.content.size-k.doc.content.size),P=I>0&&this.state.doc.nodeAt(I);P==S.node&&(M=I)}this.dragging=new lo(h.slice,h.move,M<0?void 0:me.NodeSelection.create(this.state.doc,M))}},{key:"someProp",value:function(h,k){var S=this._props&&this._props[h],M;if(S!=null&&(M=k?k(S):S))return M;for(var I=0;I<this.directPlugins.length;I++){var P=this.directPlugins[I].props[h];if(P!=null&&(M=k?k(P):P))return M}var W=this.state.plugins;if(W)for(var J=0;J<W.length;J++){var ue=W[J].props[h];if(ue!=null&&(M=k?k(ue):ue))return M}}},{key:"hasFocus",value:function(){if(He){var h=this.root.activeElement;if(h==this.dom)return!0;if(!h||!this.dom.contains(h))return!1;for(;h&&this.dom!=h&&this.dom.contains(h);){if(h.contentEditable=="false")return!1;h=h.parentElement}return!0}return this.root.activeElement==this.dom}},{key:"focus",value:function(){this.domObserver.stop(),this.editable&&Cr(this.dom),gn(this),this.domObserver.start()}},{key:"root",get:function(){var h=this,k=this._root;if(k==null){for(var S=function(W){if(W.nodeType==9||W.nodeType==11&&W.host)return W.getSelection||(Object.getPrototypeOf(W).getSelection=function(){return W.ownerDocument.getSelection()}),{v:h._root=W}},M,I=this.dom.parentNode;I;I=I.parentNode)if(M=S(I),M)return M.v}return k||document}},{key:"updateRoot",value:function(){this._root=null}},{key:"posAtCoords",value:function(h){return Kr(this,h)}},{key:"coordsAtPos",value:function(h){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return vr(this,h,k)}},{key:"domAtPos",value:function(h){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.docView.domFromPos(h,k)}},{key:"nodeDOM",value:function(h){var k=this.docView.descAt(h);return k?k.nodeDOM:null}},{key:"posAtDOM",value:function(h,k){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,M=this.docView.posFromDOM(h,k,S);if(M==null)throw new RangeError("DOM position not inside the editor");return M}},{key:"endOfTextblock",value:function(h,k){return qe(this,k||this.state,h)}},{key:"pasteHTML",value:function(h,k){return Xo(this,"",h,!1,k||new ClipboardEvent("paste"))}},{key:"pasteText",value:function(h,k){return Xo(this,h,null,!0,k||new ClipboardEvent("paste"))}},{key:"serializeForClipboard",value:function(h){return Ct(this,h)}},{key:"destroy",value:function(){this.docView&&(Ml(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],$s(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Rt())}},{key:"isDestroyed",get:function(){return this.docView==null}},{key:"dispatchEvent",value:function(h){return bf(this,h)}},{key:"domSelectionRange",value:function(){var h=this.domSelection();return h?Kt&&this.root.nodeType===11&&pt(this.dom.ownerDocument)==this.dom&&Wu(this,h)||h:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}},{key:"domSelection",value:function(){return this.root.getSelection()}}]),d})();_l.prototype.dispatch=function(d){var w=this._props.dispatchTransaction;w?w.call(this,d):this.updateState(this.state.apply(d))};function ns(d){var w=Object.create(null);return w.class="ProseMirror",w.contenteditable=String(d.editable),d.someProp("attributes",function(h){if(typeof h=="function"&&(h=h(d.state)),h)for(var k in h)k=="class"?w.class+=" "+h[k]:k=="style"?w.style=(w.style?w.style+";":"")+h[k]:!w[k]&&k!="contenteditable"&&k!="nodeName"&&(w[k]=String(h[k]))}),w.translate||(w.translate="no"),[Ba.node(0,d.state.doc.content.size,w)]}function ql(d){if(d.markCursor){var w=document.createElement("img");w.className="ProseMirror-separator",w.setAttribute("mark-placeholder","true"),w.setAttribute("alt",""),d.cursorWrapper={dom:w,deco:Ba.widget(d.state.selection.from,w,{raw:!0,marks:d.markCursor})}}else d.cursorWrapper=null}function zl(d){return!d.someProp("editable",function(w){return w(d.state)===!1})}function Ju(d,w){var h=Math.min(d.$anchor.sharedDepth(d.head),w.$anchor.sharedDepth(w.head));return d.$anchor.start(h)!=w.$anchor.start(h)}function Hl(d){var w=Object.create(null);function h(k){for(var S in k)Object.prototype.hasOwnProperty.call(w,S)||(w[S]=k[S])}return d.someProp("nodeViews",h),d.someProp("markViews",h),w}function Qu(d,w){var h=0,k=0;for(var S in d){if(d[S]!=w[S])return!0;h++}for(var M in w)k++;return h!=k}function Vl(d){if(d.spec.state||d.spec.filterTransaction||d.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}return fu.Decoration=Ba,fu.DecorationSet=ii,fu.EditorView=_l,fu.__endComposition=Fl,fu.__parseFromClipboard=mo,fu}/*!
 * @toast-ui/editor
 * @version 3.2.2 | Fri Feb 17 2023
 * @author NHN Cloud FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 */var zT;function w9e(){return zT||(zT=1,(function(r,e){(function(n,i){r.exports=i(m9e(),y9e(),Vm(),$m(),k9e())})(self,function(t,n,i,a,s){return(function(){var u={368:(function(T){/*! @license DOMPurify 2.3.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.3/LICENSE */(function(N,O){T.exports=O()})(this,function(){function N(lt){if(Array.isArray(lt)){for(var ut=0,Bt=Array(lt.length);ut<lt.length;ut++)Bt[ut]=lt[ut];return Bt}else return Array.from(lt)}var O=Object.hasOwnProperty,A=Object.setPrototypeOf,z=Object.isFrozen,H=Object.getPrototypeOf,j=Object.getOwnPropertyDescriptor,ie=Object.freeze,le=Object.seal,ve=Object.create,be=typeof Reflect<"u"&&Reflect,me=be.apply,Ee=be.construct;me||(me=function(ut,Bt,$t){return ut.apply(Bt,$t)}),ie||(ie=function(ut){return ut}),le||(le=function(ut){return ut}),Ee||(Ee=function(ut,Bt){return new(Function.prototype.bind.apply(ut,[null].concat(N(Bt))))});var Ce=Ye(Array.prototype.forEach),_e=Ye(Array.prototype.pop),We=Ye(Array.prototype.push),Mt=Ye(String.prototype.toLowerCase),tt=Ye(String.prototype.match),Rt=Ye(String.prototype.replace),Dt=Ye(String.prototype.indexOf),zt=Ye(String.prototype.trim),St=Ye(RegExp.prototype.test),Pt=mt(TypeError);function Ye(lt){return function(ut){for(var Bt=arguments.length,$t=Array(Bt>1?Bt-1:0),Yt=1;Yt<Bt;Yt++)$t[Yt-1]=arguments[Yt];return me(lt,ut,$t)}}function mt(lt){return function(){for(var ut=arguments.length,Bt=Array(ut),$t=0;$t<ut;$t++)Bt[$t]=arguments[$t];return Ee(lt,Bt)}}function Ve(lt,ut){A&&A(lt,null);for(var Bt=ut.length;Bt--;){var $t=ut[Bt];if(typeof $t=="string"){var Yt=Mt($t);Yt!==$t&&(z(ut)||(ut[Bt]=Yt),$t=Yt)}lt[$t]=!0}return lt}function ge(lt){var ut=ve(null),Bt=void 0;for(Bt in lt)me(O,lt,[Bt])&&(ut[Bt]=lt[Bt]);return ut}function Le(lt,ut){for(;lt!==null;){var Bt=j(lt,ut);if(Bt){if(Bt.get)return Ye(Bt.get);if(typeof Bt.value=="function")return Ye(Bt.value)}lt=H(lt)}function $t(Yt){return console.warn("fallback value for",Yt),null}return $t}var ct=ie(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),pt=ie(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ht=ie(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),xe=ie(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),we=ie(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),oe=ie(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),he=ie(["#text"]),se=ie(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Pe=ie(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),He=ie(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),nt=ie(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),qt=le(/\{\{[\s\S]*|[\s\S]*\}\}/gm),Wt=le(/<%[\s\S]*|[\s\S]*%>/gm),Vt=le(/^data-[\-\w.\u00B7-\uFFFF]/),br=le(/^aria-[\-\w]+$/),Kt=le(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Pr=le(/^(?:\w+script|data):/i),yr=le(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Sr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(lt){return typeof lt}:function(lt){return lt&&typeof Symbol=="function"&&lt.constructor===Symbol&&lt!==Symbol.prototype?"symbol":typeof lt};function nr(lt){if(Array.isArray(lt)){for(var ut=0,Bt=Array(lt.length);ut<lt.length;ut++)Bt[ut]=lt[ut];return Bt}else return Array.from(lt)}var Vr=function(){return typeof window>"u"?null:window},yi=function(ut,Bt){if((typeof ut>"u"?"undefined":Sr(ut))!=="object"||typeof ut.createPolicy!="function")return null;var $t=null,Yt="data-tt-policy-suffix";Bt.currentScript&&Bt.currentScript.hasAttribute(Yt)&&($t=Bt.currentScript.getAttribute(Yt));var Yr="dompurify"+($t?"#"+$t:"");try{return ut.createPolicy(Yr,{createHTML:function(Cr){return Cr}})}catch{return console.warn("TrustedTypes policy "+Yr+" could not be created."),null}};function Fn(){var lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Vr(),ut=function(Se){return Fn(Se)};if(ut.version="2.3.3",ut.removed=[],!lt||!lt.document||lt.document.nodeType!==9)return ut.isSupported=!1,ut;var Bt=lt.document,$t=lt.document,Yt=lt.DocumentFragment,Yr=lt.HTMLTemplateElement,pr=lt.Node,Cr=lt.Element,Sn=lt.NodeFilter,_n=lt.NamedNodeMap,Dr=_n===void 0?lt.NamedNodeMap||lt.MozNamedAttrMap:_n,ln=lt.Text,Zn=lt.Comment,qn=lt.DOMParser,Zr=lt.trustedTypes,Kr=Cr.prototype,mn=Le(Kr,"cloneNode"),Fr=Le(Kr,"nextSibling"),zn=Le(Kr,"childNodes"),vr=Le(Kr,"parentNode");if(typeof Yr=="function"){var $r=$t.createElement("template");$r.content&&$r.content.ownerDocument&&($t=$r.content.ownerDocument)}var X=yi(Zr,Bt),Y=X&&Jr?X.createHTML(""):"",q=$t,F=q.implementation,$=q.createNodeIterator,G=q.createDocumentFragment,te=q.getElementsByTagName,Ne=Bt.importNode,qe={};try{qe=ge($t).documentMode?$t.documentMode:{}}catch{}var de={};ut.isSupported=typeof vr=="function"&&F&&typeof F.createHTMLDocument<"u"&&qe!==9;var re=qt,Ae=Wt,Be=Vt,it=br,Nt=Pr,V=yr,R=Kt,b=null,E=Ve({},[].concat(nr(ct),nr(pt),nr(Ht),nr(we),nr(he))),B=null,K=Ve({},[].concat(nr(se),nr(Pe),nr(He),nr(nt))),Z=null,ae=null,ye=!0,Oe=!0,Qe=!1,je=!1,at=!1,Ot=!1,Zt=!1,cr=!1,Ar=!1,Yi=!0,Jr=!1,Ps=!0,Ho=!0,Na=!1,Hn={},Vn=null,Zi=Ve({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),gn=null,Vo=Ve({},["audio","video","img","source","image","track"]),ro=null,pa=Ve({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Oa="http://www.w3.org/1998/Math/MathML",Da="http://www.w3.org/2000/svg",xn="http://www.w3.org/1999/xhtml",Aa=xn,va=!1,Jt=void 0,$o=["application/xhtml+xml","text/html"],Uo="text/html",Ii=void 0,ki=null,wi=$t.createElement("form"),La=function(Se){ki&&ki===Se||((!Se||(typeof Se>"u"?"undefined":Sr(Se))!=="object")&&(Se={}),Se=ge(Se),b="ALLOWED_TAGS"in Se?Ve({},Se.ALLOWED_TAGS):E,B="ALLOWED_ATTR"in Se?Ve({},Se.ALLOWED_ATTR):K,ro="ADD_URI_SAFE_ATTR"in Se?Ve(ge(pa),Se.ADD_URI_SAFE_ATTR):pa,gn="ADD_DATA_URI_TAGS"in Se?Ve(ge(Vo),Se.ADD_DATA_URI_TAGS):Vo,Vn="FORBID_CONTENTS"in Se?Ve({},Se.FORBID_CONTENTS):Zi,Z="FORBID_TAGS"in Se?Ve({},Se.FORBID_TAGS):{},ae="FORBID_ATTR"in Se?Ve({},Se.FORBID_ATTR):{},Hn="USE_PROFILES"in Se?Se.USE_PROFILES:!1,ye=Se.ALLOW_ARIA_ATTR!==!1,Oe=Se.ALLOW_DATA_ATTR!==!1,Qe=Se.ALLOW_UNKNOWN_PROTOCOLS||!1,je=Se.SAFE_FOR_TEMPLATES||!1,at=Se.WHOLE_DOCUMENT||!1,cr=Se.RETURN_DOM||!1,Ar=Se.RETURN_DOM_FRAGMENT||!1,Yi=Se.RETURN_DOM_IMPORT!==!1,Jr=Se.RETURN_TRUSTED_TYPE||!1,Zt=Se.FORCE_BODY||!1,Ps=Se.SANITIZE_DOM!==!1,Ho=Se.KEEP_CONTENT!==!1,Na=Se.IN_PLACE||!1,R=Se.ALLOWED_URI_REGEXP||R,Aa=Se.NAMESPACE||xn,Jt=$o.indexOf(Se.PARSER_MEDIA_TYPE)===-1?Jt=Uo:Jt=Se.PARSER_MEDIA_TYPE,Ii=Jt==="application/xhtml+xml"?function(et){return et}:Mt,je&&(Oe=!1),Ar&&(cr=!0),Hn&&(b=Ve({},[].concat(nr(he))),B=[],Hn.html===!0&&(Ve(b,ct),Ve(B,se)),Hn.svg===!0&&(Ve(b,pt),Ve(B,Pe),Ve(B,nt)),Hn.svgFilters===!0&&(Ve(b,Ht),Ve(B,Pe),Ve(B,nt)),Hn.mathMl===!0&&(Ve(b,we),Ve(B,He),Ve(B,nt))),Se.ADD_TAGS&&(b===E&&(b=ge(b)),Ve(b,Se.ADD_TAGS)),Se.ADD_ATTR&&(B===K&&(B=ge(B)),Ve(B,Se.ADD_ATTR)),Se.ADD_URI_SAFE_ATTR&&Ve(ro,Se.ADD_URI_SAFE_ATTR),Se.FORBID_CONTENTS&&(Vn===Zi&&(Vn=ge(Vn)),Ve(Vn,Se.FORBID_CONTENTS)),Ho&&(b["#text"]=!0),at&&Ve(b,["html","head","body"]),b.table&&(Ve(b,["tbody"]),delete Z.tbody),ie&&ie(Se),ki=Se)},ea=Ve({},["mi","mo","mn","ms","mtext"]),bi=Ve({},["foreignobject","desc","title","annotation-xml"]),Qr=Ve({},pt);Ve(Qr,Ht),Ve(Qr,xe);var ei=Ve({},we);Ve(ei,oe);var Pi=function(Se){var et=vr(Se);(!et||!et.tagName)&&(et={namespaceURI:xn,tagName:"template"});var kt=Mt(Se.tagName),ar=Mt(et.tagName);if(Se.namespaceURI===Da)return et.namespaceURI===xn?kt==="svg":et.namespaceURI===Oa?kt==="svg"&&(ar==="annotation-xml"||ea[ar]):!!Qr[kt];if(Se.namespaceURI===Oa)return et.namespaceURI===xn?kt==="math":et.namespaceURI===Da?kt==="math"&&bi[ar]:!!ei[kt];if(Se.namespaceURI===xn){if(et.namespaceURI===Da&&!bi[ar]||et.namespaceURI===Oa&&!ea[ar])return!1;var Ur=Ve({},["title","style","font","a","script"]);return!ei[kt]&&(Ur[kt]||!Qr[kt])}return!1},un=function(Se){We(ut.removed,{element:Se});try{Se.parentNode.removeChild(Se)}catch{try{Se.outerHTML=Y}catch{Se.remove()}}},ma=function(Se,et){try{We(ut.removed,{attribute:et.getAttributeNode(Se),from:et})}catch{We(ut.removed,{attribute:null,from:et})}if(et.removeAttribute(Se),Se==="is"&&!B[Se])if(cr||Ar)try{un(et)}catch{}else try{et.setAttribute(Se,"")}catch{}},Ci=function(Se){var et=void 0,kt=void 0;if(Zt)Se="<remove></remove>"+Se;else{var ar=tt(Se,/^[\r\n\t ]+/);kt=ar&&ar[0]}Jt==="application/xhtml+xml"&&(Se='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Se+"</body></html>");var Ur=X?X.createHTML(Se):Se;if(Aa===xn)try{et=new qn().parseFromString(Ur,Jt)}catch{}if(!et||!et.documentElement){et=F.createDocument(Aa,"template",null);try{et.documentElement.innerHTML=va?"":Ur}catch{}}var Lr=et.body||et.documentElement;return Se&&kt&&Lr.insertBefore($t.createTextNode(kt),Lr.childNodes[0]||null),Aa===xn?te.call(et,at?"html":"body")[0]:at?et.documentElement:Lr},no=function(Se){return $.call(Se.ownerDocument||Se,Se,Sn.SHOW_ELEMENT|Sn.SHOW_COMMENT|Sn.SHOW_TEXT,null,!1)},Wo=function(Se){return Se instanceof ln||Se instanceof Zn?!1:typeof Se.nodeName!="string"||typeof Se.textContent!="string"||typeof Se.removeChild!="function"||!(Se.attributes instanceof Dr)||typeof Se.removeAttribute!="function"||typeof Se.setAttribute!="function"||typeof Se.namespaceURI!="string"||typeof Se.insertBefore!="function"},ti=function(Se){return(typeof pr>"u"?"undefined":Sr(pr))==="object"?Se instanceof pr:Se&&(typeof Se>"u"?"undefined":Sr(Se))==="object"&&typeof Se.nodeType=="number"&&typeof Se.nodeName=="string"},ri=function(Se,et,kt){de[Se]&&Ce(de[Se],function(ar){ar.call(ut,et,kt,ki)})},io=function(Se){var et=void 0;if(ri("beforeSanitizeElements",Se,null),Wo(Se)||tt(Se.nodeName,/[\u0080-\uFFFF]/))return un(Se),!0;var kt=Ii(Se.nodeName);if(ri("uponSanitizeElement",Se,{tagName:kt,allowedTags:b}),!ti(Se.firstElementChild)&&(!ti(Se.content)||!ti(Se.content.firstElementChild))&&St(/<[/\w]/g,Se.innerHTML)&&St(/<[/\w]/g,Se.textContent)||kt==="select"&&St(/<template/i,Se.innerHTML))return un(Se),!0;if(!b[kt]||Z[kt]){if(Ho&&!Vn[kt]){var ar=vr(Se)||Se.parentNode,Ur=zn(Se)||Se.childNodes;if(Ur&&ar)for(var Lr=Ur.length,xr=Lr-1;xr>=0;--xr)ar.insertBefore(mn(Ur[xr],!0),Fr(Se))}return un(Se),!0}return Se instanceof Cr&&!Pi(Se)||(kt==="noscript"||kt==="noembed")&&St(/<\/no(script|embed)/i,Se.innerHTML)?(un(Se),!0):(je&&Se.nodeType===3&&(et=Se.textContent,et=Rt(et,re," "),et=Rt(et,Ae," "),Se.textContent!==et&&(We(ut.removed,{element:Se.cloneNode()}),Se.textContent=et)),ri("afterSanitizeElements",Se,null),!1)},Ra=function(Se,et,kt){if(Ps&&(et==="id"||et==="name")&&(kt in $t||kt in wi))return!1;if(!(Oe&&!ae[et]&&St(Be,et))){if(!(ye&&St(it,et))){if(!B[et]||ae[et])return!1;if(!ro[et]){if(!St(R,Rt(kt,V,""))){if(!((et==="src"||et==="xlink:href"||et==="href")&&Se!=="script"&&Dt(kt,"data:")===0&&gn[Se])){if(!(Qe&&!St(Nt,Rt(kt,V,"")))){if(kt)return!1}}}}}}return!0},jo=function(Se){var et=void 0,kt=void 0,ar=void 0,Ur=void 0;ri("beforeSanitizeAttributes",Se,null);var Lr=Se.attributes;if(Lr){var xr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:B};for(Ur=Lr.length;Ur--;){et=Lr[Ur];var En=et,ta=En.name,ni=En.namespaceURI;if(kt=zt(et.value),ar=Ii(ta),xr.attrName=ar,xr.attrValue=kt,xr.keepAttr=!0,xr.forceKeepAttr=void 0,ri("uponSanitizeAttribute",Se,xr),kt=xr.attrValue,!xr.forceKeepAttr&&(ma(ta,Se),!!xr.keepAttr)){if(St(/\/>/i,kt)){ma(ta,Se);continue}je&&(kt=Rt(kt,re," "),kt=Rt(kt,Ae," "));var ao=Ii(Se.nodeName);if(Ra(ao,ar,kt))try{ni?Se.setAttributeNS(ni,ta,kt):Se.setAttribute(ta,kt),_e(ut.removed)}catch{}}}ri("afterSanitizeAttributes",Se,null)}},xl=function Ct(Se){var et=void 0,kt=no(Se);for(ri("beforeSanitizeShadowDOM",Se,null);et=kt.nextNode();)ri("uponSanitizeShadowNode",et,null),!io(et)&&(et.content instanceof Yt&&Ct(et.content),jo(et));ri("afterSanitizeShadowDOM",Se,null)};return ut.sanitize=function(Ct,Se){var et=void 0,kt=void 0,ar=void 0,Ur=void 0,Lr=void 0;if(va=!Ct,va&&(Ct="<!-->"),typeof Ct!="string"&&!ti(Ct)){if(typeof Ct.toString!="function")throw Pt("toString is not a function");if(Ct=Ct.toString(),typeof Ct!="string")throw Pt("dirty is not a string, aborting")}if(!ut.isSupported){if(Sr(lt.toStaticHTML)==="object"||typeof lt.toStaticHTML=="function"){if(typeof Ct=="string")return lt.toStaticHTML(Ct);if(ti(Ct))return lt.toStaticHTML(Ct.outerHTML)}return Ct}if(Ot||La(Se),ut.removed=[],typeof Ct=="string"&&(Na=!1),!Na)if(Ct instanceof pr)et=Ci("<!---->"),kt=et.ownerDocument.importNode(Ct,!0),kt.nodeType===1&&kt.nodeName==="BODY"||kt.nodeName==="HTML"?et=kt:et.appendChild(kt);else{if(!cr&&!je&&!at&&Ct.indexOf("<")===-1)return X&&Jr?X.createHTML(Ct):Ct;if(et=Ci(Ct),!et)return cr?null:Y}et&&Zt&&un(et.firstChild);for(var xr=no(Na?Ct:et);ar=xr.nextNode();)ar.nodeType===3&&ar===Ur||io(ar)||(ar.content instanceof Yt&&xl(ar.content),jo(ar),Ur=ar);if(Ur=null,Na)return Ct;if(cr){if(Ar)for(Lr=G.call(et.ownerDocument);et.firstChild;)Lr.appendChild(et.firstChild);else Lr=et;return Yi&&(Lr=Ne.call(Bt,Lr,!0)),Lr}var En=at?et.outerHTML:et.innerHTML;return je&&(En=Rt(En,re," "),En=Rt(En,Ae," ")),X&&Jr?X.createHTML(En):En},ut.setConfig=function(Ct){La(Ct),Ot=!0},ut.clearConfig=function(){ki=null,Ot=!1},ut.isValidAttribute=function(Ct,Se,et){ki||La({});var kt=Ii(Ct),ar=Ii(Se);return Ra(kt,ar,et)},ut.addHook=function(Ct,Se){typeof Se=="function"&&(de[Ct]=de[Ct]||[],We(de[Ct],Se))},ut.removeHook=function(Ct){de[Ct]&&_e(de[Ct])},ut.removeHooks=function(Ct){de[Ct]&&(de[Ct]=[])},ut.removeAllHooks=function(){de={}},ut}var Br=Fn();return Br})}),928:(function(T,N,O){var A=O(322);function z(H,j,ie){var le,ve;if(ie=ie||0,!A(j))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(j,H,ie);for(ve=j.length,le=ie;ie>=0&&le<ve;le+=1)if(j[le]===H)return le;return-1}T.exports=z}),690:(function(T,N,O){var A=O(322),z=O(893),H=O(956);function j(ie,le,ve){A(ie)?z(ie,le,ve):H(ie,le,ve)}T.exports=j}),893:(function(T){function N(O,A,z){var H=0,j=O.length;for(z=z||null;H<j&&A.call(z,O[H],H,O)!==!1;H+=1);}T.exports=N}),956:(function(T){function N(O,A,z){var H;z=z||null;for(H in O)if(O.hasOwnProperty(H)&&A.call(z,O[H],H,O)===!1)break}T.exports=N}),990:(function(T,N,O){var A=O(893);function z(H){var j;try{j=Array.prototype.slice.call(H)}catch{j=[],A(H,function(le){j.push(le)})}return j}T.exports=z}),755:(function(T){var N="_feEventKey";function O(A,z){var H=A[N],j;return H||(H=A[N]={}),j=H[z],j||(j=H[z]=[]),j}T.exports=O}),349:(function(T,N,O){var A=O(758),z=O(690),H=O(755);function j(ve,be,me){if(A(be)){z(be.split(/\s+/g),function(Ee){ie(ve,Ee,me)});return}z(be,function(Ee,Ce){ie(ve,Ce,Ee)})}function ie(ve,be,me){var Ee=H(ve,be),Ce;me?(z(Ee,function(_e,We){return me===_e.handler?(le(ve,be,_e.wrappedHandler),Ce=We,!1):!0}),Ee.splice(Ce,1)):(z(Ee,function(_e){le(ve,be,_e.wrappedHandler)}),Ee.splice(0,Ee.length))}function le(ve,be,me){"removeEventListener"in ve?ve.removeEventListener(be,me):"detachEvent"in ve&&ve.detachEvent("on"+be,me)}T.exports=j}),348:(function(T,N,O){var A=O(758),z=O(690),H=O(755);function j(ve,be,me,Ee){if(A(be)){z(be.split(/\s+/g),function(Ce){ie(ve,Ce,me,Ee)});return}z(be,function(Ce,_e){ie(ve,_e,Ce,me)})}function ie(ve,be,me,Ee){function Ce(_e){me.call(Ee||ve,_e||window.event)}"addEventListener"in ve?ve.addEventListener(be,Ce):"attachEvent"in ve&&ve.attachEvent("on"+be,Ce),le(ve,be,me,Ce)}function le(ve,be,me,Ee){var Ce=H(ve,be),_e=!1;z(Ce,function(We){return We.handler===me?(_e=!0,!1):!0}),_e||Ce.push({handler:me,wrappedHandler:Ee})}T.exports=j}),24:(function(T,N,O){var A=O(322),z=O(929);function H(j,ie){if(ie=A(ie)?ie.join(" "):ie,ie=ie.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),z(j.className.baseVal)){j.className=ie;return}j.className.baseVal=ie}T.exports=H}),204:(function(T,N,O){var A=O(690),z=O(928),H=O(902),j=O(24);function ie(le){var ve=Array.prototype.slice.call(arguments,1),be=le.classList,me=[],Ee;if(be){A(ve,function(Ce){le.classList.add(Ce)});return}Ee=H(le),Ee&&(ve=[].concat(Ee.split(/\s+/),ve)),A(ve,function(Ce){z(Ce,me)<0&&me.push(Ce)}),j(le,me)}T.exports=ie}),522:(function(T,N,O){var A=O(758),z=O(690);function H(j,ie,le){var ve=j.style;if(A(ie)){ve[ie]=le;return}z(ie,function(be,me){ve[me]=be})}T.exports=H}),902:(function(T,N,O){var A=O(929);function z(H){return!H||!H.className?"":A(H.className.baseVal)?H.className:H.className.baseVal}T.exports=z}),714:(function(T,N,O){var A=O(928),z=O(902);function H(j,ie){var le;return j.classList?j.classList.contains(ie):(le=z(j).split(/\s+/),A(ie,le)>-1)}T.exports=H}),471:(function(T,N,O){var A=O(928),z=O(990),H=Element.prototype,j=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.msMatchesSelector||function(le){var ve=this.document||this.ownerDocument;return A(this,z(ve.querySelectorAll(le)))>-1};function ie(le,ve){return j.call(le,ve)}T.exports=ie}),462:(function(T,N,O){var A=O(893),z=O(928),H=O(902),j=O(24);function ie(le){var ve=Array.prototype.slice.call(arguments,1),be=le.classList,me,Ee;if(be){A(ve,function(Ce){be.remove(Ce)});return}me=H(le).split(/\s+/),Ee=[],A(me,function(Ce){z(Ce,ve)<0&&Ee.push(Ce)}),j(le,Ee)}T.exports=ie}),969:(function(T){function N(O,A){var z=Object.prototype.hasOwnProperty,H,j,ie,le;for(ie=1,le=arguments.length;ie<le;ie+=1){H=arguments[ie];for(j in H)z.call(H,j)&&(O[j]=H[j])}return O}T.exports=N}),254:(function(T,N,O){var A=O(956);function z(H,j){var ie=document.createElement("img"),le="";return A(j,function(ve,be){le+="&"+be+"="+ve}),le=le.substring(1),ie.src=H+"?"+le,ie.style.display="none",document.body.appendChild(ie),document.body.removeChild(ie),ie}T.exports=z}),391:(function(T,N,O){var A=O(929),z=O(254),H=10080*60*1e3;function j(le){var ve=new Date().getTime();return ve-le>H}function ie(le,ve){var be="https://www.google-analytics.com/collect",me=location.hostname,Ee="event",Ce="use",_e="TOAST UI "+le+" for "+me+": Statistics",We=window.localStorage.getItem(_e);!A(window.tui)&&window.tui.usageStatistics===!1||We&&!j(We)||(window.localStorage.setItem(_e,new Date().getTime()),setTimeout(function(){(document.readyState==="interactive"||document.readyState==="complete")&&z(be,{v:1,t:Ee,tid:ve,cid:me,dp:me,dh:le,el:le,ec:Ce})},1e3))}T.exports=ie}),322:(function(T){function N(O){return O instanceof Array}T.exports=N}),65:(function(T,N,O){var A=O(929),z=O(934);function H(j){return!A(j)&&!z(j)}T.exports=H}),404:(function(T,N,O){var A=O(790);function z(H){return!A(H)}T.exports=z}),294:(function(T){function N(O){return O instanceof Function}T.exports=N}),934:(function(T){function N(O){return O===null}T.exports=N}),758:(function(T){function N(O){return typeof O=="string"||O instanceof String}T.exports=N}),790:(function(T,N,O){var A=O(65);function z(H){return A(H)&&H!==!1}T.exports=z}),929:(function(T){function N(O){return O===void 0}T.exports=N}),479:(function(T){T.exports=t}),481:(function(T){T.exports=n}),43:(function(T){T.exports=i}),814:(function(T){T.exports=a}),311:(function(T){T.exports=s})},f={};function p(T){var N=f[T];if(N!==void 0)return N.exports;var O=f[T]={exports:{}};return u[T].call(O.exports,O,O.exports,p),O.exports}(function(){p.n=function(T){var N=T&&T.__esModule?function(){return T.default}:function(){return T};return p.d(N,{a:N}),N}})(),(function(){p.d=function(T,N){for(var O in N)p.o(N,O)&&!p.o(T,O)&&Object.defineProperty(T,O,{enumerable:!0,get:N[O]})}})(),(function(){p.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})()})(),(function(){p.o=function(T,N){return Object.prototype.hasOwnProperty.call(T,N)}})();var y={};return(function(){p.d(y,{default:function(){return hZ}});var T=function(){return T=Object.assign||function(v){for(var C,D=1,_=arguments.length;D<_;D++){C=arguments[D];for(var Q in C)Object.prototype.hasOwnProperty.call(C,Q)&&(v[Q]=C[Q])}return v},T.apply(this,arguments)};function N(m,v,C){if(arguments.length===2)for(var D=0,_=v.length,Q;D<_;D++)(Q||!(D in v))&&(Q||(Q=Array.prototype.slice.call(v,0,D)),Q[D]=v[D]);return m.concat(Q||Array.prototype.slice.call(v))}/*! *****************************************************************************
		Copyright (c) Microsoft Corporation.

		Permission to use, copy, modify, and/or distribute this software for any
		purpose with or without fee is hereby granted.

		THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		PERFORMANCE OF THIS SOFTWARE.
		***************************************************************************** */var O=function(m,v){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,D){C.__proto__=D}||function(C,D){for(var _ in D)Object.prototype.hasOwnProperty.call(D,_)&&(C[_]=D[_])},O(m,v)};function A(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");O(m,v);function C(){this.constructor=m}m.prototype=v===null?Object.create(v):(C.prototype=v.prototype,new C)}var z=function(){return z=Object.assign||function(v){for(var C,D=1,_=arguments.length;D<_;D++){C=arguments[D];for(var Q in C)Object.prototype.hasOwnProperty.call(C,Q)&&(v[Q]=C[Q])}return v},z.apply(this,arguments)};function H(m,v,C){if(arguments.length===2)for(var D=0,_=v.length,Q;D<_;D++)(Q||!(D in v))&&(Q||(Q=Array.prototype.slice.call(v,0,D)),Q[D]=v[D]);return m.concat(Q||Array.prototype.slice.call(v))}var j=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof p.g<"u"?p.g:typeof self<"u"?self:{},ie={};function le(m){var v,C,D=ie[m];if(D)return D;for(D=ie[m]=[],v=0;v<128;v++)C=String.fromCharCode(v),/^[0-9a-z]$/i.test(C)?D.push(C):D.push("%"+("0"+v.toString(16).toUpperCase()).slice(-2));for(v=0;v<m.length;v++)D[m.charCodeAt(v)]=m[v];return D}function ve(m,v,C){var D,_,Q,ee,ce,ze="";for(typeof v!="string"&&(C=v,v=ve.defaultChars),typeof C>"u"&&(C=!0),ce=le(v),D=0,_=m.length;D<_;D++){if(Q=m.charCodeAt(D),C&&Q===37&&D+2<_&&/^[0-9a-f]{2}$/i.test(m.slice(D+1,D+3))){ze+=m.slice(D,D+3),D+=2;continue}if(Q<128){ze+=ce[Q];continue}if(Q>=55296&&Q<=57343){if(Q>=55296&&Q<=56319&&D+1<_&&(ee=m.charCodeAt(D+1),ee>=56320&&ee<=57343)){ze+=encodeURIComponent(m[D]+m[D+1]),D++;continue}ze+="%EF%BF%BD";continue}ze+=encodeURIComponent(m[D])}return ze}ve.defaultChars=";/?:@&=+$,-_.!~*'()#",ve.componentChars="-_.!~*'()";var be=ve,me={},Ee={},Ce="",_e="",We="",Mt="",tt="",Rt="",Dt="",zt="",St="",Pt="",Ye="",mt="",Ve="",ge="",Le="",ct="",pt="",Ht="",xe="",we="",oe="",he="",se="",Pe="",He="",nt="",qt="&",Wt="&",Vt="",br="",Kt="",Pr="",yr="",Sr="",nr="",Vr="",yi="",Fn="",Br="",lt="",ut="",Bt="",$t="",Yt="",Yr="",pr="",Cr="",Sn="",_n="",Dr="",ln="",Zn="",qn="",Zr="",Kr="",mn="",Fr="",zn="",vr="",$r="",X="",Y="'",q="",F="",$="",G="",te="",Ne="",qe="",de="",re="*",Ae="",Be="",it="",Nt="",V="",R="",b="",E="",B="",K="",Z="",ae="",ye="",Oe="",Qe="",je="",at="",Ot="",Zt="",cr="",Ar="",Yi="",Jr="",Ps="",Ho="",Na="",Hn="",Vn="",Zi="",gn="",Vo="",ro="",pa="",Oa="",Da="",xn="",Aa="",va="",Jt="",$o="",Uo="",Ii="",ki="",wi="",La="",ea="",bi="",Qr="",ei="",Pi="",un="",ma="",Ci="",no="",Wo="",ti="",ri="",io="",Ra="",jo="",xl="",Ct="",Se="",et="=",kt="",ar="",Ur="",Lr="",xr="",En="",ta="",ni="",ao="",Ia="",Iu="",Bs="",Fs="",Pu="",mr="",_r="",El="",Go="",wf="",Bi="",Ml="",Pa="",oo="",Bu="",bf="",_s="",Cf="",Ko="",so="",Tf="",Sf="",xf="",Ef="",Fu="",Mf="",Nl="",_u="",Nf="",qs="",Of="",qu="",zu="",Hu="",Df="",Jo="",Af="",Qo="",Lf="",Rf="",Xo="",zs="",lo="",If="",Ol="",Dl="",uo="",Al="",co="",fo="",Ba="",ho="",Fa="",ii="\\",en="",po="",Yo="",Vu="",Hs="",$u="",Ll="",vo="",ra="",Vs="",Rl="",$s="",Pf="",Bf="",Ff="",_f="",Uu="",ai="",Zo="",Il="",Wu="",ju="",Gu="",Pl="",qf="",zf="",_a="",Bl="",es="",ts="",Ku="",rs="",mo="",Fl="",_l="",ns="",ql="",zl="",Ju="",Hl="",Qu="",Vl="",d="",w="",h="",k="",S="",M="",I="",P="",W="",J="",ue="",Te="",pe="",Ie="",$e="",ot="",ft="",Ke="",er="",jt="",At="",Qt="",or="",gr="",$n="",qr="",cn="",oi="",go="",Fi="",yo=":",ga="",qa="",Ti="",Mr="",Si=",",Nr="@",Mn="",_i="",Hf="",Um="",Wm="",is="",$l="",Us="",Xu="",Vf="",Ws="",ko="",Er="",Tr="",wo="",Nn="",si="",as="",js="",li="",Yu="",Nh="",Oh="",Zu="",Dh="",za="",ec="",$f="",Ah="",jm="",bo="",Gs="",Ks="",tc="",rc="",qi="",zi="",ss="",Ha="",Va="",ls="",Lh="",Uf="",Wf="",xi="",Ei="",Or="",na="",Rh="",Ih="",jf="",Gf="",Ph="",nc="",Bh="",Js="",Kf="",Gm="",Ul="",ic="",Fh="",_h="",Qs="",qh="",ac="",oc="",Xs="",Jf="",Qf="",Xf="",Yf="",Ys="",Hi="",us="",Zf="",zh="",$a="",Co="",ed="",Hh="",Ua="",To="",sc="",Vh="",lc="",$h="",Wl="",ya="",jl="",Gl="",cs="",td="",Zs="`",Uh="",rd="",Rr="",uc="",nd="",id="",cc="",ad="",fs="",Ir="",tn="",fn="",fc="",Kl="",Jl="",Km="",On="",od="",sd="$",ld="",ka="",Vi="",Ql="",ud="",cd="",Wh="",jh="",Gh="",Kh="",Jh="",Qh="",Xh="",Yh="",Xl="",Zh="",dc="",hc="",ep="",fd="",tp="",rp="",np="",ip="",dd="",ap="",op="",sp="",Jm="",lp="",Qm="",Xm="",up="",cp="",fp="",pc="",Ym="",Zm="",eg="",ia="",hd="",vc="",dp="",hp="",pp="",pd="",el="",vd="",md="",tg="",vp="",mp="",gp="",yp="",kp="",rg="",ui="",Un="",wp="",bp="",Cp="",Tp="",Sp="",gd="",xp="",yd="",Ep="",Mp="",kd="",wd="",Np="",bd="",mc="",ng="",Op="",Cd="",Dp="",gc="",Wa="",ig="",Ap="",Td="",Lp="",Rp="",Yl="",Dn="",ag="",og="",yc="",An="",sg="",yt="",tl="",Sd="",Ip="",lg="",Zl="",kc="",xd="",Pp="",Bp="",Fp="",Ed="",Md="",yn="",aa="",So="",_p="",qp="",oa="",zp="",wa="",ug="",Hp="",Vp="",$p="",Up="",cg="",wc="",Nd="",$i="",sr="",dn="",Xr="=",kn="",Mi="",rl="",rn="",eu="",ds="",bc="",Od="",tu="",ci="",Dd="",nl="",ja="",Cc="",Ad="",xo="",Tc="",Eo="",Sc="",ru="",Ld="!",xc="",Ec="",Wn="",Mo="",sa="",fi="",Wp="",Rd="",Id="",fg="",No="",jp="",Pd="",hs="",Bd="",ps="",Gp="",Kp="fj",Fd="",Mc="",dg="",hg="",Jp="",Qp="",vs="",pg="",il="",Xp="",zr="",vg="",Yp="",mg="",gg="",Zp="",ev="",yg="",Ui="",_d="",kg="",Oo="",Nc="",ms="",Oc="",qd="",zd="",wg="",Hd="",bg="",tv="",rv="",Dc="",Ac="",nv="",Vd="",Cg="",iv="",$d="",Lc="",Ud="",Rc="",av="",Tg="",Ic="",Sg="",nu="",xg="",Pc="",o="",l="",c="",g="",x="",L="",U="",ne="",fe="",Re="",Je="",Ze="",Ge="",vt="",bt="",Tt="",Wr="",Me="",ke="",De="",rt="",xt="",Ft="",_t="",Ut="",hn="",lr="",Do="",Eg="",fM="",dM="",hM="",pM="`",vM="",mM="",gM="",yM="",kM="",wM="",bM="",CM="",TM="",SM="",xM="",EM="",MM="",NM="",OM=">",DM=">",AM="",LM="",RM="",IM="",PM="",BM="",FM="",_M="",qM="",zM="",HM="",VM="",$M="",UM="",WM="",jM="",GM="",KM="",JM="",QM="",XM="",YM="",ZM="",eN="^",tN="",rN="",nN="",iN="",aN="",oN="",sN="",lN="",uN="",cN="",fN="",dN="",hN="",pN="",vN="",mN="",gN="",yN="",kN="",wN="",bN="",CN="",TN="",SN="",xN="",EN="",MN="",NN="",ON="",DN="",AN="",LN="",RN="",IN="",PN="",BN="",FN="",_N="",qN="",zN="",HN="",VN="",$N="",UN="",WN="",jN="",GN="",KN="",JN="",QN="",XN="",YN="",ZN="",eO="",tO="",rO="",nO="",iO="",aO="",oO="",sO="",lO="",uO="",cO="",fO="",dO="",hO="",pO="",vO="",mO="",gO="",yO="",kO="",wO="",bO="",CO="",TO="",SO="",xO="",EO="",MO="",NO="",OO="",DO="",AO="",LO="",RO="",IO="",PO="",BO="",FO="",_O="",qO="",zO="",HO="",VO="",$O="",UO="",WO="",jO="",GO="",KO="",JO="",QO="",XO="",YO="",ZO="",eD="",tD="",rD="",nD="",iD="",aD="",oD="",sD="",lD="",uD="",cD="",fD="",dD="",hD="",pD="",vD="",mD="",gD="",yD="",kD="",wD="",bD="",CD="",TD="",SD="",xD="",ED="",MD="",ND="",OD="",DD="",AD="",LD="",RD="",ID="",PD="",BD="",FD="",_D="",qD="",zD="",HD="",VD="",$D="",UD="",WD="",jD="",GD="",KD="",JD="",QD="",XD="",YD="",ZD="",eA="",tA="",rA="",nA="",iA="",aA="",oA="",sA="",lA="{",uA="[",cA="",fA="",dA="",hA="",pA="",vA="",mA="",gA="",yA="{",kA="",wA="",bA="",CA="",TA="",SA="",xA="",EA="",MA="",NA="",OA="",DA="",AA="",LA="",RA="",IA="",PA="",BA="",FA="",_A="",qA="",zA="",HA="",VA="",$A="",UA="",WA="",jA="",GA="",KA="",JA="",QA="",XA="",YA="",ZA="",eL="",tL="",rL="",nL="",iL="",aL="",oL="",sL="",lL="",uL="",cL="",fL="",dL="",hL="",pL="",vL="",mL="",gL="",yL="",kL="",wL="",bL="",CL="",TL="",SL="",xL="",EL="",ML="",NL="",OL="",DL="",AL="",LL="",RL="",IL="",PL="",BL="",FL="",_L="",qL="",zL="",HL="",VL="",$L="",UL="",WL="",jL="",GL="",KL="",JL="",QL="",XL="",YL="",ZL="",eR="",tR="",rR="",nR="",iR="",aR="",oR="",sR="",lR="",uR="",cR="",fR="",dR="",hR="",pR="",vR="",mR="",gR="",yR="",kR="",wR="",bR="",CR="",TR="",SR="",xR="",ER="",MR="",NR="",OR="",DR="",AR="",LR="",RR="_",IR="",PR="",BR="",FR="",_R="",qR="(",zR="",HR="",VR="",$R="",UR="",WR="",jR="",GR="",KR="",JR="",QR="",XR="",YR="",ZR="",eI="",tI="[",rI="",nI="",iI="",aI="",oI="",sI="",lI="<",uI="<",cI="",fI="",dI="",hI="",pI="",vI="",mI="",gI="",yI="",kI="",wI="",bI="",CI="",TI="",SI="",xI="",EI="",MI="",NI="",OI="",DI="",AI="",LI="",RI="",II="",PI="",BI="",FI="",_I="",qI="",zI="",HI="",VI="",$I="",UI="",WI="",jI="*",GI="",KI="",JI="",QI="",XI="",YI="",ZI="",eP="",tP="",rP="",nP="",iP="",aP="",oP="",sP="",lP="",uP="",cP="",fP="",dP="",hP="",pP="",vP="",mP="",gP="",yP="",kP="",wP="",bP="",CP="",TP="",SP="",xP="",EP="",MP="",NP="",OP="",DP="",AP="",LP="",RP="",IP="",PP="",BP="",FP="",_P="",qP="",zP="",HP="",VP="",$P="",UP="",WP="",jP="",GP="",KP="",JP="",QP="",XP="",YP="",ZP="",eB="",tB="",rB=`
`,nB="",iB="",aB="",oB="",sB="",lB="",uB="",cB="",fB="",dB="",hB="",pB="",vB="",mB="",gB="",yB="",kB="",wB="",bB="",CB="",TB="",SB="",xB="",EB="",MB="",NB="",OB="",DB="",AB="",LB="",RB="",IB="",PB="",BB="",FB="",_B="",qB="",zB="",HB="",VB="",$B="",UB="",WB="",jB="",GB="",KB="",JB="",QB="",XB="",YB="",ZB="",eF="",tF="",rF="",nF="",iF="",aF="",oF="",sF="",lF="",uF="",cF="",fF="",dF="",hF="",pF="",vF="",mF="",gF="",yF="",kF="",wF="",bF="",CF="",TF="",SF="",xF="",EF="",MF="",NF="",OF="",DF="",AF="",LF="",RF="",IF="",PF="",BF="",FF="",_F="",qF="",zF="",HF="",VF="",$F="",UF="",WF="",jF="",GF="",KF="",JF="",QF="",XF="",YF="",ZF="",e_="",t_="",r_="",n_="",i_="",a_="",o_="",s_="",l_="",u_="",c_="",f_="",d_="",h_="",p_="",v_="",m_="",g_="",y_="",k_="",w_="",b_="",C_="",T_="",S_="",x_="",E_="",M_="",N_="",O_="",D_="",A_="",L_="",R_="",I_="",P_="",B_="",F_="",__="",q_="",z_="",H_="",V_="",$_="",U_="",W_="",j_="",G_="",K_="",J_="",Q_="",X_="",Y_="",Z_="",e2="",t2="",r2="",n2="",i2="",a2="",o2="",s2="",l2="",u2="",c2="",f2="#",d2="",h2="",p2="",v2="",m2="",g2="",y2="",k2="",w2=">",b2="",C2="",T2="",S2="",x2="<",E2="",M2="",N2="",O2="",D2="",A2="",L2="",R2="",I2="",P2="",B2="",F2="",_2="",q2="",z2="",H2="",V2="",$2="",U2="",W2="",j2="",G2="",K2="",J2="",Q2="",X2="",Y2="",Z2="",eq="",tq="",rq="",nq="",iq="",aq="",oq="",sq="",lq="",uq="",cq="",fq="",dq="",hq="",pq="",vq="",mq="",gq="",yq="",kq="",wq="",bq="",Cq="",Tq="",Sq="",xq="",Eq="",Mq="",Nq="",Oq="",Dq="",Aq="",Lq="",Rq="",Iq="",Pq="",Bq="",Fq="",_q="",qq="",zq="",Hq="",Vq="",$q="",Uq="",Wq="",jq="",Gq="",Kq="",Jq="",Qq="",Xq="",Yq="",Zq="",ez="",tz="",rz="",nz="",iz="",az="",oz="",sz="",lz="",uz="",cz="",fz="",dz="%",hz=".",pz="",vz="",mz="",gz="",yz="",kz="",wz="",bz="",Cz="",Tz="",Sz="",xz="",Ez="",Mz="",Nz="",Oz="",Dz="",Az="",Lz="",Rz="",Iz="+",Pz="",Bz="",Fz="",_z="",qz="",zz="",Hz="",Vz="",$z="",Uz="",Wz="",jz="",Gz="",Kz="",Jz="",Qz="",Xz="",Yz="",Zz="",eH="",tH="",rH="",nH="",iH="",aH="",oH="",sH="",lH="",uH="",cH="",fH="",dH="",hH="",pH="",vH="",mH="",gH="",yH="",kH="",wH="",bH="",CH="",TH="",SH="",xH="",EH="",MH="",NH="",OH="",DH="",AH="",LH="",RH="",IH="",PH="",BH="",FH="",_H="",qH="",zH="",HH="",VH="",$H="",UH="?",WH="",jH='"',GH='"',KH="",JH="",QH="",XH="",YH="",ZH="",e3="",t3="",r3="",n3="",i3="",a3="",o3="",s3="",l3="",u3="",c3="",f3="",d3="",h3="",p3="",v3="",m3="",g3="",y3="",k3="",w3="",b3="",C3="",T3="",S3="",x3="",E3="",M3="",N3="",O3="}",D3="]",A3="",L3="",R3="",I3="",P3="",B3="",F3="",_3="",q3="}",z3="",H3="",V3="",$3="",U3="",W3="",j3="",G3="",K3="",J3="",Q3="",X3="",Y3="",Z3="",eV="",tV="",rV="",nV="",iV="",aV="",oV="",sV="",lV="",uV="",cV="",fV="",dV="",hV="",pV="",vV="",mV="",gV="",yV="",kV="",wV="",bV="",CV="",TV="",SV="",xV="",EV="",MV="",NV="",OV="",DV="",AV="",LV="",RV="",IV="",PV="",BV="",FV="",_V="",qV="",zV="",HV="",VV="",$V="",UV="",WV="",jV="",GV="",KV="",JV="",QV="",XV="",YV="",ZV="",e$="",t$="",r$="",n$="",i$="",a$="",o$="",s$="",l$="",u$="",c$=")",f$="",d$="",h$="",p$="",v$="",m$="",g$="",y$="",k$="",w$="]",b$="",C$="",T$="",S$="",x$="",E$="",M$="",N$="",O$="",D$="",A$="",L$="",R$="",I$="",P$="",B$="",F$="",_$="",q$="",z$="",H$="",V$="",$$="",U$="",W$="",j$="",G$="",K$="",J$="",Q$="",X$="",Y$="",Z$="",eU="",tU="",rU="",nU="",iU="",aU="",oU="",sU="",lU=";",uU="",cU="",fU="",dU="",hU="",pU="",vU="",mU="",gU="",yU="",kU="",wU="",bU="",CU="",TU="",SU="",xU="",EU="",MU="",NU="",OU="",DU="",AU="",LU="",RU="",IU="",PU="",BU="",FU="",_U="",qU="",zU="",HU="",VU="",$U="",UU="",WU="",jU="",GU="",KU="",JU="",QU="",XU="",YU="",ZU="",e4="",t4="",r4="",n4="/",i4="",a4="",o4="",s4="",l4="",u4="",c4="",f4="",d4="",h4="",p4="",v4="",m4="",g4="",y4="",k4="",w4="",b4="",C4="",T4="",S4="",x4="",E4="",M4="",N4="",O4="",D4="",A4="",L4="",R4="",I4="",P4="",B4="",F4="",_4="",q4="",z4="",H4="",V4="",$4="",U4="",W4="",j4="",G4="",K4="",J4="",Q4="",X4="",Y4="",Z4="",eW="",tW="",rW="",nW="",iW="",aW="",oW="",sW="",lW="",uW="",cW="",fW="",dW="",hW="",pW="",vW="",mW="",gW="",yW="",kW="",wW="",bW="",CW="",TW="",SW="",xW="",EW="",MW="",NW="",OW="",DW="",AW="",LW="",RW="",IW="",PW="",BW="",FW="",_W="",qW="",zW="",HW="",VW="",$W="",UW="",WW="",jW="",GW="",KW="",JW="",QW="",XW="",YW="",ZW="",ej="",tj="",rj="",nj="",ij="",aj="",oj="",sj="",lj="	",uj="",cj="",fj="",dj="",hj="",pj="",vj="",mj="",gj="",yj="",kj="",wj="",bj="",Cj="",Tj="",Sj="",xj="",Ej="",Mj="",Nj="",Oj="",Dj="",Aj="",Lj="",Rj="",Ij="",Pj="",Bj="",Fj="",_j="",qj="",zj="",Hj="",Vj="",$j="",Uj="",Wj="",jj="",Gj="",Kj="",Jj="",Qj="",Xj="",Yj="",Zj="",e8="",t8="",r8="",n8="",i8="",a8="",o8="",s8="",l8="",u8="",c8="",f8="",d8="",h8="",p8="",v8="",m8="",g8="",y8="",k8="",w8="",b8="",C8="",T8="",S8="",x8="",E8="",M8="",N8="",O8="",D8="",A8="",L8="",R8="",I8="",P8="",B8="",F8="",_8="",q8="",z8="",H8="",V8="",$8="",U8="",W8="",j8="",G8="",K8="",J8="",Q8="",X8="",Y8="",Z8="",e5="",t5="",r5="",n5="",i5="",a5="",o5="",s5="",l5="",u5="",c5="",f5="",d5="_",h5="",p5="",v5="",m5="",g5="",y5="",k5="",w5="",b5="",C5="",T5="",S5="",x5="",E5="",M5="",N5="",O5="",D5="",A5="",L5="",R5="",I5="",P5="",B5="",F5="",_5="",q5="",z5="",H5="",V5="",$5="",U5="",W5="",j5="",G5="",K5="",J5="",Q5="",X5="",Y5="",Z5="",e6="",t6="",r6="",n6="",i6="",a6="",o6="",s6="",l6="",u6="",c6="",f6="",d6="",h6="",p6="",v6="",m6="",g6="",y6="",k6="",w6="",b6="",C6="",T6="",S6="",x6="",E6="",M6="",N6="",O6="",D6="",A6="",L6="",R6="",I6="",P6="",B6="",F6="",_6="",q6="",z6="|",H6="",V6="|",$6="",U6="",W6="|",j6="",G6="",K6="",J6="",Q6="",X6="",Y6="",Z6="",e9="",t9="",r9="",n9="",i9="",a9="",o9="",s9="",l9="",u9="",c9="",f9="",d9="",h9="",p9="",v9="",m9="",g9="",y9="",k9="",w9="",b9="",C9="",T9="",S9="",x9="",E9="",M9="",N9="",O9="",D9="",A9="",L9="",R9="",I9="",P9="",B9="",F9="",_9="",q9="",z9="",H9="",V9="",$9="",U9="",W9="",j9="",G9="",K9="",J9="",Q9="",X9="",Y9="",Z9="",eG="",tG="",rG="",nG="",iG="",aG="",oG="",sG="",lG="",uG="",cG="",fG="",dG="",hG="",pG="",vG="",mG="",gG="",yG="",kG="",wG="",bG="",CG="",TG="",SG="",xG="",EG="",MG="",NG="",OG="",DG="",AG="",LG="",RG="",IG="",PG="",BG="",FG="",_G="",qG="",zG="",HG="",VG="",$G="",UG="",WG="",qk={Aacute:Ce,aacute:_e,Abreve:We,abreve:Mt,ac:tt,acd:Rt,acE:Dt,Acirc:zt,acirc:St,acute:Pt,Acy:Ye,acy:mt,AElig:Ve,aelig:ge,af:Le,Afr:ct,afr:pt,Agrave:Ht,agrave:xe,alefsym:we,aleph:oe,Alpha:he,alpha:se,Amacr:Pe,amacr:He,amalg:nt,amp:qt,AMP:Wt,andand:Vt,And:br,and:Kt,andd:Pr,andslope:yr,andv:Sr,ang:nr,ange:Vr,angle:yi,angmsdaa:Fn,angmsdab:Br,angmsdac:lt,angmsdad:ut,angmsdae:Bt,angmsdaf:$t,angmsdag:Yt,angmsdah:Yr,angmsd:pr,angrt:Cr,angrtvb:Sn,angrtvbd:_n,angsph:Dr,angst:ln,angzarr:Zn,Aogon:qn,aogon:Zr,Aopf:Kr,aopf:mn,apacir:Fr,ap:zn,apE:vr,ape:$r,apid:X,apos:Y,ApplyFunction:q,approx:F,approxeq:$,Aring:G,aring:te,Ascr:Ne,ascr:qe,Assign:de,ast:re,asymp:Ae,asympeq:Be,Atilde:it,atilde:Nt,Auml:V,auml:R,awconint:b,awint:E,backcong:B,backepsilon:K,backprime:Z,backsim:ae,backsimeq:ye,Backslash:Oe,Barv:Qe,barvee:je,barwed:at,Barwed:Ot,barwedge:Zt,bbrk:cr,bbrktbrk:Ar,bcong:Yi,Bcy:Jr,bcy:Ps,bdquo:Ho,becaus:Na,because:Hn,Because:Vn,bemptyv:Zi,bepsi:gn,bernou:Vo,Bernoullis:ro,Beta:pa,beta:Oa,beth:Da,between:xn,Bfr:Aa,bfr:va,bigcap:Jt,bigcirc:$o,bigcup:Uo,bigodot:Ii,bigoplus:ki,bigotimes:wi,bigsqcup:La,bigstar:ea,bigtriangledown:bi,bigtriangleup:Qr,biguplus:ei,bigvee:Pi,bigwedge:un,bkarow:ma,blacklozenge:Ci,blacksquare:no,blacktriangle:Wo,blacktriangledown:ti,blacktriangleleft:ri,blacktriangleright:io,blank:Ra,blk12:jo,blk14:xl,blk34:Ct,block:Se,bne:et,bnequiv:kt,bNot:ar,bnot:Ur,Bopf:Lr,bopf:xr,bot:En,bottom:ta,bowtie:ni,boxbox:ao,boxdl:Ia,boxdL:Iu,boxDl:Bs,boxDL:Fs,boxdr:Pu,boxdR:mr,boxDr:_r,boxDR:El,boxh:Go,boxH:wf,boxhd:Bi,boxHd:Ml,boxhD:Pa,boxHD:oo,boxhu:Bu,boxHu:bf,boxhU:_s,boxHU:Cf,boxminus:Ko,boxplus:so,boxtimes:Tf,boxul:Sf,boxuL:xf,boxUl:Ef,boxUL:Fu,boxur:Mf,boxuR:Nl,boxUr:_u,boxUR:Nf,boxv:qs,boxV:Of,boxvh:qu,boxvH:zu,boxVh:Hu,boxVH:Df,boxvl:Jo,boxvL:Af,boxVl:Qo,boxVL:Lf,boxvr:Rf,boxvR:Xo,boxVr:zs,boxVR:lo,bprime:If,breve:Ol,Breve:Dl,brvbar:uo,bscr:Al,Bscr:co,bsemi:fo,bsim:Ba,bsime:ho,bsolb:Fa,bsol:ii,bsolhsub:en,bull:po,bullet:Yo,bump:Vu,bumpE:Hs,bumpe:$u,Bumpeq:Ll,bumpeq:vo,Cacute:ra,cacute:Vs,capand:Rl,capbrcup:$s,capcap:Pf,cap:Bf,Cap:Ff,capcup:_f,capdot:Uu,CapitalDifferentialD:ai,caps:Zo,caret:Il,caron:Wu,Cayleys:ju,ccaps:Gu,Ccaron:Pl,ccaron:qf,Ccedil:zf,ccedil:_a,Ccirc:Bl,ccirc:es,Cconint:ts,ccups:Ku,ccupssm:rs,Cdot:mo,cdot:Fl,cedil:_l,Cedilla:ns,cemptyv:ql,cent:zl,centerdot:Ju,CenterDot:Hl,cfr:Qu,Cfr:Vl,CHcy:d,chcy:w,check:h,checkmark:k,Chi:S,chi:M,circ:I,circeq:P,circlearrowleft:W,circlearrowright:J,circledast:ue,circledcirc:Te,circleddash:pe,CircleDot:Ie,circledR:$e,circledS:ot,CircleMinus:ft,CirclePlus:Ke,CircleTimes:er,cir:jt,cirE:At,cire:Qt,cirfnint:or,cirmid:gr,cirscir:$n,ClockwiseContourIntegral:qr,CloseCurlyDoubleQuote:cn,CloseCurlyQuote:oi,clubs:go,clubsuit:Fi,colon:yo,Colon:ga,Colone:qa,colone:Ti,coloneq:Mr,comma:Si,commat:Nr,comp:Mn,compfn:_i,complement:Hf,complexes:Um,cong:Wm,congdot:is,Congruent:$l,conint:Us,Conint:Xu,ContourIntegral:Vf,copf:Ws,Copf:ko,coprod:Er,Coproduct:Tr,copy:wo,COPY:Nn,copysr:si,CounterClockwiseContourIntegral:as,crarr:js,cross:li,Cross:Yu,Cscr:Nh,cscr:Oh,csub:Zu,csube:Dh,csup:za,csupe:ec,ctdot:$f,cudarrl:Ah,cudarrr:jm,cuepr:bo,cuesc:Gs,cularr:Ks,cularrp:tc,cupbrcap:rc,cupcap:qi,CupCap:zi,cup:ss,Cup:Ha,cupcup:Va,cupdot:ls,cupor:Lh,cups:Uf,curarr:Wf,curarrm:xi,curlyeqprec:Ei,curlyeqsucc:Or,curlyvee:na,curlywedge:Rh,curren:Ih,curvearrowleft:jf,curvearrowright:Gf,cuvee:Ph,cuwed:nc,cwconint:Bh,cwint:Js,cylcty:Kf,dagger:Gm,Dagger:Ul,daleth:ic,darr:Fh,Darr:_h,dArr:Qs,dash:qh,Dashv:ac,dashv:oc,dbkarow:Xs,dblac:Jf,Dcaron:Qf,dcaron:Xf,Dcy:Yf,dcy:Ys,ddagger:Hi,ddarr:us,DD:Zf,dd:zh,DDotrahd:$a,ddotseq:Co,deg:ed,Del:Hh,Delta:Ua,delta:To,demptyv:sc,dfisht:Vh,Dfr:lc,dfr:$h,dHar:Wl,dharl:ya,dharr:jl,DiacriticalAcute:Gl,DiacriticalDot:cs,DiacriticalDoubleAcute:td,DiacriticalGrave:Zs,DiacriticalTilde:Uh,diam:rd,diamond:Rr,Diamond:uc,diamondsuit:nd,diams:id,die:cc,DifferentialD:ad,digamma:fs,disin:Ir,div:tn,divide:fn,divideontimes:fc,divonx:Kl,DJcy:Jl,djcy:Km,dlcorn:On,dlcrop:od,dollar:sd,Dopf:ld,dopf:ka,Dot:Vi,dot:Ql,DotDot:ud,doteq:cd,doteqdot:Wh,DotEqual:jh,dotminus:Gh,dotplus:Kh,dotsquare:Jh,doublebarwedge:Qh,DoubleContourIntegral:Xh,DoubleDot:Yh,DoubleDownArrow:Xl,DoubleLeftArrow:Zh,DoubleLeftRightArrow:dc,DoubleLeftTee:hc,DoubleLongLeftArrow:ep,DoubleLongLeftRightArrow:fd,DoubleLongRightArrow:tp,DoubleRightArrow:rp,DoubleRightTee:np,DoubleUpArrow:ip,DoubleUpDownArrow:dd,DoubleVerticalBar:ap,DownArrowBar:op,downarrow:sp,DownArrow:Jm,Downarrow:lp,DownArrowUpArrow:Qm,DownBreve:Xm,downdownarrows:up,downharpoonleft:cp,downharpoonright:fp,DownLeftRightVector:pc,DownLeftTeeVector:Ym,DownLeftVectorBar:Zm,DownLeftVector:eg,DownRightTeeVector:ia,DownRightVectorBar:hd,DownRightVector:vc,DownTeeArrow:dp,DownTee:hp,drbkarow:pp,drcorn:pd,drcrop:el,Dscr:vd,dscr:md,DScy:tg,dscy:vp,dsol:mp,Dstrok:gp,dstrok:yp,dtdot:kp,dtri:rg,dtrif:ui,duarr:Un,duhar:wp,dwangle:bp,DZcy:Cp,dzcy:Tp,dzigrarr:Sp,Eacute:gd,eacute:xp,easter:yd,Ecaron:Ep,ecaron:Mp,Ecirc:kd,ecirc:wd,ecir:Np,ecolon:bd,Ecy:mc,ecy:ng,eDDot:Op,Edot:Cd,edot:Dp,eDot:gc,ee:Wa,efDot:ig,Efr:Ap,efr:Td,eg:Lp,Egrave:Rp,egrave:Yl,egs:Dn,egsdot:ag,el:og,Element:yc,elinters:An,ell:sg,els:yt,elsdot:tl,Emacr:Sd,emacr:Ip,empty:lg,emptyset:Zl,EmptySmallSquare:kc,emptyv:xd,EmptyVerySmallSquare:Pp,emsp13:Bp,emsp14:Fp,emsp:Ed,ENG:Md,eng:yn,ensp:aa,Eogon:So,eogon:_p,Eopf:qp,eopf:oa,epar:zp,eparsl:wa,eplus:ug,epsi:Hp,Epsilon:Vp,epsilon:$p,epsiv:Up,eqcirc:cg,eqcolon:wc,eqsim:Nd,eqslantgtr:$i,eqslantless:sr,Equal:dn,equals:Xr,EqualTilde:kn,equest:Mi,Equilibrium:rl,equiv:rn,equivDD:eu,eqvparsl:ds,erarr:bc,erDot:Od,escr:tu,Escr:ci,esdot:Dd,Esim:nl,esim:ja,Eta:Cc,eta:Ad,ETH:xo,eth:Tc,Euml:Eo,euml:Sc,euro:ru,excl:Ld,exist:xc,Exists:Ec,expectation:Wn,exponentiale:Mo,ExponentialE:sa,fallingdotseq:fi,Fcy:Wp,fcy:Rd,female:Id,ffilig:fg,fflig:No,ffllig:jp,Ffr:Pd,ffr:hs,filig:Bd,FilledSmallSquare:ps,FilledVerySmallSquare:Gp,fjlig:Kp,flat:Fd,fllig:Mc,fltns:dg,fnof:hg,Fopf:Jp,fopf:Qp,forall:vs,ForAll:pg,fork:il,forkv:Xp,Fouriertrf:zr,fpartint:vg,frac12:Yp,frac13:mg,frac14:gg,frac15:Zp,frac16:ev,frac18:yg,frac23:Ui,frac25:_d,frac34:kg,frac35:Oo,frac38:Nc,frac45:ms,frac56:Oc,frac58:qd,frac78:zd,frasl:wg,frown:Hd,fscr:bg,Fscr:tv,gacute:rv,Gamma:Dc,gamma:Ac,Gammad:nv,gammad:Vd,gap:Cg,Gbreve:iv,gbreve:$d,Gcedil:Lc,Gcirc:Ud,gcirc:Rc,Gcy:av,gcy:Tg,Gdot:Ic,gdot:Sg,ge:nu,gE:xg,gEl:Pc,gel:o,geq:l,geqq:c,geqslant:g,gescc:x,ges:L,gesdot:U,gesdoto:ne,gesdotol:fe,gesl:Re,gesles:Je,Gfr:Ze,gfr:Ge,gg:vt,Gg:bt,ggg:Tt,gimel:Wr,GJcy:Me,gjcy:ke,gla:De,gl:rt,glE:xt,glj:Ft,gnap:_t,gnapprox:Ut,gne:hn,gnE:lr,gneq:Do,gneqq:Eg,gnsim:fM,Gopf:dM,gopf:hM,grave:pM,GreaterEqual:vM,GreaterEqualLess:mM,GreaterFullEqual:gM,GreaterGreater:yM,GreaterLess:kM,GreaterSlantEqual:wM,GreaterTilde:bM,Gscr:CM,gscr:TM,gsim:SM,gsime:xM,gsiml:EM,gtcc:MM,gtcir:NM,gt:OM,GT:DM,Gt:AM,gtdot:LM,gtlPar:RM,gtquest:IM,gtrapprox:PM,gtrarr:BM,gtrdot:FM,gtreqless:_M,gtreqqless:qM,gtrless:zM,gtrsim:HM,gvertneqq:VM,gvnE:$M,Hacek:UM,hairsp:WM,half:jM,hamilt:GM,HARDcy:KM,hardcy:JM,harrcir:QM,harr:XM,hArr:YM,harrw:ZM,Hat:eN,hbar:tN,Hcirc:rN,hcirc:nN,hearts:iN,heartsuit:aN,hellip:oN,hercon:sN,hfr:lN,Hfr:uN,HilbertSpace:cN,hksearow:fN,hkswarow:dN,hoarr:hN,homtht:pN,hookleftarrow:vN,hookrightarrow:mN,hopf:gN,Hopf:yN,horbar:kN,HorizontalLine:wN,hscr:bN,Hscr:CN,hslash:TN,Hstrok:SN,hstrok:xN,HumpDownHump:EN,HumpEqual:MN,hybull:NN,hyphen:ON,Iacute:DN,iacute:AN,ic:LN,Icirc:RN,icirc:IN,Icy:PN,icy:BN,Idot:FN,IEcy:_N,iecy:qN,iexcl:zN,iff:HN,ifr:VN,Ifr:$N,Igrave:UN,igrave:WN,ii:jN,iiiint:GN,iiint:KN,iinfin:JN,iiota:QN,IJlig:XN,ijlig:YN,Imacr:ZN,imacr:eO,image:tO,ImaginaryI:rO,imagline:nO,imagpart:iO,imath:aO,Im:oO,imof:sO,imped:lO,Implies:uO,incare:cO,in:"",infin:fO,infintie:dO,inodot:hO,intcal:pO,int:vO,Int:mO,integers:gO,Integral:yO,intercal:kO,Intersection:wO,intlarhk:bO,intprod:CO,InvisibleComma:TO,InvisibleTimes:SO,IOcy:xO,iocy:EO,Iogon:MO,iogon:NO,Iopf:OO,iopf:DO,Iota:AO,iota:LO,iprod:RO,iquest:IO,iscr:PO,Iscr:BO,isin:FO,isindot:_O,isinE:qO,isins:zO,isinsv:HO,isinv:VO,it:$O,Itilde:UO,itilde:WO,Iukcy:jO,iukcy:GO,Iuml:KO,iuml:JO,Jcirc:QO,jcirc:XO,Jcy:YO,jcy:ZO,Jfr:eD,jfr:tD,jmath:rD,Jopf:nD,jopf:iD,Jscr:aD,jscr:oD,Jsercy:sD,jsercy:lD,Jukcy:uD,jukcy:cD,Kappa:fD,kappa:dD,kappav:hD,Kcedil:pD,kcedil:vD,Kcy:mD,kcy:gD,Kfr:yD,kfr:kD,kgreen:wD,KHcy:bD,khcy:CD,KJcy:TD,kjcy:SD,Kopf:xD,kopf:ED,Kscr:MD,kscr:ND,lAarr:OD,Lacute:DD,lacute:AD,laemptyv:LD,lagran:RD,Lambda:ID,lambda:PD,lang:BD,Lang:FD,langd:_D,langle:qD,lap:zD,Laplacetrf:HD,laquo:VD,larrb:$D,larrbfs:UD,larr:WD,Larr:jD,lArr:GD,larrfs:KD,larrhk:JD,larrlp:QD,larrpl:XD,larrsim:YD,larrtl:ZD,latail:eA,lAtail:tA,lat:rA,late:nA,lates:iA,lbarr:aA,lBarr:oA,lbbrk:sA,lbrace:lA,lbrack:uA,lbrke:cA,lbrksld:fA,lbrkslu:dA,Lcaron:hA,lcaron:pA,Lcedil:vA,lcedil:mA,lceil:gA,lcub:yA,Lcy:kA,lcy:wA,ldca:bA,ldquo:CA,ldquor:TA,ldrdhar:SA,ldrushar:xA,ldsh:EA,le:MA,lE:NA,LeftAngleBracket:OA,LeftArrowBar:DA,leftarrow:AA,LeftArrow:LA,Leftarrow:RA,LeftArrowRightArrow:IA,leftarrowtail:PA,LeftCeiling:BA,LeftDoubleBracket:FA,LeftDownTeeVector:_A,LeftDownVectorBar:qA,LeftDownVector:zA,LeftFloor:HA,leftharpoondown:VA,leftharpoonup:$A,leftleftarrows:UA,leftrightarrow:WA,LeftRightArrow:jA,Leftrightarrow:GA,leftrightarrows:KA,leftrightharpoons:JA,leftrightsquigarrow:QA,LeftRightVector:XA,LeftTeeArrow:YA,LeftTee:ZA,LeftTeeVector:eL,leftthreetimes:tL,LeftTriangleBar:rL,LeftTriangle:nL,LeftTriangleEqual:iL,LeftUpDownVector:aL,LeftUpTeeVector:oL,LeftUpVectorBar:sL,LeftUpVector:lL,LeftVectorBar:uL,LeftVector:cL,lEg:fL,leg:dL,leq:hL,leqq:pL,leqslant:vL,lescc:mL,les:gL,lesdot:yL,lesdoto:kL,lesdotor:wL,lesg:bL,lesges:CL,lessapprox:TL,lessdot:SL,lesseqgtr:xL,lesseqqgtr:EL,LessEqualGreater:ML,LessFullEqual:NL,LessGreater:OL,lessgtr:DL,LessLess:AL,lesssim:LL,LessSlantEqual:RL,LessTilde:IL,lfisht:PL,lfloor:BL,Lfr:FL,lfr:_L,lg:qL,lgE:zL,lHar:HL,lhard:VL,lharu:$L,lharul:UL,lhblk:WL,LJcy:jL,ljcy:GL,llarr:KL,ll:JL,Ll:QL,llcorner:XL,Lleftarrow:YL,llhard:ZL,lltri:eR,Lmidot:tR,lmidot:rR,lmoustache:nR,lmoust:iR,lnap:aR,lnapprox:oR,lne:sR,lnE:lR,lneq:uR,lneqq:cR,lnsim:fR,loang:dR,loarr:hR,lobrk:pR,longleftarrow:vR,LongLeftArrow:mR,Longleftarrow:gR,longleftrightarrow:yR,LongLeftRightArrow:kR,Longleftrightarrow:wR,longmapsto:bR,longrightarrow:CR,LongRightArrow:TR,Longrightarrow:SR,looparrowleft:xR,looparrowright:ER,lopar:MR,Lopf:NR,lopf:OR,loplus:DR,lotimes:AR,lowast:LR,lowbar:RR,LowerLeftArrow:IR,LowerRightArrow:PR,loz:BR,lozenge:FR,lozf:_R,lpar:qR,lparlt:zR,lrarr:HR,lrcorner:VR,lrhar:$R,lrhard:UR,lrm:WR,lrtri:jR,lsaquo:GR,lscr:KR,Lscr:JR,lsh:QR,Lsh:XR,lsim:YR,lsime:ZR,lsimg:eI,lsqb:tI,lsquo:rI,lsquor:nI,Lstrok:iI,lstrok:aI,ltcc:oI,ltcir:sI,lt:lI,LT:uI,Lt:cI,ltdot:fI,lthree:dI,ltimes:hI,ltlarr:pI,ltquest:vI,ltri:mI,ltrie:gI,ltrif:yI,ltrPar:kI,lurdshar:wI,luruhar:bI,lvertneqq:CI,lvnE:TI,macr:SI,male:xI,malt:EI,maltese:MI,Map:"",map:NI,mapsto:OI,mapstodown:DI,mapstoleft:AI,mapstoup:LI,marker:RI,mcomma:II,Mcy:PI,mcy:BI,mdash:FI,mDDot:_I,measuredangle:qI,MediumSpace:zI,Mellintrf:HI,Mfr:VI,mfr:$I,mho:UI,micro:WI,midast:jI,midcir:GI,mid:KI,middot:JI,minusb:QI,minus:XI,minusd:YI,minusdu:ZI,MinusPlus:eP,mlcp:tP,mldr:rP,mnplus:nP,models:iP,Mopf:aP,mopf:oP,mp:sP,mscr:lP,Mscr:uP,mstpos:cP,Mu:fP,mu:dP,multimap:hP,mumap:pP,nabla:vP,Nacute:mP,nacute:gP,nang:yP,nap:kP,napE:wP,napid:bP,napos:CP,napprox:TP,natural:SP,naturals:xP,natur:EP,nbsp:MP,nbump:NP,nbumpe:OP,ncap:DP,Ncaron:AP,ncaron:LP,Ncedil:RP,ncedil:IP,ncong:PP,ncongdot:BP,ncup:FP,Ncy:_P,ncy:qP,ndash:zP,nearhk:HP,nearr:VP,neArr:$P,nearrow:UP,ne:WP,nedot:jP,NegativeMediumSpace:GP,NegativeThickSpace:KP,NegativeThinSpace:JP,NegativeVeryThinSpace:QP,nequiv:XP,nesear:YP,nesim:ZP,NestedGreaterGreater:eB,NestedLessLess:tB,NewLine:rB,nexist:nB,nexists:iB,Nfr:aB,nfr:oB,ngE:sB,nge:lB,ngeq:uB,ngeqq:cB,ngeqslant:fB,nges:dB,nGg:hB,ngsim:pB,nGt:vB,ngt:mB,ngtr:gB,nGtv:yB,nharr:kB,nhArr:wB,nhpar:bB,ni:CB,nis:TB,nisd:SB,niv:xB,NJcy:EB,njcy:MB,nlarr:NB,nlArr:OB,nldr:DB,nlE:AB,nle:LB,nleftarrow:RB,nLeftarrow:IB,nleftrightarrow:PB,nLeftrightarrow:BB,nleq:FB,nleqq:_B,nleqslant:qB,nles:zB,nless:HB,nLl:VB,nlsim:$B,nLt:UB,nlt:WB,nltri:jB,nltrie:GB,nLtv:KB,nmid:JB,NoBreak:QB,NonBreakingSpace:XB,nopf:YB,Nopf:ZB,Not:eF,not:tF,NotCongruent:rF,NotCupCap:nF,NotDoubleVerticalBar:iF,NotElement:aF,NotEqual:oF,NotEqualTilde:sF,NotExists:lF,NotGreater:uF,NotGreaterEqual:cF,NotGreaterFullEqual:fF,NotGreaterGreater:dF,NotGreaterLess:hF,NotGreaterSlantEqual:pF,NotGreaterTilde:vF,NotHumpDownHump:mF,NotHumpEqual:gF,notin:yF,notindot:kF,notinE:wF,notinva:bF,notinvb:CF,notinvc:TF,NotLeftTriangleBar:SF,NotLeftTriangle:xF,NotLeftTriangleEqual:EF,NotLess:MF,NotLessEqual:NF,NotLessGreater:OF,NotLessLess:DF,NotLessSlantEqual:AF,NotLessTilde:LF,NotNestedGreaterGreater:RF,NotNestedLessLess:IF,notni:PF,notniva:BF,notnivb:FF,notnivc:_F,NotPrecedes:qF,NotPrecedesEqual:zF,NotPrecedesSlantEqual:HF,NotReverseElement:VF,NotRightTriangleBar:$F,NotRightTriangle:UF,NotRightTriangleEqual:WF,NotSquareSubset:jF,NotSquareSubsetEqual:GF,NotSquareSuperset:KF,NotSquareSupersetEqual:JF,NotSubset:QF,NotSubsetEqual:XF,NotSucceeds:YF,NotSucceedsEqual:ZF,NotSucceedsSlantEqual:e_,NotSucceedsTilde:t_,NotSuperset:r_,NotSupersetEqual:n_,NotTilde:i_,NotTildeEqual:a_,NotTildeFullEqual:o_,NotTildeTilde:s_,NotVerticalBar:l_,nparallel:u_,npar:c_,nparsl:f_,npart:d_,npolint:h_,npr:p_,nprcue:v_,nprec:m_,npreceq:g_,npre:y_,nrarrc:k_,nrarr:w_,nrArr:b_,nrarrw:C_,nrightarrow:T_,nRightarrow:S_,nrtri:x_,nrtrie:E_,nsc:M_,nsccue:N_,nsce:O_,Nscr:D_,nscr:A_,nshortmid:L_,nshortparallel:R_,nsim:I_,nsime:P_,nsimeq:B_,nsmid:F_,nspar:__,nsqsube:q_,nsqsupe:z_,nsub:H_,nsubE:V_,nsube:$_,nsubset:U_,nsubseteq:W_,nsubseteqq:j_,nsucc:G_,nsucceq:K_,nsup:J_,nsupE:Q_,nsupe:X_,nsupset:Y_,nsupseteq:Z_,nsupseteqq:e2,ntgl:t2,Ntilde:r2,ntilde:n2,ntlg:i2,ntriangleleft:a2,ntrianglelefteq:o2,ntriangleright:s2,ntrianglerighteq:l2,Nu:u2,nu:c2,num:f2,numero:d2,numsp:h2,nvap:p2,nvdash:v2,nvDash:m2,nVdash:g2,nVDash:y2,nvge:k2,nvgt:w2,nvHarr:b2,nvinfin:C2,nvlArr:T2,nvle:S2,nvlt:x2,nvltrie:E2,nvrArr:M2,nvrtrie:N2,nvsim:O2,nwarhk:D2,nwarr:A2,nwArr:L2,nwarrow:R2,nwnear:I2,Oacute:P2,oacute:B2,oast:F2,Ocirc:_2,ocirc:q2,ocir:z2,Ocy:H2,ocy:V2,odash:$2,Odblac:U2,odblac:W2,odiv:j2,odot:G2,odsold:K2,OElig:J2,oelig:Q2,ofcir:X2,Ofr:Y2,ofr:Z2,ogon:eq,Ograve:tq,ograve:rq,ogt:nq,ohbar:iq,ohm:aq,oint:oq,olarr:sq,olcir:lq,olcross:uq,oline:cq,olt:fq,Omacr:dq,omacr:hq,Omega:pq,omega:vq,Omicron:mq,omicron:gq,omid:yq,ominus:kq,Oopf:wq,oopf:bq,opar:Cq,OpenCurlyDoubleQuote:Tq,OpenCurlyQuote:Sq,operp:xq,oplus:Eq,orarr:Mq,Or:Nq,or:Oq,ord:Dq,order:Aq,orderof:Lq,ordf:Rq,ordm:Iq,origof:Pq,oror:Bq,orslope:Fq,orv:_q,oS:qq,Oscr:zq,oscr:Hq,Oslash:Vq,oslash:$q,osol:Uq,Otilde:Wq,otilde:jq,otimesas:Gq,Otimes:Kq,otimes:Jq,Ouml:Qq,ouml:Xq,ovbar:Yq,OverBar:Zq,OverBrace:ez,OverBracket:tz,OverParenthesis:rz,para:nz,parallel:iz,par:az,parsim:oz,parsl:sz,part:lz,PartialD:uz,Pcy:cz,pcy:fz,percnt:dz,period:hz,permil:pz,perp:vz,pertenk:mz,Pfr:gz,pfr:yz,Phi:kz,phi:wz,phiv:bz,phmmat:Cz,phone:Tz,Pi:Sz,pi:xz,pitchfork:Ez,piv:Mz,planck:Nz,planckh:Oz,plankv:Dz,plusacir:Az,plusb:Lz,pluscir:Rz,plus:Iz,plusdo:Pz,plusdu:Bz,pluse:Fz,PlusMinus:_z,plusmn:qz,plussim:zz,plustwo:Hz,pm:Vz,Poincareplane:$z,pointint:Uz,popf:Wz,Popf:jz,pound:Gz,prap:Kz,Pr:Jz,pr:Qz,prcue:Xz,precapprox:Yz,prec:Zz,preccurlyeq:eH,Precedes:tH,PrecedesEqual:rH,PrecedesSlantEqual:nH,PrecedesTilde:iH,preceq:aH,precnapprox:oH,precneqq:sH,precnsim:lH,pre:uH,prE:cH,precsim:fH,prime:dH,Prime:hH,primes:pH,prnap:vH,prnE:mH,prnsim:gH,prod:yH,Product:kH,profalar:wH,profline:bH,profsurf:CH,prop:TH,Proportional:SH,Proportion:xH,propto:EH,prsim:MH,prurel:NH,Pscr:OH,pscr:DH,Psi:AH,psi:LH,puncsp:RH,Qfr:IH,qfr:PH,qint:BH,qopf:FH,Qopf:_H,qprime:qH,Qscr:zH,qscr:HH,quaternions:VH,quatint:$H,quest:UH,questeq:WH,quot:jH,QUOT:GH,rAarr:KH,race:JH,Racute:QH,racute:XH,radic:YH,raemptyv:ZH,rang:e3,Rang:t3,rangd:r3,range:n3,rangle:i3,raquo:a3,rarrap:o3,rarrb:s3,rarrbfs:l3,rarrc:u3,rarr:c3,Rarr:f3,rArr:d3,rarrfs:h3,rarrhk:p3,rarrlp:v3,rarrpl:m3,rarrsim:g3,Rarrtl:y3,rarrtl:k3,rarrw:w3,ratail:b3,rAtail:C3,ratio:T3,rationals:S3,rbarr:x3,rBarr:E3,RBarr:M3,rbbrk:N3,rbrace:O3,rbrack:D3,rbrke:A3,rbrksld:L3,rbrkslu:R3,Rcaron:I3,rcaron:P3,Rcedil:B3,rcedil:F3,rceil:_3,rcub:q3,Rcy:z3,rcy:H3,rdca:V3,rdldhar:$3,rdquo:U3,rdquor:W3,rdsh:j3,real:G3,realine:K3,realpart:J3,reals:Q3,Re:X3,rect:Y3,reg:Z3,REG:eV,ReverseElement:tV,ReverseEquilibrium:rV,ReverseUpEquilibrium:nV,rfisht:iV,rfloor:aV,rfr:oV,Rfr:sV,rHar:lV,rhard:uV,rharu:cV,rharul:fV,Rho:dV,rho:hV,rhov:pV,RightAngleBracket:vV,RightArrowBar:mV,rightarrow:gV,RightArrow:yV,Rightarrow:kV,RightArrowLeftArrow:wV,rightarrowtail:bV,RightCeiling:CV,RightDoubleBracket:TV,RightDownTeeVector:SV,RightDownVectorBar:xV,RightDownVector:EV,RightFloor:MV,rightharpoondown:NV,rightharpoonup:OV,rightleftarrows:DV,rightleftharpoons:AV,rightrightarrows:LV,rightsquigarrow:RV,RightTeeArrow:IV,RightTee:PV,RightTeeVector:BV,rightthreetimes:FV,RightTriangleBar:_V,RightTriangle:qV,RightTriangleEqual:zV,RightUpDownVector:HV,RightUpTeeVector:VV,RightUpVectorBar:$V,RightUpVector:UV,RightVectorBar:WV,RightVector:jV,ring:GV,risingdotseq:KV,rlarr:JV,rlhar:QV,rlm:XV,rmoustache:YV,rmoust:ZV,rnmid:e$,roang:t$,roarr:r$,robrk:n$,ropar:i$,ropf:a$,Ropf:o$,roplus:s$,rotimes:l$,RoundImplies:u$,rpar:c$,rpargt:f$,rppolint:d$,rrarr:h$,Rrightarrow:p$,rsaquo:v$,rscr:m$,Rscr:g$,rsh:y$,Rsh:k$,rsqb:w$,rsquo:b$,rsquor:C$,rthree:T$,rtimes:S$,rtri:x$,rtrie:E$,rtrif:M$,rtriltri:N$,RuleDelayed:O$,ruluhar:D$,rx:A$,Sacute:L$,sacute:R$,sbquo:I$,scap:P$,Scaron:B$,scaron:F$,Sc:_$,sc:q$,sccue:z$,sce:H$,scE:V$,Scedil:$$,scedil:U$,Scirc:W$,scirc:j$,scnap:G$,scnE:K$,scnsim:J$,scpolint:Q$,scsim:X$,Scy:Y$,scy:Z$,sdotb:eU,sdot:tU,sdote:rU,searhk:nU,searr:iU,seArr:aU,searrow:oU,sect:sU,semi:lU,seswar:uU,setminus:cU,setmn:fU,sext:dU,Sfr:hU,sfr:pU,sfrown:vU,sharp:mU,SHCHcy:gU,shchcy:yU,SHcy:kU,shcy:wU,ShortDownArrow:bU,ShortLeftArrow:CU,shortmid:TU,shortparallel:SU,ShortRightArrow:xU,ShortUpArrow:EU,shy:MU,Sigma:NU,sigma:OU,sigmaf:DU,sigmav:AU,sim:LU,simdot:RU,sime:IU,simeq:PU,simg:BU,simgE:FU,siml:_U,simlE:qU,simne:zU,simplus:HU,simrarr:VU,slarr:$U,SmallCircle:UU,smallsetminus:WU,smashp:jU,smeparsl:GU,smid:KU,smile:JU,smt:QU,smte:XU,smtes:YU,SOFTcy:ZU,softcy:e4,solbar:t4,solb:r4,sol:n4,Sopf:i4,sopf:a4,spades:o4,spadesuit:s4,spar:l4,sqcap:u4,sqcaps:c4,sqcup:f4,sqcups:d4,Sqrt:h4,sqsub:p4,sqsube:v4,sqsubset:m4,sqsubseteq:g4,sqsup:y4,sqsupe:k4,sqsupset:w4,sqsupseteq:b4,square:C4,Square:T4,SquareIntersection:S4,SquareSubset:x4,SquareSubsetEqual:E4,SquareSuperset:M4,SquareSupersetEqual:N4,SquareUnion:O4,squarf:D4,squ:A4,squf:L4,srarr:R4,Sscr:I4,sscr:P4,ssetmn:B4,ssmile:F4,sstarf:_4,Star:q4,star:z4,starf:H4,straightepsilon:V4,straightphi:$4,strns:U4,sub:W4,Sub:j4,subdot:G4,subE:K4,sube:J4,subedot:Q4,submult:X4,subnE:Y4,subne:Z4,subplus:eW,subrarr:tW,subset:rW,Subset:nW,subseteq:iW,subseteqq:aW,SubsetEqual:oW,subsetneq:sW,subsetneqq:lW,subsim:uW,subsub:cW,subsup:fW,succapprox:dW,succ:hW,succcurlyeq:pW,Succeeds:vW,SucceedsEqual:mW,SucceedsSlantEqual:gW,SucceedsTilde:yW,succeq:kW,succnapprox:wW,succneqq:bW,succnsim:CW,succsim:TW,SuchThat:SW,sum:xW,Sum:EW,sung:MW,sup1:NW,sup2:OW,sup3:DW,sup:AW,Sup:LW,supdot:RW,supdsub:IW,supE:PW,supe:BW,supedot:FW,Superset:_W,SupersetEqual:qW,suphsol:zW,suphsub:HW,suplarr:VW,supmult:$W,supnE:UW,supne:WW,supplus:jW,supset:GW,Supset:KW,supseteq:JW,supseteqq:QW,supsetneq:XW,supsetneqq:YW,supsim:ZW,supsub:ej,supsup:tj,swarhk:rj,swarr:nj,swArr:ij,swarrow:aj,swnwar:oj,szlig:sj,Tab:lj,target:uj,Tau:cj,tau:fj,tbrk:dj,Tcaron:hj,tcaron:pj,Tcedil:vj,tcedil:mj,Tcy:gj,tcy:yj,tdot:kj,telrec:wj,Tfr:bj,tfr:Cj,there4:Tj,therefore:Sj,Therefore:xj,Theta:Ej,theta:Mj,thetasym:Nj,thetav:Oj,thickapprox:Dj,thicksim:Aj,ThickSpace:Lj,ThinSpace:Rj,thinsp:Ij,thkap:Pj,thksim:Bj,THORN:Fj,thorn:_j,tilde:qj,Tilde:zj,TildeEqual:Hj,TildeFullEqual:Vj,TildeTilde:$j,timesbar:Uj,timesb:Wj,times:jj,timesd:Gj,tint:Kj,toea:Jj,topbot:Qj,topcir:Xj,top:Yj,Topf:Zj,topf:e8,topfork:t8,tosa:r8,tprime:n8,trade:i8,TRADE:a8,triangle:o8,triangledown:s8,triangleleft:l8,trianglelefteq:u8,triangleq:c8,triangleright:f8,trianglerighteq:d8,tridot:h8,trie:p8,triminus:v8,TripleDot:m8,triplus:g8,trisb:y8,tritime:k8,trpezium:w8,Tscr:b8,tscr:C8,TScy:T8,tscy:S8,TSHcy:x8,tshcy:E8,Tstrok:M8,tstrok:N8,twixt:O8,twoheadleftarrow:D8,twoheadrightarrow:A8,Uacute:L8,uacute:R8,uarr:I8,Uarr:P8,uArr:B8,Uarrocir:F8,Ubrcy:_8,ubrcy:q8,Ubreve:z8,ubreve:H8,Ucirc:V8,ucirc:$8,Ucy:U8,ucy:W8,udarr:j8,Udblac:G8,udblac:K8,udhar:J8,ufisht:Q8,Ufr:X8,ufr:Y8,Ugrave:Z8,ugrave:e5,uHar:t5,uharl:r5,uharr:n5,uhblk:i5,ulcorn:a5,ulcorner:o5,ulcrop:s5,ultri:l5,Umacr:u5,umacr:c5,uml:f5,UnderBar:d5,UnderBrace:h5,UnderBracket:p5,UnderParenthesis:v5,Union:m5,UnionPlus:g5,Uogon:y5,uogon:k5,Uopf:w5,uopf:b5,UpArrowBar:C5,uparrow:T5,UpArrow:S5,Uparrow:x5,UpArrowDownArrow:E5,updownarrow:M5,UpDownArrow:N5,Updownarrow:O5,UpEquilibrium:D5,upharpoonleft:A5,upharpoonright:L5,uplus:R5,UpperLeftArrow:I5,UpperRightArrow:P5,upsi:B5,Upsi:F5,upsih:_5,Upsilon:q5,upsilon:z5,UpTeeArrow:H5,UpTee:V5,upuparrows:$5,urcorn:U5,urcorner:W5,urcrop:j5,Uring:G5,uring:K5,urtri:J5,Uscr:Q5,uscr:X5,utdot:Y5,Utilde:Z5,utilde:e6,utri:t6,utrif:r6,uuarr:n6,Uuml:i6,uuml:a6,uwangle:o6,vangrt:s6,varepsilon:l6,varkappa:u6,varnothing:c6,varphi:f6,varpi:d6,varpropto:h6,varr:p6,vArr:v6,varrho:m6,varsigma:g6,varsubsetneq:y6,varsubsetneqq:k6,varsupsetneq:w6,varsupsetneqq:b6,vartheta:C6,vartriangleleft:T6,vartriangleright:S6,vBar:x6,Vbar:E6,vBarv:M6,Vcy:N6,vcy:O6,vdash:D6,vDash:A6,Vdash:L6,VDash:R6,Vdashl:I6,veebar:P6,vee:B6,Vee:F6,veeeq:_6,vellip:q6,verbar:z6,Verbar:H6,vert:V6,Vert:$6,VerticalBar:U6,VerticalLine:W6,VerticalSeparator:j6,VerticalTilde:G6,VeryThinSpace:K6,Vfr:J6,vfr:Q6,vltri:X6,vnsub:Y6,vnsup:Z6,Vopf:e9,vopf:t9,vprop:r9,vrtri:n9,Vscr:i9,vscr:a9,vsubnE:o9,vsubne:s9,vsupnE:l9,vsupne:u9,Vvdash:c9,vzigzag:f9,Wcirc:d9,wcirc:h9,wedbar:p9,wedge:v9,Wedge:m9,wedgeq:g9,weierp:y9,Wfr:k9,wfr:w9,Wopf:b9,wopf:C9,wp:T9,wr:S9,wreath:x9,Wscr:E9,wscr:M9,xcap:N9,xcirc:O9,xcup:D9,xdtri:A9,Xfr:L9,xfr:R9,xharr:I9,xhArr:P9,Xi:B9,xi:F9,xlarr:_9,xlArr:q9,xmap:z9,xnis:H9,xodot:V9,Xopf:$9,xopf:U9,xoplus:W9,xotime:j9,xrarr:G9,xrArr:K9,Xscr:J9,xscr:Q9,xsqcup:X9,xuplus:Y9,xutri:Z9,xvee:eG,xwedge:tG,Yacute:rG,yacute:nG,YAcy:iG,yacy:aG,Ycirc:oG,ycirc:sG,Ycy:lG,ycy:uG,yen:cG,Yfr:fG,yfr:dG,YIcy:hG,yicy:pG,Yopf:vG,yopf:mG,Yscr:gG,yscr:yG,YUcy:kG,yucy:wG,yuml:bG,Yuml:CG,Zacute:TG,zacute:SG,Zcaron:xG,zcaron:EG,Zcy:MG,zcy:NG,Zdot:OG,zdot:DG,zeetrf:AG,ZeroWidthSpace:LG,Zeta:RG,zeta:IG,zfr:PG,Zfr:BG,ZHcy:FG,zhcy:_G,zigrarr:qG,zopf:zG,Zopf:HG,Zscr:VG,zscr:$G,zwj:UG,zwnj:WG},jG="",GG="",KG="",JG="",QG="",XG="",YG="",ZG="",e7="",t7="&",r7="&",n7="",i7="",a7="",o7="",s7="",l7="",u7="",c7="",f7="",d7="",h7="",p7="",v7="",m7="",g7="",y7="",k7="",w7="",b7="",C7="",T7="",S7="",x7="",E7="",M7="",N7="",O7="",D7="",A7="",L7=">",R7=">",I7="",P7="",B7="",F7="",_7="",q7="",z7="",H7="",V7="",$7="",U7="",W7="<",j7="<",G7="",K7="",J7="",Q7="",X7="",Y7="",Z7="",eK="",tK="",rK="",nK="",iK="",aK="",oK="",sK="",lK="",uK="",cK="",fK="",dK="",hK="",pK="",vK="",mK="",gK='"',yK='"',kK="",wK="",bK="",CK="",TK="",SK="",xK="",EK="",MK="",NK="",OK="",DK="",AK="",LK="",RK="",IK="",PK="",BK="",FK="",_K="",qK="",zK="",HK="",VK="",$K="",UK={Aacute:jG,aacute:GG,Acirc:KG,acirc:JG,acute:QG,AElig:XG,aelig:YG,Agrave:ZG,agrave:e7,amp:t7,AMP:r7,Aring:n7,aring:i7,Atilde:a7,atilde:o7,Auml:s7,auml:l7,brvbar:u7,Ccedil:c7,ccedil:f7,cedil:d7,cent:h7,copy:p7,COPY:v7,curren:m7,deg:g7,divide:y7,Eacute:k7,eacute:w7,Ecirc:b7,ecirc:C7,Egrave:T7,egrave:S7,ETH:x7,eth:E7,Euml:M7,euml:N7,frac12:O7,frac14:D7,frac34:A7,gt:L7,GT:R7,Iacute:I7,iacute:P7,Icirc:B7,icirc:F7,iexcl:_7,Igrave:q7,igrave:z7,iquest:H7,Iuml:V7,iuml:$7,laquo:U7,lt:W7,LT:j7,macr:G7,micro:K7,middot:J7,nbsp:Q7,not:X7,Ntilde:Y7,ntilde:Z7,Oacute:eK,oacute:tK,Ocirc:rK,ocirc:nK,Ograve:iK,ograve:aK,ordf:oK,ordm:sK,Oslash:lK,oslash:uK,Otilde:cK,otilde:fK,Ouml:dK,ouml:hK,para:pK,plusmn:vK,pound:mK,quot:gK,QUOT:yK,raquo:kK,reg:wK,REG:bK,sect:CK,shy:TK,sup1:SK,sup2:xK,sup3:EK,szlig:MK,THORN:NK,thorn:OK,times:DK,Uacute:AK,uacute:LK,Ucirc:RK,ucirc:IK,Ugrave:PK,ugrave:BK,uml:FK,Uuml:_K,uuml:qK,Yacute:zK,yacute:HK,yen:VK,yuml:$K},WK="&",jK="'",GK=">",KK="<",JK='"',zk={amp:WK,apos:jK,gt:GK,lt:KK,quot:JK},Mg={},QK={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},XK=j&&j.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(Mg,"__esModule",{value:!0});var Hk=XK(QK),YK=String.fromCodePoint||function(m){var v="";return m>65535&&(m-=65536,v+=String.fromCharCode(m>>>10&1023|55296),m=56320|m&1023),v+=String.fromCharCode(m),v};function ZK(m){return m>=55296&&m<=57343||m>1114111?"":(m in Hk.default&&(m=Hk.default[m]),YK(m))}Mg.default=ZK;var ov=j&&j.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.decodeHTML=Ee.decodeHTMLStrict=Ee.decodeXML=void 0;var Ng=ov(qk),eJ=ov(UK),tJ=ov(zk),Vk=ov(Mg),rJ=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;Ee.decodeXML=$k(tJ.default),Ee.decodeHTMLStrict=$k(Ng.default);function $k(m){var v=Wk(m);return function(C){return String(C).replace(rJ,v)}}var Uk=function(m,v){return m<v?1:-1};Ee.decodeHTML=(function(){for(var m=Object.keys(eJ.default).sort(Uk),v=Object.keys(Ng.default).sort(Uk),C=0,D=0;C<v.length;C++)m[D]===v[C]?(v[C]+=";?",D++):v[C]+=";";var _=new RegExp("&(?:"+v.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),Q=Wk(Ng.default);function ee(ce){return ce.substr(-1)!==";"&&(ce+=";"),Q(ce)}return function(ce){return String(ce).replace(_,ee)}})();function Wk(m){return function(C){if(C.charAt(1)==="#"){var D=C.charAt(2);return D==="X"||D==="x"?Vk.default(parseInt(C.substr(3),16)):Vk.default(parseInt(C.substr(2),10))}return m[C.slice(1,-1)]||C}}var la={},jk=j&&j.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(la,"__esModule",{value:!0}),la.escapeUTF8=la.escape=la.encodeNonAsciiHTML=la.encodeHTML=la.encodeXML=void 0;var nJ=jk(zk),Gk=Jk(nJ.default),Kk=Qk(Gk);la.encodeXML=Zk(Gk);var iJ=jk(qk),Og=Jk(iJ.default),aJ=Qk(Og);la.encodeHTML=sJ(Og,aJ),la.encodeNonAsciiHTML=Zk(Og);function Jk(m){return Object.keys(m).sort().reduce(function(v,C){return v[m[C]]="&"+C+";",v},{})}function Qk(m){for(var v=[],C=[],D=0,_=Object.keys(m);D<_.length;D++){var Q=_[D];Q.length===1?v.push("\\"+Q):C.push(Q)}v.sort();for(var ee=0;ee<v.length-1;ee++){for(var ce=ee;ce<v.length-1&&v[ce].charCodeAt(1)+1===v[ce+1].charCodeAt(1);)ce+=1;var ze=1+ce-ee;ze<3||v.splice(ee,ze,v[ee]+"-"+v[ce])}return C.unshift("["+v.join("")+"]"),new RegExp(C.join("|"),"g")}var Xk=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,oJ=String.prototype.codePointAt!=null?function(m){return m.codePointAt(0)}:function(m){return(m.charCodeAt(0)-55296)*1024+m.charCodeAt(1)-56320+65536};function sv(m){return"&#x"+(m.length>1?oJ(m):m.charCodeAt(0)).toString(16).toUpperCase()+";"}function sJ(m,v){return function(C){return C.replace(v,function(D){return m[D]}).replace(Xk,sv)}}var Yk=new RegExp(Kk.source+"|"+Xk.source,"g");function lJ(m){return m.replace(Yk,sv)}la.escape=lJ;function uJ(m){return m.replace(Kk,sv)}la.escapeUTF8=uJ;function Zk(m){return function(v){return v.replace(Yk,function(C){return m[C]||sv(C)})}}(function(m){Object.defineProperty(m,"__esModule",{value:!0}),m.decodeXMLStrict=m.decodeHTML5Strict=m.decodeHTML4Strict=m.decodeHTML5=m.decodeHTML4=m.decodeHTMLStrict=m.decodeHTML=m.decodeXML=m.encodeHTML5=m.encodeHTML4=m.escapeUTF8=m.escape=m.encodeNonAsciiHTML=m.encodeHTML=m.encodeXML=m.encode=m.decodeStrict=m.decode=void 0;var v=Ee,C=la;function D(ze,Ue){return(!Ue||Ue<=0?v.decodeXML:v.decodeHTML)(ze)}m.decode=D;function _(ze,Ue){return(!Ue||Ue<=0?v.decodeXML:v.decodeHTMLStrict)(ze)}m.decodeStrict=_;function Q(ze,Ue){return(!Ue||Ue<=0?C.encodeXML:C.encodeHTML)(ze)}m.encode=Q;var ee=la;Object.defineProperty(m,"encodeXML",{enumerable:!0,get:function(){return ee.encodeXML}}),Object.defineProperty(m,"encodeHTML",{enumerable:!0,get:function(){return ee.encodeHTML}}),Object.defineProperty(m,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return ee.encodeNonAsciiHTML}}),Object.defineProperty(m,"escape",{enumerable:!0,get:function(){return ee.escape}}),Object.defineProperty(m,"escapeUTF8",{enumerable:!0,get:function(){return ee.escapeUTF8}}),Object.defineProperty(m,"encodeHTML4",{enumerable:!0,get:function(){return ee.encodeHTML}}),Object.defineProperty(m,"encodeHTML5",{enumerable:!0,get:function(){return ee.encodeHTML}});var ce=Ee;Object.defineProperty(m,"decodeXML",{enumerable:!0,get:function(){return ce.decodeXML}}),Object.defineProperty(m,"decodeHTML",{enumerable:!0,get:function(){return ce.decodeHTML}}),Object.defineProperty(m,"decodeHTMLStrict",{enumerable:!0,get:function(){return ce.decodeHTMLStrict}}),Object.defineProperty(m,"decodeHTML4",{enumerable:!0,get:function(){return ce.decodeHTML}}),Object.defineProperty(m,"decodeHTML5",{enumerable:!0,get:function(){return ce.decodeHTML}}),Object.defineProperty(m,"decodeHTML4Strict",{enumerable:!0,get:function(){return ce.decodeHTMLStrict}}),Object.defineProperty(m,"decodeHTML5Strict",{enumerable:!0,get:function(){return ce.decodeHTMLStrict}}),Object.defineProperty(m,"decodeXMLStrict",{enumerable:!0,get:function(){return ce.decodeXML}})})(me);var ew="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});",cJ=92,fJ=/[\\&]/,Dg="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",dJ=new RegExp("\\\\"+Dg+"|"+ew,"gi"),hJ='[&<>"]',tw=new RegExp(hJ,"g"),pJ=function(m){return m.charCodeAt(0)===cJ?m.charAt(1):me.decodeHTML(m)};function Wd(m){return fJ.test(m)?m.replace(dJ,pJ):m}function lv(m){try{return be(m)}catch{return m}}function vJ(m){switch(m){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return m}}function Bc(m){return tw.test(m)?m.replace(tw,vJ):m}function Ag(m,v){for(var C=[],D=0;D<v;D++)C.push(m);return C.join("")}function rw(m){return m?!/[^ \t]+/.test(m):!0}var mJ=(function(){function m(v){this.current=v,this.root=v,this.entering=!0}return m.prototype.next=function(){var v=this.current,C=this.entering;if(v===null)return null;var D=Lg(v);return C&&D?v.firstChild?(this.current=v.firstChild,this.entering=!0):this.entering=!1:v===this.root?this.current=null:v.next===null?(this.current=v.parent,this.entering=!1):(this.current=v.next,this.entering=!0),{entering:C,node:v}},m.prototype.resumeAt=function(v,C){this.current=v,this.entering=C===!0},m})();function Lg(m){switch(m.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}var gJ=1,uv={};function yJ(m){return uv[m]}function Rg(m){delete uv[m]}function kJ(){uv={}}var jd=(function(){function m(v,C){this.parent=null,this.prev=null,this.next=null,this.firstChild=null,this.lastChild=null,this.literal=null,v==="document"?this.id=-1:this.id=gJ++,this.type=v,this.sourcepos=C,uv[this.id]=this}return m.prototype.isContainer=function(){return Lg(this)},m.prototype.unlink=function(){this.prev?this.prev.next=this.next:this.parent&&(this.parent.firstChild=this.next),this.next?this.next.prev=this.prev:this.parent&&(this.parent.lastChild=this.prev),this.parent=null,this.next=null,this.prev=null},m.prototype.replaceWith=function(v){this.insertBefore(v),this.unlink()},m.prototype.insertAfter=function(v){v.unlink(),v.next=this.next,v.next&&(v.next.prev=v),v.prev=this,this.next=v,this.parent&&(v.parent=this.parent,v.next||(v.parent.lastChild=v))},m.prototype.insertBefore=function(v){v.unlink(),v.prev=this.prev,v.prev&&(v.prev.next=v),v.next=this,this.prev=v,v.parent=this.parent,v.prev||(v.parent.firstChild=v)},m.prototype.appendChild=function(v){v.unlink(),v.parent=this,this.lastChild?(this.lastChild.next=v,v.prev=this.lastChild,this.lastChild=v):(this.firstChild=v,this.lastChild=v)},m.prototype.prependChild=function(v){v.unlink(),v.parent=this,this.firstChild?(this.firstChild.prev=v,v.next=this.firstChild,this.firstChild=v):(this.firstChild=v,this.lastChild=v)},m.prototype.walker=function(){return new mJ(this)},m})(),gs=(function(m){A(v,m);function v(C,D){var _=m.call(this,C,D)||this;return _.open=!0,_.lineOffsets=null,_.stringContent=null,_.lastLineBlank=!1,_.lastLineChecked=!1,_.type=C,_}return v})(jd),wJ=(function(m){A(v,m);function v(){var C=m!==null&&m.apply(this,arguments)||this;return C.listData=null,C}return v})(gs),bJ=(function(m){A(v,m);function v(){var C=m!==null&&m.apply(this,arguments)||this;return C.level=0,C.headingType="atx",C}return v})(gs),CJ=(function(m){A(v,m);function v(){var C=m!==null&&m.apply(this,arguments)||this;return C.isFenced=!1,C.fenceChar=null,C.fenceLength=0,C.fenceOffset=-1,C.info=null,C.infoPadding=0,C}return v})(gs),TJ=(function(m){A(v,m);function v(){var C=m!==null&&m.apply(this,arguments)||this;return C.columns=[],C}return v})(gs),SJ=(function(m){A(v,m);function v(){var C=m!==null&&m.apply(this,arguments)||this;return C.startIdx=0,C.endIdx=0,C.paddingLeft=0,C.paddingRight=0,C.ignored=!1,C}return v})(gs),xJ=(function(m){A(v,m);function v(){var C=m!==null&&m.apply(this,arguments)||this;return C.title="",C.dest="",C.label="",C}return v})(gs),EJ=(function(m){A(v,m);function v(){var C=m!==null&&m.apply(this,arguments)||this;return C.syntaxLength=0,C.offset=-1,C.info="",C}return v})(gs),MJ=(function(m){A(v,m);function v(){var C=m!==null&&m.apply(this,arguments)||this;return C.htmlBlockType=-1,C}return v})(gs),NJ=(function(m){A(v,m);function v(){var C=m!==null&&m.apply(this,arguments)||this;return C.destination=null,C.title=null,C.extendedAutolink=!1,C}return v})(jd),OJ=(function(m){A(v,m);function v(){var C=m!==null&&m.apply(this,arguments)||this;return C.tickCount=0,C}return v})(jd),DJ=(function(m){A(v,m);function v(){var C=m!==null&&m.apply(this,arguments)||this;return C.info="",C}return v})(jd);function nn(m,v){switch(m){case"heading":return new bJ(m,v);case"list":case"item":return new wJ(m,v);case"link":case"image":return new NJ(m,v);case"codeBlock":return new CJ(m,v);case"htmlBlock":return new MJ(m,v);case"table":return new TJ(m,v);case"tableCell":return new SJ(m,v);case"document":case"paragraph":case"blockQuote":case"thematicBreak":case"tableRow":case"tableBody":case"tableHead":case"frontMatter":return new gs(m,v);case"code":return new OJ(m,v);case"refDef":return new xJ(m,v);case"customBlock":return new EJ(m,v);case"customInline":return new DJ(m,v);default:return new jd(m,v)}}function nw(m){return m.type==="codeBlock"}function AJ(m){return m.type==="htmlBlock"}function LJ(m){return m.type==="heading"}function iw(m){return m.type==="list"}function RJ(m){return m.type==="table"}function Fc(m){return m.type==="refDef"}function aw(m){return m.type==="customBlock"}function IJ(m){return m.type==="customInline"}function wn(m,v){var C=nn("text",v);return C.literal=m,C}var ow="[A-Za-z][A-Za-z0-9-]*",PJ="[a-zA-Z_:][a-zA-Z0-9:._-]*",BJ="[^\"'=<>`\\x00-\\x20]+",FJ="'[^']*'",_J='"[^"]*"',qJ="(?:"+BJ+"|"+FJ+"|"+_J+")",zJ="(?:\\s*=\\s*"+qJ+")",HJ="(?:\\s+"+PJ+zJ+"?)",sw="<"+ow+HJ+"*\\s*/?>",lw="</"+ow+"\\s*[>]",VJ="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",$J="[<][?].*?[?][>]",UJ="<![A-Z]+\\s+[^>]*>",WJ="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",jJ="(?:"+sw+"|"+lw+"|"+VJ+"|"+$J+"|"+UJ+"|"+WJ+")",GJ=new RegExp("^"+jJ,"i");/*! http://mths.be/fromcodepoint v0.2.1 by @mathias */var Ig;if(String.fromCodePoint)Ig=function(m){try{return String.fromCodePoint(m)}catch(v){if(v instanceof RangeError)return"";throw v}};else{var KJ=String.fromCharCode,JJ=Math.floor;Ig=function(){for(var m=[],v=0;v<arguments.length;v++)m[v]=arguments[v];var C=16384,D=[],_,Q,ee=-1,ce=m.length;if(!ce)return"";for(var ze="";++ee<ce;){var Ue=Number(m[ee]);if(!isFinite(Ue)||Ue<0||Ue>1114111||JJ(Ue)!==Ue)return"";Ue<=65535?D.push(Ue):(Ue-=65536,_=(Ue>>10)+55296,Q=Ue%1024+56320,D.push(_,Q)),(ee+1===ce||D.length>C)&&(ze+=KJ.apply(void 0,D),D.length=0)}return ze}}var Pg=Ig,QJ="(?:[w-]+.)*[A-Za-z0-9-]+.[A-Za-z0-9-]+",XJ="[^<\\s]*[^<?!.,:*_?~\\s]",YJ="[\\w.+-]+@(?:[\\w-]+\\.)+[\\w-]+";function ZJ(m){var v=/\)+$/.exec(m);if(v){for(var C=0,D=0,_=m;D<_.length;D++){var Q=_[D];Q==="("?C<0?C=1:C+=1:Q===")"&&(C-=1)}if(C<0){var ee=Math.min(-C,v[0].length);return m.substring(0,m.length-ee)}}return m}function eQ(m){return m.replace(/&[A-Za-z0-9]+;$/,"")}function tQ(m){for(var v=new RegExp(YJ,"g"),C=[],D;D=v.exec(m);){var _=D[0];/[_-]+$/.test(_)||C.push({text:_,range:[D.index,D.index+_.length-1],url:"mailto:"+_})}return C}function rQ(m){for(var v=new RegExp("(www|https?://)."+QJ+XJ,"g"),C=[],D;D=v.exec(m);){var _=eQ(ZJ(D[0])),Q=D[1]==="www"?"http://":"";C.push({text:_,range:[D.index,D.index+_.length-1],url:""+Q+_})}return C}function nQ(m){return H(H([],rQ(m)),tQ(m)).sort(function(v,C){return v.range[0]-C.range[0]})}function iQ(m,v){typeof v=="boolean"&&(v=nQ);for(var C,D=function(){var _=C.entering,Q=C.node;if(_&&Q.type==="text"&&Q.parent.type!=="link"){var ee=Q.literal,ce=v(ee);if(!ce||!ce.length)return"continue";for(var ze=0,Ue=Q.sourcepos[0],dt=Ue[0],gt=Ue[1],st=function(bs,pZ){return[[dt,gt+bs],[dt,gt+pZ]]},It=[],Lt=0,hr=ce;Lt<hr.length;Lt++){var an=hr[Lt],Ln=an.range,ys=an.url,ba=an.text;Ln[0]>ze&&It.push(wn(ee.substring(ze,Ln[0]),st(ze,Ln[0]-1)));var ca=nn("link",st.apply(void 0,Ln));ca.appendChild(wn(ba,st.apply(void 0,Ln))),ca.destination=ys,ca.extendedAutolink=!0,It.push(ca),ze=Ln[1]+1}ze<ee.length&&It.push(wn(ee.substring(ze),st(ze,ee.length-1)));for(var Ga=0,ks=It;Ga<ks.length;Ga++){var ws=ks[Ga];Q.insertBefore(ws)}Q.unlink()}};C=m.next();)D()}function cv(m){return m[m.length-1]}function uw(m){return m.slice(1,m.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()}function fv(m,v){Object.keys(m).forEach(function(C){v(C,m[C])})}function aQ(m){for(var v=[],C=1;C<arguments.length;C++)v[C-1]=arguments[C];var D=z({},m);return v.forEach(function(_){delete D[_]}),D}function _c(m){return!Object.keys(m).length}function oQ(m){Object.keys(m).forEach(function(v){delete m[v]})}var Bg=10,Fg=42,dv=95,sQ=96,cw=91,lQ=93,hv=126,fw=60,uQ=33,dw=92,cQ=38,hw=40,_g=41,fQ=58,iu=39,au=34,ou=36,qg="\\\\"+Dg,pw=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),dQ=new RegExp('^(?:"('+qg+'|[^"\\x00])*"|'+("'("+qg+"|[^'\\x00])*'")+"|"+("\\(("+qg+"|[^()\\x00])*\\))")),hQ=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,vw=new RegExp("^"+Dg),pQ=new RegExp("^"+ew,"i"),vQ=/`+/,mQ=/^`+/,gQ=/\.\.\./g,yQ=/--+/g,kQ=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,wQ=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,bQ=/^ *(?:\n *)?/,zg=/^[ \t\n\x0b\x0c\x0d]/,mw=/^\s/,CQ=/ *$/,TQ=/^ */,gw=/^ *(?:\n|$)/,SQ=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,xQ=/^[^\n`\[\]\\!<&*_'"~$]+/m,EQ=(function(){function m(v){this.subject="",this.delimiters=null,this.brackets=null,this.pos=0,this.lineStartNum=0,this.lineIdx=0,this.lineOffsets=[0],this.linePosOffset=0,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.options=v}return m.prototype.sourcepos=function(v,C){var D=this.linePosOffset+this.lineOffsets[this.lineIdx],_=this.lineStartNum+this.lineIdx,Q=[_,v+D];return typeof C=="number"?[Q,[_,C+D]]:Q},m.prototype.nextLine=function(){this.lineIdx+=1,this.linePosOffset=-this.pos},m.prototype.match=function(v){var C=v.exec(this.subject.slice(this.pos));return C===null?null:(this.pos+=C.index+C[0].length,C[0])},m.prototype.peek=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},m.prototype.spnl=function(){return this.match(bQ),!0},m.prototype.parseBackticks=function(v){var C=this.pos+1,D=this.match(mQ);if(D===null)return!1;for(var _=this.pos,Q;(Q=this.match(vQ))!==null;)if(Q===D){var ee=this.subject.slice(_,this.pos-D.length),ce=this.sourcepos(C,this.pos),ze=ee.split(`
`);if(ze.length>1){var Ue=cv(ze);this.lineIdx+=ze.length-1,this.linePosOffset=-(this.pos-Ue.length-D.length),ce[1]=this.sourcepos(this.pos),ee=ze.join(" ")}var dt=nn("code",ce);return ee.length>0&&ee.match(/[^ ]/)!==null&&ee[0]==" "&&ee[ee.length-1]==" "?dt.literal=ee.slice(1,ee.length-1):dt.literal=ee,dt.tickCount=D.length,v.appendChild(dt),!0}return this.pos=_,v.appendChild(wn(D,this.sourcepos(C,this.pos-1))),!0},m.prototype.parseBackslash=function(v){var C=this.subject,D;this.pos+=1;var _=this.pos;return this.peek()===Bg?(this.pos+=1,D=nn("linebreak",this.sourcepos(this.pos-1,this.pos)),v.appendChild(D),this.nextLine()):vw.test(C.charAt(this.pos))?(v.appendChild(wn(C.charAt(this.pos),this.sourcepos(_,this.pos))),this.pos+=1):v.appendChild(wn("\\",this.sourcepos(_,_))),!0},m.prototype.parseAutolink=function(v){var C,D,_,Q=this.pos+1;return(C=this.match(kQ))?(D=C.slice(1,C.length-1),_=nn("link",this.sourcepos(Q,this.pos)),_.destination=lv("mailto:"+D),_.title="",_.appendChild(wn(D,this.sourcepos(Q+1,this.pos-1))),v.appendChild(_),!0):(C=this.match(wQ))?(D=C.slice(1,C.length-1),_=nn("link",this.sourcepos(Q,this.pos)),_.destination=lv(D),_.title="",_.appendChild(wn(D,this.sourcepos(Q+1,this.pos-1))),v.appendChild(_),!0):!1},m.prototype.parseHtmlTag=function(v){var C=this.pos+1,D=this.match(GJ);if(D===null)return!1;var _=nn("htmlInline",this.sourcepos(C,this.pos));return _.literal=D,v.appendChild(_),!0},m.prototype.scanDelims=function(v){var C=0,D=this.pos;if(v===iu||v===au)C++,this.pos++;else for(;this.peek()===v;)C++,this.pos++;if(C===0||C<2&&(v===hv||v===ou))return this.pos=D,null;var _=D===0?`
`:this.subject.charAt(D-1),Q=this.peek(),ee;Q===-1?ee=`
`:ee=Pg(Q);var ce=mw.test(ee),ze=pw.test(ee),Ue=mw.test(_),dt=pw.test(_),gt=!ce&&(!ze||Ue||dt),st=!Ue&&(!dt||ce||ze),It,Lt;return v===dv?(It=gt&&(!st||dt),Lt=st&&(!gt||ze)):v===iu||v===au?(It=gt&&!st,Lt=st):v===ou?(It=!ce,Lt=!Ue):(It=gt,Lt=st),this.pos=D,{numdelims:C,canOpen:It,canClose:Lt}},m.prototype.handleDelim=function(v,C){var D=this.scanDelims(v);if(!D)return!1;var _=D.numdelims,Q=this.pos+1,ee;this.pos+=_,v===iu?ee="":v===au?ee="":ee=this.subject.slice(Q-1,this.pos);var ce=wn(ee,this.sourcepos(Q,this.pos));return C.appendChild(ce),(D.canOpen||D.canClose)&&(this.options.smart||v!==iu&&v!==au)&&(this.delimiters={cc:v,numdelims:_,origdelims:_,node:ce,previous:this.delimiters,next:null,canOpen:D.canOpen,canClose:D.canClose},this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)),!0},m.prototype.removeDelimiter=function(v){v.previous!==null&&(v.previous.next=v.next),v.next===null?this.delimiters=v.previous:v.next.previous=v.previous},m.prototype.removeDelimitersBetween=function(v,C){v.next!==C&&(v.next=C,C.previous=v)},m.prototype.processEmphasis=function(v){var C,D,_,Q,ee,ce,ze,Ue=!1,dt=(C={},C[dv]=[v,v,v],C[Fg]=[v,v,v],C[iu]=[v],C[au]=[v],C[hv]=[v],C[ou]=[v],C);for(_=this.delimiters;_!==null&&_.previous!==v;)_=_.previous;for(;_!==null;){var gt=_.cc,st=gt===dv||gt===Fg;if(!_.canClose)_=_.next;else{for(D=_.previous,ze=!1;D!==null&&D!==v&&D!==dt[gt][st?_.origdelims%3:0];){if(Ue=st&&(_.canOpen||D.canClose)&&_.origdelims%3!==0&&(D.origdelims+_.origdelims)%3===0,D.cc===_.cc&&D.canOpen&&!Ue){ze=!0;break}D=D.previous}if(Q=_,st||gt===hv||gt===ou){if(!ze)_=_.next;else if(D){var It=_.numdelims>=2&&D.numdelims>=2?2:1,Lt=st?0:1;ee=D.node,ce=_.node;var hr=st?It===1?"emph":"strong":"strike";gt===ou&&(hr="customInline");var an=nn(hr),Ln=ee.sourcepos[1],ys=ce.sourcepos[0];an.sourcepos=[[Ln[0],Ln[1]-It+1],[ys[0],ys[1]+It-1]],ee.sourcepos[1][1]-=It,ce.sourcepos[0][1]+=It,ee.literal=ee.literal.slice(It),ce.literal=ce.literal.slice(It),D.numdelims-=It,_.numdelims-=It;for(var ba=ee.next,ca=void 0;ba&&ba!==ce;)ca=ba.next,ba.unlink(),an.appendChild(ba),ba=ca;if(gt===ou){var Ga=an.firstChild,ks=Ga.literal||"",ws=ks.split(/\s/)[0];an.info=ws,ks.length<=ws.length?Ga.unlink():(Ga.sourcepos[0][1]+=ws.length,Ga.literal=ks.replace(ws+" ",""))}if(ee.insertAfter(an),this.removeDelimitersBetween(D,_),D.numdelims<=Lt&&(D.numdelims===0&&ee.unlink(),this.removeDelimiter(D)),_.numdelims<=Lt){_.numdelims===0&&ce.unlink();var bs=_.next;this.removeDelimiter(_),_=bs}}}else gt===iu?(_.node.literal="",ze&&(D.node.literal=""),_=_.next):gt===au&&(_.node.literal="",ze&&(D.node.literal=""),_=_.next);ze||(dt[gt][st?Q.origdelims%3:0]=Q.previous,Q.canOpen||this.removeDelimiter(Q))}}for(;this.delimiters!==null&&this.delimiters!==v;)this.removeDelimiter(this.delimiters)},m.prototype.parseLinkTitle=function(){var v=this.match(dQ);return v===null?null:Wd(v.substr(1,v.length-2))},m.prototype.parseLinkDestination=function(){var v=this.match(hQ);if(v===null){if(this.peek()===fw)return null;for(var C=this.pos,D=0,_=void 0;(_=this.peek())!==-1;)if(_===dw&&vw.test(this.subject.charAt(this.pos+1)))this.pos+=1,this.peek()!==-1&&(this.pos+=1);else if(_===hw)this.pos+=1,D+=1;else if(_===_g){if(D<1)break;this.pos+=1,D-=1}else{if(zg.exec(Pg(_))!==null)break;this.pos+=1}return this.pos===C&&_!==_g||D!==0?null:(v=this.subject.substr(C,this.pos-C),lv(Wd(v)))}return lv(Wd(v.substr(1,v.length-2)))},m.prototype.parseLinkLabel=function(){var v=this.match(SQ);return v===null||v.length>1001?0:v.length},m.prototype.parseOpenBracket=function(v){var C=this.pos;this.pos+=1;var D=wn("[",this.sourcepos(this.pos,this.pos));return v.appendChild(D),this.addBracket(D,C,!1),!0},m.prototype.parseBang=function(v){var C=this.pos;if(this.pos+=1,this.peek()===cw){this.pos+=1;var D=wn("![",this.sourcepos(this.pos-1,this.pos));v.appendChild(D),this.addBracket(D,C+1,!0)}else{var D=wn("!",this.sourcepos(this.pos,this.pos));v.appendChild(D)}return!0},m.prototype.parseCloseBracket=function(v){var C=null,D=null,_=!1;this.pos+=1;var Q=this.pos,ee=this.brackets;if(ee===null)return v.appendChild(wn("]",this.sourcepos(Q,Q))),!0;if(!ee.active)return v.appendChild(wn("]",this.sourcepos(Q,Q))),this.removeBracket(),!0;var ce=ee.image,ze=this.pos;this.peek()===hw&&(this.pos++,this.spnl()&&(C=this.parseLinkDestination())!==null&&this.spnl()&&(zg.test(this.subject.charAt(this.pos-1))&&(D=this.parseLinkTitle())||!0)&&this.spnl()&&this.peek()===_g?(this.pos+=1,_=!0):this.pos=ze);var Ue="";if(!_){var dt=this.pos,gt=this.parseLinkLabel();if(gt>2?Ue=this.subject.slice(dt,dt+gt):ee.bracketAfter||(Ue=this.subject.slice(ee.index,Q)),gt===0&&(this.pos=ze),Ue){Ue=uw(Ue);var st=this.refMap[Ue];st&&(C=st.destination,D=st.title,_=!0)}}if(_){var It=nn(ce?"image":"link");It.destination=C,It.title=D||"",It.sourcepos=[ee.startpos,this.sourcepos(this.pos)];for(var Lt=ee.node.next,hr=void 0;Lt;)hr=Lt.next,Lt.unlink(),It.appendChild(Lt),Lt=hr;if(v.appendChild(It),this.processEmphasis(ee.previousDelimiter),this.removeBracket(),ee.node.unlink(),!ce)for(ee=this.brackets;ee!==null;)ee.image||(ee.active=!1),ee=ee.previous;return this.options.referenceDefinition&&(this.refLinkCandidateMap[v.id]={node:v,refLabel:Ue}),!0}return this.removeBracket(),this.pos=Q,v.appendChild(wn("]",this.sourcepos(Q,Q))),this.options.referenceDefinition&&(this.refLinkCandidateMap[v.id]={node:v,refLabel:Ue}),!0},m.prototype.addBracket=function(v,C,D){this.brackets!==null&&(this.brackets.bracketAfter=!0),this.brackets={node:v,startpos:this.sourcepos(C+(D?0:1)),previous:this.brackets,previousDelimiter:this.delimiters,index:C,image:D,active:!0}},m.prototype.removeBracket=function(){this.brackets&&(this.brackets=this.brackets.previous)},m.prototype.parseEntity=function(v){var C,D=this.pos+1;return(C=this.match(pQ))?(v.appendChild(wn(me.decodeHTML(C),this.sourcepos(D,this.pos))),!0):!1},m.prototype.parseString=function(v){var C,D=this.pos+1;if(C=this.match(xQ)){if(this.options.smart){var _=C.replace(gQ,"").replace(yQ,function(ee){var ce=0,ze=0;return ee.length%3===0?ze=ee.length/3:ee.length%2===0?ce=ee.length/2:ee.length%3===2?(ce=1,ze=(ee.length-2)/3):(ce=2,ze=(ee.length-4)/3),Ag("",ze)+Ag("",ce)});v.appendChild(wn(_,this.sourcepos(D,this.pos)))}else{var Q=wn(C,this.sourcepos(D,this.pos));v.appendChild(Q)}return!0}return!1},m.prototype.parseNewline=function(v){this.pos+=1;var C=v.lastChild;if(C&&C.type==="text"&&C.literal[C.literal.length-1]===" "){var D=C.literal[C.literal.length-2]===" ",_=C.literal.length;C.literal=C.literal.replace(CQ,"");var Q=_-C.literal.length;C.sourcepos[1][1]-=Q,v.appendChild(nn(D?"linebreak":"softbreak",this.sourcepos(this.pos-Q,this.pos)))}else v.appendChild(nn("softbreak",this.sourcepos(this.pos,this.pos)));return this.nextLine(),this.match(TQ),!0},m.prototype.parseReference=function(v,C){if(!this.options.referenceDefinition)return 0;this.subject=v.stringContent,this.pos=0;var D=null,_=this.pos,Q=this.parseLinkLabel();if(Q===0)return 0;var ee=this.subject.substr(0,Q);if(this.peek()===fQ)this.pos++;else return this.pos=_,0;this.spnl();var ce=this.parseLinkDestination();if(ce===null)return this.pos=_,0;var ze=this.pos;this.spnl(),this.pos!==ze&&(D=this.parseLinkTitle()),D===null&&(D="",this.pos=ze);var Ue=!0;if(this.match(gw)===null&&(D===""?Ue=!1:(D="",this.pos=ze,Ue=this.match(gw)!==null)),!Ue)return this.pos=_,0;var dt=uw(ee);if(dt==="")return this.pos=_,0;var gt=this.getReferenceDefSourcepos(v);v.sourcepos[0][0]=gt[1][0]+1;var st=nn("refDef",gt);return st.title=D,st.dest=ce,st.label=dt,v.insertBefore(st),C[dt]?this.refDefCandidateMap[st.id]=st:C[dt]=jg(st),this.pos-_},m.prototype.mergeTextNodes=function(v){for(var C,D=[];C=v.next();){var _=C.entering,Q=C.node;if(_&&Q.type==="text")D.push(Q);else if(D.length===1)D=[];else if(D.length>1){var ee=D[0],ce=D[D.length-1];ee.sourcepos&&ce.sourcepos&&(ee.sourcepos[1]=ce.sourcepos[1]),ee.next=ce.next,ee.next&&(ee.next.prev=ee);for(var ze=1;ze<D.length;ze+=1)ee.literal+=D[ze].literal,D[ze].unlink();D=[]}}},m.prototype.getReferenceDefSourcepos=function(v){for(var C=v.stringContent.split(/\n|\r\n/),D=!1,_=0,Q={line:0,ch:0},ee=0;ee<C.length;ee+=1){var ce=C[ee];if(zg.test(ce))break;if(/\:/.test(ce)&&_===0){if(D)break;var ze=ce.indexOf(":")===ce.length-1?ee+1:ee;Q={line:ze,ch:C[ze].length},D=!0}var Ue=ce.match(/'|"/g);if(Ue&&(_+=Ue.length),_===2){Q={line:ee,ch:ce.length};break}}return[[v.sourcepos[0][0],v.sourcepos[0][1]],[v.sourcepos[0][0]+Q.line,Q.ch]]},m.prototype.parseInline=function(v){var C,D=!1,_=this.peek();if(_===-1)return!1;switch(_){case Bg:D=this.parseNewline(v);break;case dw:D=this.parseBackslash(v);break;case sQ:D=this.parseBackticks(v);break;case Fg:case dv:case hv:case ou:D=this.handleDelim(_,v);break;case iu:case au:D=!!(!((C=this.options)===null||C===void 0)&&C.smart)&&this.handleDelim(_,v);break;case cw:D=this.parseOpenBracket(v);break;case uQ:D=this.parseBang(v);break;case lQ:D=this.parseCloseBracket(v);break;case fw:D=this.parseAutolink(v)||this.parseHtmlTag(v);break;case cQ:v.disabledEntityParse||(D=this.parseEntity(v));break;default:D=this.parseString(v);break}return D||(this.pos+=1,v.appendChild(wn(Pg(_),this.sourcepos(this.pos,this.pos+1)))),!0},m.prototype.parse=function(v){for(this.subject=v.stringContent.trim(),this.pos=0,this.delimiters=null,this.brackets=null,this.lineOffsets=v.lineOffsets||[0],this.lineIdx=0,this.linePosOffset=0,this.lineStartNum=v.sourcepos[0][0],LJ(v)&&(this.lineOffsets[0]+=v.level+1);this.parseInline(v););v.stringContent=null,this.processEmphasis(null),this.mergeTextNodes(v.walker());var C=this.options,D=C.extendedAutolinks,_=C.customParser;if(D&&iQ(v.walker(),D),_&&v.firstChild)for(var Q,ee=v.firstChild.walker();Q=ee.next();){var ce=Q.node,ze=Q.entering;_[ce.type]&&_[ce.type](ce,{entering:ze,options:this.options})}},m})(),MQ=/^\[([ \txX])\][ \t]+/;function NQ(m,v){if(v.firstChild&&v.firstChild.type==="paragraph"){var C=v.firstChild,D=C.stringContent.match(MQ);if(D){var _=D[0].length;C.stringContent=C.stringContent.substring(_-1),C.sourcepos[0][1]+=_,C.lineOffsets[0]+=_,v.listData.task=!0,v.listData.checked=/[xX]/.test(D[1])}}}var OQ={continue:function(){return 0},finalize:function(){},canContain:function(m){return m==="tableHead"||m==="tableBody"},acceptsLines:!1},DQ={continue:function(){return 0},finalize:function(){},canContain:function(m){return m==="tableRow"},acceptsLines:!1},AQ={continue:function(){return 1},finalize:function(){},canContain:function(m){return m==="tableRow"||m==="tableDelimRow"},acceptsLines:!1},LQ={continue:function(){return 1},finalize:function(){},canContain:function(m){return m==="tableDelimCell"},acceptsLines:!1},RQ={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},IQ={continue:function(){return 1},finalize:function(){},canContain:function(m){return m==="tableCell"},acceptsLines:!1},PQ={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},pv=4,yw=9,kw=62,BQ=60,ww=32,bw=91,Cw=/[^ \t\f\v\r\n]/,FQ=/^(?:`{3,}|~{3,})(?= *$)/;function Tw(m){for(var v=m;v;){if(v.lastLineBlank)return!0;var C=v.type;if(!v.lastLineChecked&&(C==="list"||C==="item"))v.lastLineChecked=!0,v=v.lastChild;else{v.lastLineChecked=!0;break}}return!1}function ua(m,v){return v<m.length?m.charCodeAt(v):-1}function Sw(m){return!Cw.test(m)}function qc(m){return m===ww||m===yw}var _Q=/^\$\$$/,qQ={continue:function(m,v){var C=m.currentLine,D=C.match(_Q);if(D)return m.lastLineLength=D[0].length,m.finalize(v,m.lineNumber),2;for(var _=v.offset;_>0&&qc(ua(C,m.offset));)m.advanceOffset(1,!0),_--;return 0},finalize:function(m,v){if(v.stringContent!==null){var C=v.stringContent,D=C.indexOf(`
`),_=C.slice(0,D),Q=C.slice(D+1),ee=_.match(/^(\s*)(.*)/);v.info=Wd(ee[2].trim()),v.literal=Q,v.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},xw={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!0},zQ={continue:function(){return 0},finalize:function(){},canContain:function(m){return m!=="item"},acceptsLines:!1},HQ={continue:function(){return 0},finalize:function(m,v){for(var C=v.firstChild;C;){if(Tw(C)&&C.next){v.listData.tight=!1;break}for(var D=C.firstChild;D;){if(Tw(D)&&(C.next||D.next)){v.listData.tight=!1;break}D=D.next}C=C.next}},canContain:function(m){return m==="item"},acceptsLines:!1},VQ={continue:function(m){var v=m.currentLine;if(!m.indented&&ua(v,m.nextNonspace)===kw)m.advanceNextNonspace(),m.advanceOffset(1,!1),qc(ua(v,m.offset))&&m.advanceOffset(1,!0);else return 1;return 0},finalize:function(){},canContain:function(m){return m!=="item"},acceptsLines:!1},$Q={continue:function(m,v){if(m.blank){if(v.firstChild===null)return 1;m.advanceNextNonspace()}else if(m.indent>=v.listData.markerOffset+v.listData.padding)m.advanceOffset(v.listData.markerOffset+v.listData.padding,!0);else return 1;return 0},finalize:NQ,canContain:function(m){return m!=="item"},acceptsLines:!1},UQ={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},WQ={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},jQ={continue:function(m,v){var C=m.currentLine,D=m.indent;if(v.isFenced){var _=D<=3&&C.charAt(m.nextNonspace)===v.fenceChar&&C.slice(m.nextNonspace).match(FQ);if(_&&_[0].length>=v.fenceLength)return m.lastLineLength=m.offset+D+_[0].length,m.finalize(v,m.lineNumber),2;for(var Q=v.fenceOffset;Q>0&&qc(ua(C,m.offset));)m.advanceOffset(1,!0),Q--}else if(D>=pv)m.advanceOffset(pv,!0);else if(m.blank)m.advanceNextNonspace();else return 1;return 0},finalize:function(m,v){var C;if(v.stringContent!==null){if(v.isFenced){var D=v.stringContent,_=D.indexOf(`
`),Q=D.slice(0,_),ee=D.slice(_+1),ce=Q.match(/^(\s*)(.*)/);v.infoPadding=ce[1].length,v.info=Wd(ce[2].trim()),v.literal=ee}else v.literal=(C=v.stringContent)===null||C===void 0?void 0:C.replace(/(\n *)+$/,`
`);v.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},GQ={continue:function(m,v){return m.blank&&(v.htmlBlockType===6||v.htmlBlockType===7)?1:0},finalize:function(m,v){var C;v.literal=((C=v.stringContent)===null||C===void 0?void 0:C.replace(/(\n *)+$/,""))||null,v.stringContent=null},canContain:function(){return!1},acceptsLines:!0},KQ={continue:function(m){return m.blank?1:0},finalize:function(m,v){if(v.stringContent!==null){for(var C,D=!1;ua(v.stringContent,0)===bw&&(C=m.inlineParser.parseReference(v,m.refMap));)v.stringContent=v.stringContent.slice(C),D=!0;D&&Sw(v.stringContent)&&v.unlink()}},canContain:function(){return!1},acceptsLines:!0},JQ=xw,QQ=xw,zc={document:zQ,list:HQ,blockQuote:VQ,item:$Q,heading:UQ,thematicBreak:WQ,codeBlock:jQ,htmlBlock:GQ,paragraph:KQ,table:OQ,tableBody:DQ,tableHead:AQ,tableRow:IQ,tableCell:PQ,tableDelimRow:LQ,tableDelimCell:RQ,refDef:JQ,customBlock:qQ,frontMatter:QQ};function Hg(m){for(var v=0,C=0,D=[],_=0;_<m.length;_+=1)if(m[_]==="|"&&m[_-1]!=="\\"){var Q=m.substring(v,_);v===0&&rw(Q)?C=_+1:D.push(Q),v=_+1}if(v<m.length){var Q=m.substring(v,m.length);rw(Q)||D.push(Q)}return[C,D]}function Vg(m,v,C,D){for(var _=[],Q=0,ee=v;Q<ee.length;Q++){var ce=ee[Q],ze=ce.match(/^[ \t]+/),Ue=ze?ze[0].length:0,dt=void 0,gt=void 0;if(Ue===ce.length)Ue=0,dt=0,gt="";else{var st=ce.match(/[ \t]+$/);dt=st?st[0].length:0,gt=ce.slice(Ue,ce.length-dt)}var It=D+Ue,Lt=nn(m,[[C,D],[C,D+ce.length-1]]);Lt.stringContent=gt.replace(/\\\|/g,"|"),Lt.startIdx=_.length,Lt.endIdx=_.length,Lt.lineOffsets=[It-1],Lt.paddingLeft=Ue,Lt.paddingRight=dt,_.push(Lt),D+=ce.length+1}return _}function XQ(m){var v=null,C=m.stringContent,D=C[0],_=C[C.length-1];return _===":"?v=D===":"?"center":"right":D===":"&&(v="left"),{align:v}}var YQ=function(m,v){var C=v.stringContent;if(v.type==="paragraph"&&!m.indented&&!m.blank){var D=C.length-1,_=C.lastIndexOf(`
`,D-1)+1,Q=C.slice(_,D),ee=m.currentLine.slice(m.nextNonspace),ce=Hg(Q),ze=ce[0],Ue=ce[1],dt=Hg(ee),gt=dt[0],st=dt[1],It=/^[ \t]*:?-+:?[ \t]*$/;if(!Ue.length||!st.length||st.some(function(bs){return!It.test(bs)})||st.length===1&&ee.indexOf("|")!==0)return 0;var Lt=v.lineOffsets,hr=m.lineNumber-1,an=cv(Lt)+1,Ln=nn("table",[[hr,an],[m.lineNumber,m.offset]]);if(Ln.columns=st.map(function(){return{align:null}}),v.insertAfter(Ln),Lt.length===1)v.unlink();else{v.stringContent=C.slice(0,_);var ys=C.lastIndexOf(`
`,_-2)+1,ba=_-ys-1;m.lastLineLength=Lt[Lt.length-2]+ba,m.finalize(v,hr-1)}m.advanceOffset(m.currentLine.length-m.offset,!1);var ca=nn("tableHead",[[hr,an],[m.lineNumber,m.offset]]);Ln.appendChild(ca);var Ga=nn("tableRow",[[hr,an],[hr,an+Q.length-1]]),ks=nn("tableDelimRow",[[m.lineNumber,m.nextNonspace+1],[m.lineNumber,m.offset]]);ca.appendChild(Ga),ca.appendChild(ks),Vg("tableCell",Ue,hr,an+ze).forEach(function(bs){Ga.appendChild(bs)});var ws=Vg("tableDelimCell",st,m.lineNumber,m.nextNonspace+1+gt);return ws.forEach(function(bs){ks.appendChild(bs)}),Ln.columns=ws.map(XQ),m.tip=Ln,2}return 0},ZQ=function(m,v){if(v.type!=="table"&&v.type!=="tableBody"||!m.blank&&m.currentLine.indexOf("|")===-1)return 0;if(m.advanceOffset(m.currentLine.length-m.offset,!1),m.blank){var C=v;return v.type==="tableBody"&&(C=v.parent,m.finalize(v,m.lineNumber-1)),m.finalize(C,m.lineNumber-1),0}var D=v;v.type==="table"&&(D=m.addChild("tableBody",m.nextNonspace),D.stringContent=null);var _=nn("tableRow",[[m.lineNumber,m.nextNonspace+1],[m.lineNumber,m.currentLine.length]]);D.appendChild(_);var Q=D.parent,ee=m.currentLine.slice(m.nextNonspace),ce=Hg(ee),ze=ce[0],Ue=ce[1];return Vg("tableCell",Ue,m.lineNumber,m.nextNonspace+1+ze).forEach(function(dt,gt){gt>=Q.columns.length&&(dt.ignored=!0),_.appendChild(dt)}),2},eX=/^(\$\$)(\s*[a-zA-Z])+/,tX=/^(\$\$)(\s*[a-zA-Z])+.*(\$\$)/,rX=function(m){var v;if(!m.indented&&!tX.test(m.currentLine)&&(v=m.currentLine.match(eX))){var C=v[1].length;m.closeUnmatchedBlocks();var D=m.addChild("customBlock",m.nextNonspace);return D.syntaxLength=C,D.offset=m.indent,m.advanceNextNonspace(),m.advanceOffset(C,!1),2}return 0},nX=/^`{3,}(?!.*`)|^~{3,}/,iX=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:"+sw+"|"+lw+")\\s*$","i")],aX=/^(?:=+|-+)[ \t]*$/,oX=/^#{1,6}(?:[ \t]+|$)/,sX=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/,Ew=/^[*+-]/,Mw=/^(\d{1,9})([.)])/;function lX(m,v){var C=m.currentLine.slice(m.nextNonspace),D,_,Q={type:"bullet",tight:!0,bulletChar:"",start:0,delimiter:"",padding:0,markerOffset:m.indent,task:!1,checked:!1};if(m.indent>=4)return null;if(D=C.match(Ew))Q.type="bullet",Q.bulletChar=D[0][0];else if((D=C.match(Mw))&&(v.type!=="paragraph"||D[1]==="1"))Q.type="ordered",Q.start=parseInt(D[1],10),Q.delimiter=D[2];else return null;if(_=ua(m.currentLine,m.nextNonspace+D[0].length),!(_===-1||_===yw||_===ww)||v.type==="paragraph"&&!m.currentLine.slice(m.nextNonspace+D[0].length).match(Cw))return null;m.advanceNextNonspace(),m.advanceOffset(D[0].length,!0);var ee=m.column,ce=m.offset;do m.advanceOffset(1,!0),_=ua(m.currentLine,m.offset);while(m.column-ee<5&&qc(_));var ze=ua(m.currentLine,m.offset)===-1,Ue=m.column-ee;return Ue>=5||Ue<1||ze?(Q.padding=D[0].length+1,m.column=ee,m.offset=ce,qc(ua(m.currentLine,m.offset))&&m.advanceOffset(1,!0)):Q.padding=D[0].length+Ue,Q}function uX(m,v){return m.type===v.type&&m.delimiter===v.delimiter&&m.bulletChar===v.bulletChar}function Nw(m,v){return m.options.disallowDeepHeading&&(v.type==="blockQuote"||v.type==="item")}var cX=function(m){return!m.indented&&ua(m.currentLine,m.nextNonspace)===kw?(m.advanceNextNonspace(),m.advanceOffset(1,!1),qc(ua(m.currentLine,m.offset))&&m.advanceOffset(1,!0),m.closeUnmatchedBlocks(),m.addChild("blockQuote",m.nextNonspace),1):0},fX=function(m,v){var C;if(!m.indented&&!Nw(m,v)&&(C=m.currentLine.slice(m.nextNonspace).match(oX))){m.advanceNextNonspace(),m.advanceOffset(C[0].length,!1),m.closeUnmatchedBlocks();var D=m.addChild("heading",m.nextNonspace);return D.level=C[0].trim().length,D.headingType="atx",D.stringContent=m.currentLine.slice(m.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),m.advanceOffset(m.currentLine.length-m.offset),2}return 0},dX=function(m){var v;if(!m.indented&&(v=m.currentLine.slice(m.nextNonspace).match(nX))){var C=v[0].length;m.closeUnmatchedBlocks();var D=m.addChild("codeBlock",m.nextNonspace);return D.isFenced=!0,D.fenceLength=C,D.fenceChar=v[0][0],D.fenceOffset=m.indent,m.advanceNextNonspace(),m.advanceOffset(C,!1),2}return 0},hX=function(m,v){if(!m.indented&&ua(m.currentLine,m.nextNonspace)===BQ){var C=m.currentLine.slice(m.nextNonspace),D=m.options.disallowedHtmlBlockTags,_=void 0;for(_=1;_<=7;_++){var Q=C.match(iX[_]);if(Q){if(_===7){if(v.type==="paragraph")return 0;if(D.length>0){var ee=new RegExp("</?(?:"+D.join("|")+")","i");if(ee.test(Q[0]))return 0}}m.closeUnmatchedBlocks();var ce=m.addChild("htmlBlock",m.offset);return ce.htmlBlockType=_,2}}}return 0},pX=function(m,v){var C;if(v.stringContent!==null&&!m.indented&&v.type==="paragraph"&&!Nw(m,v.parent)&&(C=m.currentLine.slice(m.nextNonspace).match(aX))){m.closeUnmatchedBlocks();for(var D=void 0;ua(v.stringContent,0)===bw&&(D=m.inlineParser.parseReference(v,m.refMap));)v.stringContent=v.stringContent.slice(D);if(v.stringContent.length>0){var _=nn("heading",v.sourcepos);return _.level=C[0][0]==="="?1:2,_.headingType="setext",_.stringContent=v.stringContent,v.insertAfter(_),v.unlink(),m.tip=_,m.advanceOffset(m.currentLine.length-m.offset,!1),2}return 0}return 0},vX=function(m){return!m.indented&&sX.test(m.currentLine.slice(m.nextNonspace))?(m.closeUnmatchedBlocks(),m.addChild("thematicBreak",m.nextNonspace),m.advanceOffset(m.currentLine.length-m.offset,!1),2):0},mX=function(m,v){var C,D=v;return(!m.indented||v.type==="list")&&(C=lX(m,D))?(m.closeUnmatchedBlocks(),(m.tip.type!=="list"||!uX(D.listData,C))&&(D=m.addChild("list",m.nextNonspace),D.listData=C),D=m.addChild("item",m.nextNonspace),D.listData=C,1):0},gX=function(m){return m.indented&&m.tip.type!=="paragraph"&&!m.blank?(m.advanceOffset(pv,!0),m.closeUnmatchedBlocks(),m.addChild("codeBlock",m.offset),2):0},$g=[cX,fX,dX,hX,pX,vX,mX,gX,YQ,ZQ,rX],Ow=/^(-{3}|\+{3}|;{3})$/,yX=function(m,v){var C=m.currentLine,D=m.lineNumber,_=m.indented;if(D===1&&!_&&v.type==="document"&&Ow.test(C)){m.closeUnmatchedBlocks();var Q=m.addChild("frontMatter",m.nextNonspace);return Q.stringContent=C,m.advanceNextNonspace(),m.advanceOffset(C.length,!1),2}return 0},kX={continue:function(m,v){var C=m.currentLine,D=C.match(Ow);return v.type==="frontMatter"&&D?(v.stringContent+=C,m.lastLineLength=D[0].length,m.finalize(v,m.lineNumber),2):0},finalize:function(m,v){v.stringContent!==null&&(v.literal=v.stringContent,v.stringContent=null)},canContain:function(){return!1},acceptsLines:!0},wX=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],bX=/^[#`~*+_=<>0-9-;$]/,CX=/\r\n|\n|\r/;function Ug(){return nn("document",[[1,1],[0,0]])}var TX={smart:!1,tagFilter:!1,extendedAutolinks:!1,disallowedHtmlBlockTags:[],referenceDefinition:!1,disallowDeepHeading:!1,customParser:null,frontMatter:!1},SX=(function(){function m(v){this.options=z(z({},TX),v),this.doc=Ug(),this.tip=this.doc,this.oldtip=this.doc,this.lineNumber=0,this.offset=0,this.column=0,this.nextNonspace=0,this.nextNonspaceColumn=0,this.indent=0,this.currentLine="",this.indented=!1,this.blank=!1,this.partiallyConsumedTab=!1,this.allClosed=!0,this.lastMatchedContainer=this.doc,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.lastLineLength=0,this.lines=[],this.options.frontMatter&&(zc.frontMatter=kX,$g.unshift(yX)),this.inlineParser=new EQ(this.options)}return m.prototype.advanceOffset=function(v,C){C===void 0&&(C=!1);for(var D=this.currentLine,_,Q,ee;v>0&&(ee=D[this.offset]);)ee==="	"?(_=4-this.column%4,C?(this.partiallyConsumedTab=_>v,Q=_>v?v:_,this.column+=Q,this.offset+=this.partiallyConsumedTab?0:1,v-=Q):(this.partiallyConsumedTab=!1,this.column+=_,this.offset+=1,v-=1)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,v-=1)},m.prototype.advanceNextNonspace=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},m.prototype.findNextNonspace=function(){for(var v=this.currentLine,C=this.offset,D=this.column,_;(_=v.charAt(C))!=="";)if(_===" ")C++,D++;else if(_==="	")C++,D+=4-D%4;else break;this.blank=_===`
`||_==="\r"||_==="",this.nextNonspace=C,this.nextNonspaceColumn=D,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=pv},m.prototype.addLine=function(){if(this.partiallyConsumedTab){this.offset+=1;var v=4-this.column%4;this.tip.stringContent+=Ag(" ",v)}this.tip.lineOffsets?this.tip.lineOffsets.push(this.offset):this.tip.lineOffsets=[this.offset],this.tip.stringContent+=this.currentLine.slice(this.offset)+`
`},m.prototype.addChild=function(v,C){for(;!zc[this.tip.type].canContain(v);)this.finalize(this.tip,this.lineNumber-1);var D=C+1,_=nn(v,[[this.lineNumber,D],[0,0]]);return _.stringContent="",this.tip.appendChild(_),this.tip=_,_},m.prototype.closeUnmatchedBlocks=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var v=this.oldtip.parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=v}this.allClosed=!0}},m.prototype.finalize=function(v,C){var D=v.parent;v.open=!1,v.sourcepos[1]=[C,this.lastLineLength],zc[v.type].finalize(this,v),this.tip=D},m.prototype.processInlines=function(v){var C,D=this.options.customParser,_=v.walker();for(this.inlineParser.refMap=this.refMap,this.inlineParser.refLinkCandidateMap=this.refLinkCandidateMap,this.inlineParser.refDefCandidateMap=this.refDefCandidateMap,this.inlineParser.options=this.options;C=_.next();){var Q=C.node,ee=C.entering,ce=Q.type;D&&D[ce]&&D[ce](Q,{entering:ee,options:this.options}),!ee&&(ce==="paragraph"||ce==="heading"||ce==="tableCell"&&!Q.ignored)&&this.inlineParser.parse(Q)}},m.prototype.incorporateLine=function(v){var C=this.doc;this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,v.indexOf("\0")!==-1&&(v=v.replace(/\0/g,"")),this.currentLine=v;for(var D=!0,_;(_=C.lastChild)&&_.open;){switch(C=_,this.findNextNonspace(),zc[C.type].continue(this,C)){case 0:break;case 1:D=!1;break;case 2:this.lastLineLength=v.length;return;default:throw new Error("continue returned illegal value, must be 0, 1, or 2")}if(!D){C=C.parent;break}}this.allClosed=C===this.oldtip,this.lastMatchedContainer=C;for(var Q=C.type!=="paragraph"&&zc[C.type].acceptsLines,ee=$g.length;!Q;){if(this.findNextNonspace(),C.type!=="table"&&C.type!=="tableBody"&&C.type!=="paragraph"&&!this.indented&&!bX.test(v.slice(this.nextNonspace))){this.advanceNextNonspace();break}for(var ce=0;ce<ee;){var ze=$g[ce](this,C);if(ze===1){C=this.tip;break}else if(ze===2){C=this.tip,Q=!0;break}else ce++}if(ce===ee){this.advanceNextNonspace();break}}if(!this.allClosed&&!this.blank&&this.tip.type==="paragraph")this.addLine();else{this.closeUnmatchedBlocks(),this.blank&&C.lastChild&&(C.lastChild.lastLineBlank=!0);for(var Ue=C.type,dt=this.blank&&!(Ue==="blockQuote"||nw(C)&&C.isFenced||Ue==="item"&&!C.firstChild&&C.sourcepos[0][0]===this.lineNumber),gt=C;gt;)gt.lastLineBlank=dt,gt=gt.parent;zc[Ue].acceptsLines?(this.addLine(),AJ(C)&&C.htmlBlockType>=1&&C.htmlBlockType<=5&&wX[C.htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=v.length,this.finalize(C,this.lineNumber))):this.offset<v.length&&!this.blank&&(C=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}this.lastLineLength=v.length},m.prototype.parse=function(v,C){this.doc=Ug(),this.tip=this.doc,this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";var D=v.split(CX),_=D.length;this.lines=C||D,this.options.referenceDefinition&&this.clearRefMaps(),v.charCodeAt(v.length-1)===Bg&&(_-=1);for(var Q=0;Q<_;Q++)this.incorporateLine(D[Q]);for(;this.tip;)this.finalize(this.tip,_);return this.processInlines(this.doc),this.doc},m.prototype.partialParseStart=function(v,C){this.doc=Ug(),this.tip=this.doc,this.lineNumber=v-1,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";for(var D=C.length,_=0;_<D;_++)this.incorporateLine(C[_]);return this.doc},m.prototype.partialParseExtends=function(v){for(var C=0;C<v.length;C++)this.incorporateLine(v[C])},m.prototype.partialParseFinish=function(){for(;this.tip;)this.finalize(this.tip,this.lineNumber);this.processInlines(this.doc)},m.prototype.setRefMaps=function(v,C,D){this.refMap=v,this.refLinkCandidateMap=C,this.refDefCandidateMap=D},m.prototype.clearRefMaps=function(){[this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(v){oQ(v)})},m})();function Dw(m,v){return m[0]<v[0]?1:m[0]>v[0]?-1:m[1]<v[1]?1:m[1]>v[1]?-1:0}function xX(m,v){var C=m[0],D=m[1];return Dw(D,v)===1?1:Dw(C,v)===-1?-1:0}function EX(m,v){if(!(m.parent!==v.parent||m===v)){for(var C=m.next;C&&C!==v;){for(var D=C.next,_=0,Q=["parent","prev","next"];_<Q.length;_++){var ee=Q[_];C[ee]&&(Rg(C[ee].id),C[ee]=null)}C=D}m.next=v.next,v.next?v.next.prev=m:m.parent.lastChild=m}}function MX(m){for(var v=[],C=m.firstChild;C;)v.push(C),C=C.next;return v}function Aw(m,v){for(var C=0,D=v;C<D.length;C++){var _=D[C];m.insertBefore(_)}}function NX(m,v){for(var C=v.length-1;C>=0;C-=1)m.prependChild(v[C])}function OX(m,v){if(!(!m||!m.parent||v===0)){var C=m.parent.walker();C.resumeAt(m,!0);for(var D;D=C.next();){var _=D.node,Q=D.entering;Q&&(_.sourcepos[0][0]+=v,_.sourcepos[1][0]+=v)}}}function Lw(m,v){var C=m[0],D=m[1];return D[0]<v?1:C[0]>v?-1:0}function vv(m,v){for(var C=m.firstChild;C;){var D=Lw(C.sourcepos,v);if(D===0)return C;if(D===-1)return C.prev||C;C=C.next}return m.lastChild}function DX(m){for(;m.lastChild;)m=m.lastChild;return m}function AX(m){for(;m.parent&&m.parent.type!=="document"&&m.parent.sourcepos[0][0]===m.sourcepos[0][0];)m=m.parent;return m}function LX(m,v){for(var C=m.firstChild,D=null;C;){var _=Lw(C.sourcepos,v);if(_===0){if(C.sourcepos[0][0]===v||!C.firstChild)return C;D=C,C=C.firstChild}else{if(_===-1)break;D=C,C=C.next}}return D?AX(DX(D)):null}function RX(m,v){for(var C=m,D=null;C;){var _=xX(C.sourcepos,v);if(_===0)if(C.firstChild)D=C,C=C.firstChild;else return C;else{if(_===-1)return D;if(C.next)C=C.next;else return D}}return C}function Rw(m){return yJ(m)||null}function Wg(m,v,C){if(C===void 0&&(C=null),v)for(var D=v.walker();v&&v!==C;){m(v);var _=D.next();if(_)v=_.node;else break}}function IX(m){var v=Rw(m);if(!v)return!0;for(;v&&v.type!=="document";){if(!v.parent&&!v.prev&&!v.next)return!0;v=v.parent}return!1}var Iw=/\r\n|\n|\r/;function PX(m){var v=m.match(/^[ \t]+/);if(v&&(v[0].length>=2||/\t/.test(v[0])))return!0;var C=v?m.slice(v.length):m;return Ew.test(C)||Mw.test(C)}function BX(m){return!Sw(m)&&m.indexOf("|")!==-1}function jg(m){var v=m.id,C=m.title,D=m.sourcepos,_=m.dest;return{id:v,title:C,sourcepos:D,unlinked:!1,destination:_}}var FX=(function(){function m(v,C){this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.referenceDefinition=!!C?.referenceDefinition,this.parser=new SX(C),this.parser.setRefMaps(this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap),this.eventHandlerMap={change:[]},v=v||"",this.lineTexts=v.split(Iw),this.root=this.parser.parse(v,this.lineTexts)}return m.prototype.updateLineTexts=function(v,C,D){var _,Q=v[0],ee=v[1],ce=C[0],ze=C[1],Ue=D.split(Iw),dt=Ue.length,gt=this.lineTexts[Q-1],st=this.lineTexts[ce-1];Ue[0]=gt.slice(0,ee-1)+Ue[0],Ue[dt-1]=Ue[dt-1]+st.slice(ze-1);var It=ce-Q+1;return(_=this.lineTexts).splice.apply(_,H([Q-1,It],Ue)),dt-It},m.prototype.updateRootNodeState=function(){if(this.lineTexts.length===1&&this.lineTexts[0]===""){this.root.lastLineBlank=!0,this.root.sourcepos=[[1,1],[1,0]];return}this.root.lastChild&&(this.root.lastLineBlank=this.root.lastChild.lastLineBlank);for(var v=this.lineTexts,C=v.length-1;v[C]==="";)C-=1;v.length-2>C&&(C+=1),this.root.sourcepos[1]=[C+1,v[C].length]},m.prototype.replaceRangeNodes=function(v,C,D){v?(Aw(v,D),EX(v,C),[v.id,C.id].forEach(function(_){return Rg(_)}),v.unlink()):C?(Aw(C,D),Rg(C.id),C.unlink()):NX(this.root,D)},m.prototype.getNodeRange=function(v,C){var D=vv(this.root,v[0]),_=vv(this.root,C[0]);return _&&_.next&&C[0]+1===_.next.sourcepos[0][0]&&(_=_.next),[D,_]},m.prototype.trigger=function(v,C){this.eventHandlerMap[v].forEach(function(D){D(C)})},m.prototype.extendEndLine=function(v){for(;this.lineTexts[v]==="";)v+=1;return v},m.prototype.parseRange=function(v,C,D,_){v&&v.prev&&(iw(v.prev)&&PX(this.lineTexts[D-1])||RJ(v.prev)&&BX(this.lineTexts[D-1]))&&(v=v.prev,D=v.sourcepos[0][0]);for(var Q=this.lineTexts.slice(D-1,_),ee=this.parser.partialParseStart(D,Q),ce=C?C.next:this.root.firstChild,ze=ee.lastChild,Ue=ze&&nw(ze)&&ze.open,dt=ze&&aw(ze)&&ze.open,gt=ze&&iw(ze);(Ue||dt)&&ce||gt&&ce&&(ce.type==="list"||ce.sourcepos[0][1]>=2);){var st=this.extendEndLine(ce.sourcepos[1][0]);this.parser.partialParseExtends(this.lineTexts.slice(_,st)),v||(v=C),C=ce,_=st,ce=ce.next}this.parser.partialParseFinish();var It=MX(ee);return{newNodes:It,extStartNode:v,extEndNode:C}},m.prototype.getRemovedNodeRange=function(v,C){return!v||v&&Fc(v)||C&&Fc(C)?null:{id:[v.id,C.id],line:[v.sourcepos[0][0]-1,C.sourcepos[1][0]-1]}},m.prototype.markDeletedRefMap=function(v,C){var D=this;if(!_c(this.refMap)){var _=function(Q){if(Fc(Q)){var ee=D.refMap[Q.label];ee&&Q.id===ee.id&&(ee.unlinked=!0)}};v&&Wg(_,v.parent,C),C&&Wg(_,C)}},m.prototype.replaceWithNewRefDefState=function(v){var C=this;if(!_c(this.refMap)){var D=function(_){if(Fc(_)){var Q=_.label,ee=C.refMap[Q];(!ee||ee.unlinked)&&(C.refMap[Q]=jg(_))}};v.forEach(function(_){Wg(D,_)})}},m.prototype.replaceWithRefDefCandidate=function(){var v=this;_c(this.refDefCandidateMap)||fv(this.refDefCandidateMap,function(C,D){var _=D.label,Q=D.sourcepos,ee=v.refMap[_];(!ee||ee.unlinked||ee.sourcepos[0][0]>Q[0][0])&&(v.refMap[_]=jg(D))})},m.prototype.getRangeWithRefDef=function(v,C,D,_,Q){if(this.referenceDefinition&&!_c(this.refMap)){var ee=vv(this.root,v-1),ce=vv(this.root,C+1);ee&&Fc(ee)&&ee!==D&&ee!==_&&(D=ee,v=D.sourcepos[0][0]),ce&&Fc(ce)&&ce!==D&&ce!==_&&(_=ce,C=this.extendEndLine(_.sourcepos[1][0]+Q))}return[D,_,v,C]},m.prototype.parse=function(v,C,D){D===void 0&&(D=0);var _=this.getNodeRange(v,C),Q=_[0],ee=_[1],ce=Q?Math.min(Q.sourcepos[0][0],v[0]):v[0],ze=this.extendEndLine((ee?Math.max(ee.sourcepos[1][0],C[0]):C[0])+D),Ue=this.parseRange.apply(this,this.getRangeWithRefDef(ce,ze,Q,ee,D)),dt=Ue.newNodes,gt=Ue.extStartNode,st=Ue.extEndNode,It=this.getRemovedNodeRange(gt,st),Lt=st?st.next:this.root.firstChild;return this.referenceDefinition?(this.markDeletedRefMap(gt,st),this.replaceRangeNodes(gt,st,dt),this.replaceWithNewRefDefState(dt)):this.replaceRangeNodes(gt,st,dt),{nodes:dt,removedNodeRange:It,nextNode:Lt}},m.prototype.parseRefLink=function(){var v=this,C=[];return _c(this.refMap)||fv(this.refMap,function(D,_){_.unlinked&&delete v.refMap[D],fv(v.refLinkCandidateMap,function(Q,ee){var ce=ee.node,ze=ee.refLabel;ze===D&&C.push(v.parse(ce.sourcepos[0],ce.sourcepos[1]))})}),C},m.prototype.removeUnlinkedCandidate=function(){_c(this.refDefCandidateMap)||[this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(v){fv(v,function(C){IX(C)&&delete v[C]})})},m.prototype.editMarkdown=function(v,C,D){var _=this.updateLineTexts(v,C,D),Q=this.parse(v,C,_),ee=aQ(Q,"nextNode");OX(Q.nextNode,_),this.updateRootNodeState();var ce=[ee];return this.referenceDefinition&&(this.removeUnlinkedCandidate(),this.replaceWithRefDefCandidate(),ce=ce.concat(this.parseRefLink())),this.trigger("change",ce),ce},m.prototype.getLineTexts=function(){return this.lineTexts},m.prototype.getRootNode=function(){return this.root},m.prototype.findNodeAtPosition=function(v){var C=RX(this.root,v);return!C||C===this.root?null:C},m.prototype.findFirstNodeAtLine=function(v){return LX(this.root,v)},m.prototype.on=function(v,C){this.eventHandlerMap[v].push(C)},m.prototype.off=function(v,C){var D=this.eventHandlerMap[v],_=D.indexOf(C);D.splice(_,1)},m.prototype.findNodeById=function(v){return Rw(v)},m.prototype.removeAllNode=function(){kJ()},m})(),_X=["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"],Pw=new RegExp("<(/?(?:"+_X.join("|")+")[^>]*>)","ig");function Bw(m){return Pw.test(m)?m.replace(Pw,function(v,C){return"&lt;"+C}):m}var Fw={heading:function(m,v){var C=v.entering;return{type:C?"openTag":"closeTag",tagName:"h"+m.level,outerNewLine:!0}},text:function(m){return{type:"text",content:m.literal}},softbreak:function(m,v){var C=v.options;return{type:"html",content:C.softbreak}},linebreak:function(){return{type:"html",content:`<br />
`}},emph:function(m,v){var C=v.entering;return{type:C?"openTag":"closeTag",tagName:"em"}},strong:function(m,v){var C=v.entering;return{type:C?"openTag":"closeTag",tagName:"strong"}},paragraph:function(m,v){var C,D=v.entering,_=(C=m.parent)===null||C===void 0?void 0:C.parent;return _&&_.type==="list"&&_.listData.tight?null:{type:D?"openTag":"closeTag",tagName:"p",outerNewLine:!0}},thematicBreak:function(){return{type:"openTag",tagName:"hr",outerNewLine:!0,selfClose:!0}},blockQuote:function(m,v){var C=v.entering;return{type:C?"openTag":"closeTag",tagName:"blockquote",outerNewLine:!0,innerNewLine:!0}},list:function(m,v){var C=v.entering,D=m.listData,_=D.type,Q=D.start,ee=_==="bullet"?"ul":"ol",ce={};return ee==="ol"&&Q!==null&&Q!==1&&(ce.start=Q.toString()),{type:C?"openTag":"closeTag",tagName:ee,attributes:ce,outerNewLine:!0}},item:function(m,v){var C=v.entering;return{type:C?"openTag":"closeTag",tagName:"li",outerNewLine:!0}},htmlInline:function(m,v){var C=v.options,D=C.tagFilter?Bw(m.literal):m.literal;return{type:"html",content:D}},htmlBlock:function(m,v){var C=v.options,D=C.tagFilter?Bw(m.literal):m.literal;return C.nodeId?[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:D},{type:"closeTag",tagName:"div",outerNewLine:!0}]:{type:"html",content:D,outerNewLine:!0}},code:function(m){return[{type:"openTag",tagName:"code"},{type:"text",content:m.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(m){var v=m.info,C=v?v.split(/\s+/):[],D=[];return C.length>0&&C[0].length>0&&D.push("language-"+Bc(C[0])),[{type:"openTag",tagName:"pre",outerNewLine:!0},{type:"openTag",tagName:"code",classNames:D},{type:"text",content:m.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre",outerNewLine:!0}]},link:function(m,v){var C=v.entering;if(C){var D=m,_=D.title,Q=D.destination;return{type:"openTag",tagName:"a",attributes:z({href:Bc(Q)},_&&{title:Bc(_)})}}return{type:"closeTag",tagName:"a"}},image:function(m,v){var C=v.getChildrenText,D=v.skipChildren,_=m,Q=_.title,ee=_.destination;return D(),{type:"openTag",tagName:"img",selfClose:!0,attributes:z({src:Bc(ee),alt:C(m)},Q&&{title:Bc(Q)})}},customBlock:function(m,v,C){var D=m.info.trim().toLowerCase(),_=C[D];if(_)try{return _(m,v)}catch(Q){console.warn("[@toast-ui/editor] - The error occurred when "+D+" block node was parsed in markdown renderer: "+Q)}return[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"text",content:m.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},frontMatter:function(m){return[{type:"openTag",tagName:"div",outerNewLine:!0,attributes:{style:"white-space: pre; display: none;"}},{type:"text",content:m.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},customInline:function(m,v,C){var D=m,_=D.info,Q=D.firstChild,ee=_.trim().toLowerCase(),ce=C[ee],ze=v.entering;if(ce)try{return ce(m,v)}catch(Ue){console.warn("[@toast-ui/editor] - The error occurred when "+ee+" inline node was parsed in markdown renderer: "+Ue)}return ze?[{type:"openTag",tagName:"span"},{type:"text",content:"$$"+_+(Q?" ":"")}]:[{type:"text",content:"$$"},{type:"closeTag",tagName:"span"}]}},_w={strike:function(m,v){var C=v.entering;return{type:C?"openTag":"closeTag",tagName:"del"}},item:function(m,v){var C=v.entering,D=m.listData,_=D.checked,Q=D.task;if(C){var ee={type:"openTag",tagName:"li",outerNewLine:!0};return Q?[ee,{type:"openTag",tagName:"input",selfClose:!0,attributes:z(z({},_&&{checked:""}),{disabled:"",type:"checkbox"})},{type:"text",content:" "}]:ee}return{type:"closeTag",tagName:"li",outerNewLine:!0}},table:function(m,v){var C=v.entering;return{type:C?"openTag":"closeTag",tagName:"table",outerNewLine:!0}},tableHead:function(m,v){var C=v.entering;return{type:C?"openTag":"closeTag",tagName:"thead",outerNewLine:!0}},tableBody:function(m,v){var C=v.entering;return{type:C?"openTag":"closeTag",tagName:"tbody",outerNewLine:!0}},tableRow:function(m,v){var C=v.entering;if(C)return{type:"openTag",tagName:"tr",outerNewLine:!0};var D=[];if(m.lastChild)for(var _=m.parent.parent.columns.length,Q=m.lastChild.endIdx,ee=Q+1;ee<_;ee+=1)D.push({type:"openTag",tagName:"td",outerNewLine:!0},{type:"closeTag",tagName:"td",outerNewLine:!0});return D.push({type:"closeTag",tagName:"tr",outerNewLine:!0}),D},tableCell:function(m,v){var C=v.entering;if(m.ignored)return{type:"text",content:""};var D=m.parent.parent,_=D.type==="tableHead"?"th":"td",Q=D.parent,ee=Q.columns[m.startIdx],ce=ee?.align?{align:ee.align}:null;return C?z({type:"openTag",tagName:_,outerNewLine:!0},ce&&{attributes:ce}):{type:"closeTag",tagName:_,outerNewLine:!0}}},qX={softbreak:`
`,gfm:!1,tagFilter:!1,nodeId:!1};function zX(m){for(var v=[],C=m.walker(),D=null;D=C.next();){var _=D.node;_.type==="text"&&v.push(_.literal)}return v.join("")}var HX=(function(){function m(v){this.buffer=[],this.options=z(z({},qX),v),this.convertors=this.createConvertors(),delete this.options.convertors}return m.prototype.createConvertors=function(){var v=z({},Fw);if(this.options.gfm&&(v=z(z({},v),_w)),this.options.convertors){var C=this.options.convertors,D=Object.keys(C),_=z(z({},Fw),_w);D.forEach(function(Q){var ee=v[Q],ce=C[Q],ze=Object.keys(_).indexOf(Q)===-1?Q.toLowerCase():Q;ee?v[ze]=function(Ue,dt,gt){return dt.origin=function(){return ee(Ue,dt,gt)},ce(Ue,dt)}:v[ze]=ce})}return v},m.prototype.getConvertors=function(){return this.convertors},m.prototype.getOptions=function(){return this.options},m.prototype.render=function(v){var C=this;this.buffer=[];for(var D=v.walker(),_=null,Q=function(){var ce=_.node,ze=_.entering,Ue=ee.convertors[ce.type];if(!Ue)return"continue";var dt=!1,gt={entering:ze,leaf:!Lg(ce),options:ee.options,getChildrenText:zX,skipChildren:function(){dt=!0}},st=aw(ce)||IJ(ce)?Ue(ce,gt,ee.convertors):Ue(ce,gt);if(st){var It=Array.isArray(st)?st:[st];It.forEach(function(Lt,hr){Lt.type==="openTag"&&C.options.nodeId&&hr===0&&(Lt.attributes||(Lt.attributes={}),Lt.attributes["data-nodeid"]=String(ce.id)),C.renderHTMLNode(Lt)}),dt&&(D.resumeAt(ce,!1),D.next())}},ee=this;_=D.next();)Q();return this.addNewLine(),this.buffer.join("")},m.prototype.renderHTMLNode=function(v){switch(v.type){case"openTag":case"closeTag":this.renderElementNode(v);break;case"text":this.renderTextNode(v);break;case"html":this.renderRawHtmlNode(v);break}},m.prototype.generateOpenTagString=function(v){var C=this,D=v.tagName,_=v.classNames,Q=v.attributes;this.buffer.push("<"+D),_&&_.length>0&&this.buffer.push(' class="'+_.join(" ")+'"'),Q&&Object.keys(Q).forEach(function(ee){var ce=Q[ee];C.buffer.push(" "+ee+'="'+ce+'"')}),v.selfClose&&this.buffer.push(" /"),this.buffer.push(">")},m.prototype.generateCloseTagString=function(v){var C=v.tagName;this.buffer.push("</"+C+">")},m.prototype.addNewLine=function(){this.buffer.length&&cv(cv(this.buffer))!==`
`&&this.buffer.push(`
`)},m.prototype.addOuterNewLine=function(v){v.outerNewLine&&this.addNewLine()},m.prototype.addInnerNewLine=function(v){v.innerNewLine&&this.addNewLine()},m.prototype.renderTextNode=function(v){this.buffer.push(Bc(v.content))},m.prototype.renderRawHtmlNode=function(v){this.addOuterNewLine(v),this.buffer.push(v.content),this.addOuterNewLine(v)},m.prototype.renderElementNode=function(v){v.type==="openTag"?(this.addOuterNewLine(v),this.generateOpenTagString(v),v.selfClose?this.addOuterNewLine(v):this.addInnerNewLine(v)):(this.addInnerNewLine(v),this.generateCloseTagString(v),this.addOuterNewLine(v))},m})(),VX=p(956),$X=p.n(VX),UX=p(969),qw=p.n(UX),WX=p(348),zw=p.n(WX),jX=p(349),Hw=p.n(jX),GX=p(204),Vw=p.n(GX),KX=p(462),Gg=p.n(KX),JX=p(522),$w=p.n(JX),QX=p(990),XX=p.n(QX),YX=p(322),ZX=p.n(YX),eY=p(758),tY=p.n(eY),rY=p(929),mv=p.n(rY),nY=p(714),iY=p.n(nY);p(471);var Uw="[A-Za-z][A-Za-z0-9-]*",aY="[a-zA-Z_:][a-zA-Z0-9:._-]*",oY="[^\"'=<>`\\x00-\\x20]+",sY="'[^']*'",lY='"[^"]*"',uY="(?:"+oY+"|"+sY+"|"+lY+")",cY="(?:\\s*=\\s*"+uY+")",Ww="(?:\\s+"+aY+cY+"?)",fY="<("+Uw+")("+Ww+")*\\s*/?>",dY="</("+Uw+")\\s*[>]",hY="(?:"+fY+"|"+dY+")",jw=new RegExp("^"+hY,"i");p(934),p(391);function Kg(m,v){return m.indexOf(v)!==-1}var pY=["rel","target","hreflang","type"];function vY(m){if(!m)return null;var v={};return pY.forEach(function(C){mv()(m[C])||(v[C]=m[C])}),v}function mY(m){return m[m.length-1]}function Jg(m){return typeof m=="object"&&m!==null}function Qg(m,v){var C=T({},m);return m&&v&&Object.keys(v).forEach(function(D){Jg(C[D])?Array.isArray(v[D])?C[D]=Xg(v[D]):C.hasOwnProperty(D)?C[D]=Qg(C[D],v[D]):C[D]=Yg(v[D]):C[D]=v[D]}),C}function Xg(m){return m.map(function(v){return Jg(v)?Array.isArray(v)?Xg(v):Yg(v):v})}function Yg(m){var v=Object.keys(m);return v.length?v.reduce(function(C,D){return Jg(m[D])?C[D]=Array.isArray(m[D])?Xg(m[D]):Yg(m[D]):C[D]=m[D],C},{}):m}function Gw(m,v){return v===void 0&&(v={}),Object.keys(v).forEach(function(C){m.hasOwnProperty(C)&&typeof m[C]=="object"?Array.isArray(v[C])?m[C]=v[C]:Gw(m[C],v[C]):m[C]=v[C]}),m}function Kw(m,v){return m>v?[v,m]:[m,v]}function gY(m,v,C){var D=parseInt(m.left,10),_=parseInt(m.top,10),Q=parseInt(m.width,10)+parseInt(m.paddingLeft,10)+parseInt(m.paddingRight,10),ee=parseInt(m.height,10)+parseInt(m.paddingTop,10)+parseInt(m.paddingBottom,10);return v>=D&&v<=D+Q&&C>=_&&C<=_+ee}var yY="toastui-editor-";function gv(){for(var m=[],v=0;v<arguments.length;v++)m[v]=arguments[v];for(var C=[],D=0,_=m;D<_.length;D++){var Q=_[D],ee=void 0;Array.isArray(Q)?ee=Q[0]?Q[1]:null:ee=Q,ee&&C.push(""+yY+ee)}return C.join(" ")}function Jw(m){m.parentNode&&m.parentNode.removeChild(m)}function Qw(m,v,C){mv()(C)&&(C=!iY()(m,v));var D=C?Vw():Gg();D(m,v)}function kY(m,v){var C=document.createElement("div");tY()(m)?C.innerHTML=m:C.appendChild(m);var D=C.firstChild;return D}function wY(m){var v=/<img class="ProseMirror-separator" alt="">/g,C=/ class="ProseMirror-trailingBreak"/g,D=m;return D=D.replace(v,""),D=D.replace(C,""),D}var bY=p(294),Xw=p.n(bY);function CY(m){return m.sourcepos[0][1]}function TY(m){switch(m.type){case"code":case"text":case"emph":case"strong":case"strike":case"link":case"image":case"htmlInline":case"linebreak":case"softbreak":case"customInline":return!0;default:return!1}}function SY(m,v,C){for(C===void 0&&(C=!0),m=C?m:m.parent;m&&m.type!=="document";){if(v(m))return m;m=m.parent}return null}function xY(m){var v=m.firstChild.literal;switch(m.type){case"emph":return"*"+v+"*";case"strong":return"**"+v+"**";case"strike":return"~~"+v+"~~";case"code":return"`"+v+"`";case"link":case"image":var C=m,D=C.destination,_=C.title,Q=m.type==="link"?"":"!";return Q+"["+v+"]("+D+(_?' "'+_+'"':"")+")";default:return null}}var EY={},Yw=/\$\$widget\d+\s/;function Zw(m){var v=m.search(Yw);if(v!==-1){var C=m.substring(v),D=C.replace(Yw,"").replace("$$","");m=m.substring(0,v),m+=Zw(D)}return m}function MY(m,v){var C=EY[m],D=C.rule,_=C.toDOM,Q=Zw(v).match(D);return Q&&(v=Q[0]),_(v)}function NY(m){for(var v,C="",D=m.walker();v=D.next();){var _=v.node,Q=v.entering;Q&&(_!==m&&_.type!=="text"?(C+=xY(_),D.resumeAt(m,!1),D.next()):_.type==="text"&&(C+=_.literal))}return C}var OY=p(368),DY=p.n(OY),AY=["iframe","embed"],e1=[];function LY(m){Kg(AY,m)&&e1.push(m.toLowerCase())}function RY(m,v){return DY().sanitize(m,T({ADD_TAGS:e1,ADD_ATTR:["rel","target","hreflang","type"],FORBID_TAGS:["input","script","textarea","form","button","select","meta","style","link","title","object","base"]},v))}function IY(m,v){return m.literal.replace(new RegExp("(<\\s*"+v+"[^>]*>)|(</"+v+"\\s*[>])","ig"),"").trim()}function PY(m){m=m.match(jw)[0];var v=m.match(new RegExp(Ww,"g"));return v?v.reduce(function(C,D){var _=D.trim().split("="),Q=_[0],ee=_.slice(1);return ee.length&&(C[Q]=ee.join("=").replace(/'|"/g,"").trim()),C},{}):{}}var BY=/^\s*<\s*\//,FY={paragraph:function(m,v){var C=v.entering,D=v.origin,_=v.options;return _.nodeId?{type:C?"openTag":"closeTag",outerNewLine:!0,tagName:"p"}:D()},softbreak:function(m){var v=m.prev&&m.prev.type==="htmlInline",C=v&&/<br ?\/?>/.test(m.prev.literal),D=C?`
`:`<br>
`;return{type:"html",content:D}},item:function(m,v){var C=v.entering;if(C){var D={},_=[];return m.listData.task&&(D["data-task"]="",_.push("task-list-item"),m.listData.checked&&(_.push("checked"),D["data-task-checked"]="")),{type:"openTag",tagName:"li",classNames:_,attributes:D,outerNewLine:!0}}return{type:"closeTag",tagName:"li",outerNewLine:!0}},code:function(m){var v={"data-backticks":String(m.tickCount)};return[{type:"openTag",tagName:"code",attributes:v},{type:"text",content:m.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(m){var v=m,C=v.fenceLength,D=v.info,_=D?D.split(/\s+/):[],Q=[],ee={};if(C>3&&(ee["data-backticks"]=C),_.length>0&&_[0].length>0){var ce=_[0];Q.push("lang-"+ce),ee["data-language"]=ce}return[{type:"openTag",tagName:"pre",classNames:Q},{type:"openTag",tagName:"code",attributes:ee},{type:"text",content:m.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]},customInline:function(m,v){var C=v.origin,D=v.entering,_=v.skipChildren,Q=m.info;if(Q.indexOf("widget")!==-1&&D){_();var ee=NY(m),ce=MY(Q,ee).outerHTML;return[{type:"openTag",tagName:"span",classNames:["tui-widget"]},{type:"html",content:ce},{type:"closeTag",tagName:"span"}]}return C()}};function _Y(m,v){var C=T({},FY);return m&&(C.link=function(D,_){var Q=_.entering,ee=_.origin,ce=ee();return Q&&(ce.attributes=T(T({},ce.attributes),m)),ce}),v&&Object.keys(v).forEach(function(D){var _=C[D],Q=v[D];_&&Xw()(Q)?C[D]=function(ee,ce){var ze=T({},ce);return ze.origin=function(){return _(ee,ce)},Q(ee,ze)}:Kg(["htmlBlock","htmlInline"],D)&&!Xw()(Q)?C[D]=function(ee,ce){var ze=ee.literal.match(jw);if(ze){var Ue=ze[0],dt=ze[1],gt=ze[3],st=(dt||gt).toLowerCase(),It=Q[st],Lt=IY(ee,st);if(It){var hr=T({},ee);return hr.attrs=PY(Ue),hr.childrenHTML=Lt,hr.type=st,ce.entering=!BY.test(ee.literal),It(hr,ce)}}return ce.origin()}:C[D]=Q}),C}var qY=["UL","OL","BLOCKQUOTE"];function zY(m,v){for(var C=0;m&&m!==v&&(Kg(qY,m.tagName)||(C+=m.offsetTop),m.offsetParent!==v.offsetParent);)m=m.parentElement;return C}function HY(m,v){for(var C=v,D=null;C;){var _=C.firstElementChild;if(!_)break;var Q=t1(_,m,zY(C,v));D=C,C=Q}var ee=C||D;return ee===v?null:ee}function t1(m,v,C){return m&&v>C+m.offsetTop?t1(m.nextElementSibling,v,C)||m:null}var VY={};function Zg(m){m&&(delete VY[Number(m.getAttribute("data-nodeid"))],XX()(m.children).forEach(function(v){Zg(v)}))}var ey=gv("md-preview-highlight");function $Y(m,v){for(var C=m.firstChild;C&&C.next&&!(CY(C.next)>v+1);)C=C.next;return C}var UY=(function(){function m(v,C){var D=document.createElement("div");this.el=D,this.eventEmitter=v,this.isViewer=!!C.isViewer,this.el.className=gv("md-preview");var _=C.linkAttributes,Q=C.customHTMLRenderer,ee=C.sanitizer,ce=C.highlight,ze=ce===void 0?!1:ce;this.renderer=new HX({gfm:!0,nodeId:!0,convertors:_Y(_,Q)}),this.cursorNodeId=null,this.sanitizer=ee,this.initEvent(ze),this.initContentSection(),this.isViewer&&(this.previewContent.style.overflowWrap="break-word")}return m.prototype.initContentSection=function(){this.previewContent=kY('<div class="'+gv("contents")+'"></div>'),this.isViewer||this.el.appendChild(this.previewContent)},m.prototype.toggleActive=function(v){Qw(this.el,"active",v)},m.prototype.initEvent=function(v){var C=this;this.eventEmitter.listen("updatePreview",this.update.bind(this)),!this.isViewer&&(v&&(this.eventEmitter.listen("changeToolbarState",function(D){var _=D.mdNode,Q=D.cursorPos;C.updateCursorNode(_,Q)}),this.eventEmitter.listen("blur",function(){C.removeHighlight()})),zw()(this.el,"scroll",function(D){C.eventEmitter.emit("scroll","preview",HY(D.target.scrollTop,C.previewContent))}),this.eventEmitter.listen("changePreviewTabPreview",function(){return C.toggleActive(!0)}),this.eventEmitter.listen("changePreviewTabWrite",function(){return C.toggleActive(!1)}))},m.prototype.removeHighlight=function(){if(this.cursorNodeId){var v=this.getElementByNodeId(this.cursorNodeId);v&&Gg()(v,ey)}},m.prototype.updateCursorNode=function(v,C){v&&(v=SY(v,function(ee){return!TY(ee)}),v.type==="tableRow"?v=$Y(v,C[1]):v.type==="tableBody"&&(v=null));var D=v?v.id:null;if(this.cursorNodeId!==D){var _=this.getElementByNodeId(this.cursorNodeId),Q=this.getElementByNodeId(D);_&&Gg()(_,ey),Q&&Vw()(Q,ey),this.cursorNodeId=D}},m.prototype.getElementByNodeId=function(v){return v?this.previewContent.querySelector('[data-nodeid="'+v+'"]'):null},m.prototype.update=function(v){var C=this;v.forEach(function(D){return C.replaceRangeNodes(D)}),this.eventEmitter.emit("afterPreviewRender",this)},m.prototype.replaceRangeNodes=function(v){var C=this,D=v.nodes,_=v.removedNodeRange,Q=this.previewContent,ee=this.eventEmitter.emitReduce("beforePreviewRender",this.sanitizer(D.map(function(Lt){return C.renderer.render(Lt)}).join("")));if(!_)Q.insertAdjacentHTML("afterbegin",ee);else{var ce=_.id,ze=ce[0],Ue=ce[1],dt=this.getElementByNodeId(ze),gt=this.getElementByNodeId(Ue);if(dt){dt.insertAdjacentHTML("beforebegin",ee);for(var st=dt;st&&st!==gt;){var It=st.nextElementSibling;Jw(st),Zg(st),st=It}st?.parentNode&&(Jw(st),Zg(st))}}},m.prototype.getRenderer=function(){return this.renderer},m.prototype.destroy=function(){Hw()(this.el,"scroll"),this.el=null},m.prototype.getElement=function(){return this.el},m.prototype.getHTML=function(){return wY(this.previewContent.innerHTML)},m.prototype.setHTML=function(v){this.previewContent.innerHTML=v},m.prototype.setHeight=function(v){$w()(this.el,{height:v+"px"})},m.prototype.setMinHeight=function(v){$w()(this.el,{minHeight:v+"px"})},m})(),WY=UY,yv=p(814),ty=p(479),r1=p(311),jY=p(481),GY=p(43),KY=p(928),JY=p.n(KY),QY=(function(){function m(){this.keys=[],this.values=[]}return m.prototype.getKeyIndex=function(v){return JY()(v,this.keys)},m.prototype.get=function(v){return this.values[this.getKeyIndex(v)]},m.prototype.set=function(v,C){var D=this.getKeyIndex(v);return D>-1?this.values[D]=C:(this.keys.push(v),this.values.push(C)),this},m.prototype.has=function(v){return this.getKeyIndex(v)>-1},m.prototype.delete=function(v){var C=this.getKeyIndex(v);return C>-1?(this.keys.splice(C,1),this.values.splice(C,1),!0):!1},m.prototype.forEach=function(v,C){var D=this;C===void 0&&(C=this),this.values.forEach(function(_,Q){_&&D.keys[Q]&&v.call(C,_,D.keys[Q],D)})},m.prototype.clear=function(){this.keys=[],this.values=[]},m})(),n1=QY,ry="en-US",XY=(function(){function m(){this.code=ry,this.langs=new n1}return m.prototype.setCode=function(v){this.code=v||ry},m.prototype.setLanguage=function(v,C){var D=this;v=[].concat(v),v.forEach(function(_){if(!D.langs.has(_))D.langs.set(_,C);else{var Q=D.langs.get(_);D.langs.set(_,qw()(Q,C))}})},m.prototype.get=function(v,C){C||(C=this.code);var D=this.langs.get(C);D||(D=this.langs.get(ry));var _=D[v];if(!_)throw new Error('There is no text key "'+v+'" in '+C);return _},m})(),YY=new XY;function ZY(m,v){for(var C=m.depth;C;){var D=m.node(C);if(v(D,C))return{node:D,depth:C,offset:C>0?m.before(C):0};C-=1}return null}var i1=new Map,a1=(function(){function m(v,C,D,_){this.table=v,this.tableRows=C,this.tableStartPos=D,this.rowInfo=_}return m.create=function(v){var C=ZY(v,function(Lt){var hr=Lt.type;return hr.name==="table"});if(C){var D=C.node,_=C.depth,Q=C.offset,ee=i1.get(D);if(ee?.tableStartPos===Q+1)return ee;var ce=[],ze=v.start(_),Ue=D.child(0),dt=D.child(1),gt=ny(Ue,ze),st=ny(dt,ze+Ue.nodeSize);Ue.forEach(function(Lt){return ce.push(Lt)}),dt.forEach(function(Lt){return ce.push(Lt)});var It=new m(D,ce,ze,gt.concat(st));return i1.set(D,It),It}return null},Object.defineProperty(m.prototype,"totalRowCount",{get:function(){return this.rowInfo.length},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"totalColumnCount",{get:function(){return this.rowInfo[0].length},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"tableStartOffset",{get:function(){return this.tableStartPos},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"tableEndOffset",{get:function(){return this.tableStartPos+this.table.nodeSize-1},enumerable:!1,configurable:!0}),m.prototype.getCellInfo=function(v,C){return this.rowInfo[v][C]},m.prototype.posAt=function(v,C){for(var D=0,_=this.tableStartPos;;D+=1){var Q=_+this.tableRows[D].nodeSize;if(D===v){for(var ee=C;ee<this.totalColumnCount&&this.rowInfo[D][ee].offset<_;)ee+=1;return ee===this.totalColumnCount?Q:this.rowInfo[D][ee].offset}_=Q}},m.prototype.getNodeAndPos=function(v,C){var D=this.rowInfo[v][C];return{node:this.table.nodeAt(D.offset-this.tableStartOffset),pos:D.offset}},m.prototype.extendedRowspan=function(v,C){return!1},m.prototype.extendedColspan=function(v,C){return!1},m.prototype.getRowspanCount=function(v,C){return 0},m.prototype.getColspanCount=function(v,C){return 0},m.prototype.decreaseColspanCount=function(v,C){return 0},m.prototype.decreaseRowspanCount=function(v,C){return 0},m.prototype.getColspanStartInfo=function(v,C){return null},m.prototype.getRowspanStartInfo=function(v,C){return null},m.prototype.getCellStartOffset=function(v,C){var D=this.rowInfo[v][C].offset;return this.extendedRowspan(v,C)?this.posAt(v,C):D},m.prototype.getCellEndOffset=function(v,C){var D=this.rowInfo[v][C],_=D.offset,Q=D.nodeSize;return this.extendedRowspan(v,C)?this.posAt(v,C):_+Q},m.prototype.getCellIndex=function(v){for(var C=0;C<this.totalRowCount;C+=1)for(var D=this.rowInfo[C],_=0;_<this.totalColumnCount;_+=1)if(D[_].offset+1>v.pos)return[C,_];return[0,0]},m.prototype.getRectOffsets=function(v,C){var D,_,Q;C===void 0&&(C=v),v.pos>C.pos&&(D=[C,v],v=D[0],C=D[1]);var ee=this.getCellIndex(v),ce=ee[0],ze=ee[1],Ue=this.getCellIndex(C),dt=Ue[0],gt=Ue[1];return _=Kw(ce,dt),ce=_[0],dt=_[1],Q=Kw(ze,gt),ze=Q[0],gt=Q[1],this.getSpannedOffsets({startRowIdx:ce,startColIdx:ze,endRowIdx:dt,endColIdx:gt})},m.prototype.getSpannedOffsets=function(v){return v},m})(),ny=function(m,v){var C=[];return m.forEach(function(D,_){var Q={rowspanMap:{},colspanMap:{},length:0};D.forEach(function(ee,ce){for(var ze=ee.nodeSize,Ue=0;Q[Ue];)Ue+=1;Q[Ue]={offset:v+_+ce+2,nodeSize:ze},Q.length+=1}),C.push(Q)}),C};function eZ(m,v){return Gw(a1.prototype,m),ny=v,a1}function tZ(m){var v=m.plugin,C=m.eventEmitter,D=m.usageStatistics,_=m.instance,Q={Plugin:yv.Plugin,PluginKey:yv.PluginKey,Selection:yv.Selection,TextSelection:yv.TextSelection},ee={Decoration:r1.Decoration,DecorationSet:r1.DecorationSet},ce={Fragment:GY.Fragment},ze={InputRule:ty.InputRule,inputRules:ty.inputRules,undoInputRule:ty.undoInputRule},Ue={keymap:jY.keymap},dt={eventEmitter:C,usageStatistics:D,instance:_,pmState:Q,pmView:ee,pmModel:ce,pmRules:ze,pmKeymap:Ue,i18n:YY};if(ZX()(v)){var gt=v[0],st=v[1],It=st===void 0?{}:st;return gt(dt,It)}return v(dt)}function rZ(m){var v=m.plugins,C=m.eventEmitter,D=m.usageStatistics,_=m.instance;return C.listen("mixinTableOffsetMapPrototype",eZ),(v??[]).reduce(function(Q,ee){var ce=tZ({plugin:ee,eventEmitter:C,usageStatistics:D,instance:_});if(!ce)throw new Error("The return value of the executed plugin is empty.");var ze=ce.markdownParsers,Ue=ce.toHTMLRenderers,dt=ce.toMarkdownRenderers,gt=ce.markdownPlugins,st=ce.wysiwygPlugins,It=ce.wysiwygNodeViews,Lt=ce.markdownCommands,hr=ce.wysiwygCommands,an=ce.toolbarItems;return Ue&&(Q.toHTMLRenderers=Qg(Q.toHTMLRenderers,Ue)),dt&&(Q.toMarkdownRenderers=Qg(Q.toMarkdownRenderers,dt)),gt&&(Q.mdPlugins=Q.mdPlugins.concat(gt)),st&&(Q.wwPlugins=Q.wwPlugins.concat(st)),It&&(Q.wwNodeViews=T(T({},Q.wwNodeViews),It)),Lt&&(Q.mdCommands=T(T({},Q.mdCommands),Lt)),hr&&(Q.wwCommands=T(T({},Q.wwCommands),hr)),an&&(Q.toolbarItems=Q.toolbarItems.concat(an)),ze&&(Q.markdownParsers=T(T({},Q.markdownParsers),ze)),Q},{toHTMLRenderers:{},toMarkdownRenderers:{},mdPlugins:[],wwPlugins:[],wwNodeViews:{},mdCommands:{},wwCommands:{},toolbarItems:[],markdownParsers:{}})}var nZ=p(404),iZ=p.n(nZ),o1=["afterPreviewRender","updatePreview","changeMode","needChangeMode","command","changePreviewStyle","changePreviewTabPreview","changePreviewTabWrite","scroll","contextmenu","show","hide","changeLanguage","changeToolbarState","toggleScrollSync","mixinTableOffsetMapPrototype","setFocusedNode","removePopupWidget","query","openPopup","closePopup","addImageBlobHook","beforePreviewRender","beforeConvertWysiwygToMarkdown","load","loadUI","change","caretChange","destroy","focus","blur","keydown","keyup"],aZ=(function(){function m(){var v=this;this.events=new n1,this.eventTypes=o1.reduce(function(C,D){return T(T({},C),{type:D})},{}),this.hold=!1,o1.forEach(function(C){v.addEventType(C)})}return m.prototype.listen=function(v,C){var D=this.getTypeInfo(v),_=this.events.get(D.type)||[];if(!this.hasEventType(D.type))throw new Error("There is no event type "+D.type);D.namespace&&(C.namespace=D.namespace),_.push(C),this.events.set(D.type,_)},m.prototype.emit=function(v){for(var C=[],D=1;D<arguments.length;D++)C[D-1]=arguments[D];var _=this.getTypeInfo(v),Q=this.events.get(_.type),ee=[];return!this.hold&&Q&&Q.forEach(function(ce){var ze=ce.apply(void 0,C);mv()(ze)||ee.push(ze)}),ee},m.prototype.emitReduce=function(v,C){for(var D=[],_=2;_<arguments.length;_++)D[_-2]=arguments[_];var Q=this.events.get(v);return!this.hold&&Q&&Q.forEach(function(ee){var ce=ee.apply(void 0,N([C],D));iZ()(ce)||(C=ce)}),C},m.prototype.getTypeInfo=function(v){var C=v.split(".");return{type:C[0],namespace:C[1]}},m.prototype.hasEventType=function(v){return!mv()(this.eventTypes[this.getTypeInfo(v).type])},m.prototype.addEventType=function(v){if(this.hasEventType(v))throw new Error("There is already have event type "+v);this.eventTypes[v]=v},m.prototype.removeEventHandler=function(v,C){var D=this,_=this.getTypeInfo(v),Q=_.type,ee=_.namespace;Q&&C?this.removeEventHandlerWithHandler(Q,C):Q&&!ee?this.events.delete(Q):!Q&&ee?this.events.forEach(function(ce,ze){D.removeEventHandlerWithTypeInfo(ze,ee)}):Q&&ee&&this.removeEventHandlerWithTypeInfo(Q,ee)},m.prototype.removeEventHandlerWithHandler=function(v,C){var D=this.events.get(v);if(D){var _=D.indexOf(C);D.indexOf(C)>=0&&D.splice(_,1)}},m.prototype.removeEventHandlerWithTypeInfo=function(v,C){var D=[],_=this.events.get(v);_&&(_.map(function(Q){return Q.namespace!==C&&D.push(Q),null}),this.events.set(v,D))},m.prototype.getEvents=function(){return this.events},m.prototype.holdEventInvoke=function(v){this.hold=!0,v(),this.hold=!1},m})(),oZ=aZ,sZ="data-task",lZ="data-task-disabled",uZ="checked";function cZ(m){["htmlBlock","htmlInline"].forEach(function(v){m[v]&&Object.keys(m[v]).forEach(function(C){return LY(C)})})}var fZ=(function(){function m(v){var C=this;this.options=qw()({linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,usageStatistics:!0,theme:"light"},v),this.eventEmitter=new oZ;var D=vY(this.options.linkAttributes),_=rZ({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this})||{},Q=_.toHTMLRenderers,ee=_.markdownParsers,ce=this.options,ze=ce.customHTMLRenderer,Ue=ce.extendedAutolinks,dt=ce.referenceDefinition,gt=ce.frontMatter,st=ce.customHTMLSanitizer,It={linkAttributes:D,customHTMLRenderer:T(T({},Q),ze),extendedAutolinks:Ue,referenceDefinition:dt,frontMatter:gt,sanitizer:st||RY};cZ(It.customHTMLRenderer),this.options.events&&$X()(this.options.events,function(ba,ca){C.on(ca,ba)});var Lt=this.options,hr=Lt.el,an=Lt.initialValue,Ln=Lt.theme,ys=hr.innerHTML;Ln!=="light"&&hr.classList.add(gv(Ln)),hr.innerHTML="",this.toastMark=new FX("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:Ue,referenceDefinition:dt,disallowDeepHeading:!0,frontMatter:gt,customParser:ee}),this.preview=new WY(this.eventEmitter,T(T({},It),{isViewer:!0})),zw()(this.preview.previewContent,"mousedown",this.toggleTask.bind(this)),an?this.setMarkdown(an):ys&&this.preview.setHTML(ys),hr.appendChild(this.preview.previewContent),this.eventEmitter.emit("load",this)}return m.prototype.toggleTask=function(v){var C=v.target,D=getComputedStyle(C,":before");!C.hasAttribute(lZ)&&C.hasAttribute(sZ)&&gY(D,v.offsetX,v.offsetY)&&(Qw(C,uZ),this.eventEmitter.emit("change",{source:"viewer",date:v}))},m.prototype.setMarkdown=function(v){var C=this.toastMark.getLineTexts(),D=C.length,_=mY(C),Q=[D,_.length+1],ee=this.toastMark.editMarkdown([1,1],Q,v||"");this.eventEmitter.emit("updatePreview",ee)},m.prototype.on=function(v,C){this.eventEmitter.listen(v,C)},m.prototype.off=function(v){this.eventEmitter.removeEventHandler(v)},m.prototype.addHook=function(v,C){this.eventEmitter.removeEventHandler(v),this.eventEmitter.listen(v,C)},m.prototype.destroy=function(){Hw()(this.preview.el,"mousedown",this.toggleTask.bind(this)),this.preview.destroy(),this.eventEmitter.emit("destroy")},m.prototype.isViewer=function(){return!0},m.prototype.isMarkdownMode=function(){return!1},m.prototype.isWysiwygMode=function(){return!1},m})(),dZ=fZ,hZ=dZ})(),y=y.default,y})()})})(Jy)),Jy.exports}var b9e=w9e();const C9e=HT(b9e);/**
 * TOAST UI Editor : React Wrapper
 * @version 3.2.3 | Fri Feb 17 2023
 * @author NHN Cloud FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var z0=function(r,e){return z0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},z0(r,e)};function cM(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");z0(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var gf=function(){return gf=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},gf.apply(this,arguments)},T9e=(function(r){cM(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.rootEl=Yc.createRef(),t}return e.prototype.getRootElement=function(){return this.rootEl.current},e.prototype.getInstance=function(){return this.editorInst},e.prototype.getBindingEventNames=function(){var t=this;return Object.keys(this.props).filter(function(n){return/^on[A-Z][a-zA-Z]+/.test(n)}).filter(function(n){return t.props[n]})},e.prototype.bindEventHandlers=function(t){var n=this;this.getBindingEventNames().forEach(function(i){var a=i[2].toLowerCase()+i.slice(3);n.editorInst.off(a),n.editorInst.on(a,t[i])})},e.prototype.getInitEvents=function(){var t=this;return this.getBindingEventNames().reduce(function(n,i){var a=i[2].toLowerCase()+i.slice(3);return n[a]=t.props[i],n},{})},e.prototype.componentDidMount=function(){this.editorInst=new p9e(gf(gf({el:this.rootEl.current},this.props),{events:this.getInitEvents()}))},e.prototype.shouldComponentUpdate=function(t){var n=this.getInstance(),i=t.height,a=t.previewStyle;return i&&this.props.height!==i&&n.setHeight(i),a&&this.props.previewStyle!==a&&n.changePreviewStyle(a),this.bindEventHandlers(t),!1},e.prototype.render=function(){return Yc.createElement("div",{ref:this.rootEl})},e})(Yc.Component);(function(r){cM(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.rootEl=Yc.createRef(),t}return e.prototype.getRootElement=function(){return this.rootEl.current},e.prototype.getInstance=function(){return this.viewerInst},e.prototype.getBindingEventNames=function(){var t=this;return Object.keys(this.props).filter(function(n){return/^on[A-Z][a-zA-Z]+/.test(n)}).filter(function(n){return t.props[n]})},e.prototype.bindEventHandlers=function(t){var n=this;this.getBindingEventNames().forEach(function(i){var a=i[2].toLowerCase()+i.slice(3);n.viewerInst.off(a),n.viewerInst.on(a,t[i])})},e.prototype.getInitEvents=function(){var t=this;return this.getBindingEventNames().reduce(function(n,i){var a=i[2].toLowerCase()+i.slice(3);return n[a]=t.props[i],n},{})},e.prototype.componentDidMount=function(){this.viewerInst=new C9e(gf(gf({el:this.rootEl.current},this.props),{events:this.getInitEvents()}))},e.prototype.shouldComponentUpdate=function(t){return this.bindEventHandlers(t),!1},e.prototype.render=function(){return Yc.createElement("div",{ref:this.rootEl})},e})(Yc.Component);function S9e(){const r=V0.useRef(),e=()=>{const n=r.current.getInstance().getMarkdown();alert(n)};return hu.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-10",children:hu.jsxs("div",{className:"bg-white shadow-xl rounded-2xl p-6 w-full max-w-4xl",children:[hu.jsx("h1",{className:"text-2xl font-bold mb-4",children:"TUI Web Editor + React"}),hu.jsx(T9e,{ref:r,initialValue:"   ",previewStyle:"vertical",height:"400px",initialEditType:"markdown",useCommandShortcut:!0}),hu.jsx("button",{onClick:e,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:""})]})})}TZ.createRoot(document.getElementById("root")).render(hu.jsx(V0.StrictMode,{children:hu.jsx(S9e,{})}));
